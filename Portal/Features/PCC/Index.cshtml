@{
    ViewData["Title"] = "Control Center";
}




@section styles {


    <link rel="stylesheet" href="~/css/detail-page.css" />
    <link rel="stylesheet" href="~/css/project-details/custom.css" />

   

    <link rel="stylesheet" href="~/css/rfi-details/tapstrip.css" />
    <link href="~/css/project-details/switch-styles.css" rel="stylesheet" />
    <link href="~/css/project-details/messaging.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/pcc/index.css" />

    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
}






<div class="page-header">
    <h3>Project Control Center</h3>
    <div class="clssearch" id="dvclssearch">
        <span id="spntime"></span>
    </div>
</div>


<div class="page-headermap">
    <h3>- Active Project Map</h3>
    <div class="clssearch">

        <span style="margin-left:20px; cursor:pointer;" id="allActiveMapFilter" class="filter" name="">All</span>


        <span style="margin-left:10px; cursor:pointer;" id="greenActiveMapFilter" name="green" class="alert-table-icon green filter"></span>
        <span style="margin-left:10px; cursor:pointer;" id="yellowActiveMapFilter" name="yellow" class="alert-table-icon yellow filter"></span>
        <span style="margin-left:10px;margin-right:10px; cursor:pointer;" id="redActiveMapFilter" name="red" class="alert-table-icon red filter"></span>
        <input type="text" placeholder="Enter Search Item" class="txtsrc" id="searchMapFilter" />
    </div>
</div>



<div class="control-center-top">
    <div class="left">
        <div class="container--tabs">
            <div class="tab-content">
                <div id="tab-alerts" class="tab-pane active">
                    <div id="activemap-grid" data-selectable="true"></div>
                </div>

                <div>
                    <div>

                        <input type="checkbox" id="checklayer" class="">
                        <label for="checklayer">Show Layer</label>
                    </div>
                    <div class="form-element right-end" id="dvlayer" style="display:none;">


                        <input id="layer-type" type="text" name="layer-type">
                    </div>


                </div>

            </div>
        </div>

    </div>



    <div class="right" style="width:70% !important;">



        <div id="map" style="position: fixed;overflow: hidden;"></div>


    </div>
</div>

</div>

<div id="chartsection">

    <div class="page-headermap" style="margin-top: 13px;">
        <h3>- Performance</h3>
    </div>


    <div class="control-center-top">
        <div class="left" style="width:20% !important;">
            <div class="container--tabs">
                <div class="tab-content">
                    <div id="tab-alerts" class="tab-pane active">
                        
                        <div id="projectHealthChart"></div>
                        <div class="inner-content"></div>
                    </div>

                </div>
            </div>
        </div>

        <div class="left" style="width:20% !important;">
            <div class="container--tabs">
                <div class="tab-content">
                    <div id="tab-alerts" class="tab-pane active">
                        <div id="projectStatusChart"></div>
                    </div>
                </div>
            </div>
        </div>



        <div class="left" style="width:20% !important;">
            <div class="container--tabs">
                <div class="tab-content">
                    <div id="tab-alerts" class="tab-pane active">

                        <div id="projectPhaseChart"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="left" style="width:20% !important;">
            <div class="container--tabs">
                <div class="tab-content">
                    <div id="tab-alerts" class="tab-pane active">
                        <div id="projectUnassignChart"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="left" style="width:20% !important;">
            <div class="container--tabs">
                <div class="tab-content">
                    <div id="tab-alerts" class="tab-pane active">
                        <div id="projectProjectOnTimeChart"></div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>


<div class="project-items-container" style="display:none;">
    <div class="container--tabs">
        <ul class="nav-tabs">
            <li class="closesummery">
                <a href='#' class='close-button' id="closesummery" name="">×</a>
                <h4 id="TitleSummary">Project Summary</h4>

            </li>
            <a style="position: absolute;right: 9px;color:#fff;font-size:15px;top:6px; cursor:pointer" id="sendMsg"><i class="fa fa-envelope"></i></a>
        </ul>


        <div class="tab-content">
            <div id="emailBox" style="display: none;">
                <div class="top-area">
                </div>
                <div id="emailBody">

                </div>
            </div>
            <div id="tab-project-summary" class="tab-pane active">
                <div class="project-components-container">
                    <div style="width:100%; margin-top: 10px; margin-bottom: 10px">
                        <div style="display: flex">
                            <div class="item-border" style="margin-bottom:10px;width:33%">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="height:27px">
                                        <h4 style="color: white">Element</h4>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="document-summary-grid"></div>
                                </div>
                            </div>
                            <div class="item-border" style="margin-bottom: 10px; width:33%">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="height:27px">
                                        <h4 style="color: white">Financial</h4>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="financial-summary-grid"></div>
                                </div>
                            </div>
                            <div class="item-border" style="margin-bottom: 10px; margin-left: 10px; width:33%">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="height:27px">
                                        <h4 style="color: white">Schedule</h4>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="schedule-summary-grid"></div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div id="documentDetailsGrid" class="item-border">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="height:27px; justify-content: initial;padding-right:0px">
                                        <div style="width:70%">
                                            <h4 id="documentDetailTitle" style="color: white;">Details:</h4>
                                        </div>
                                        <div style="position:absolute;right:36px;display:flex">


                                        </div>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="document-details-grid"></div>
                                </div>
                            </div>





                            <div id="actionDetailsGrid" class="item-border" style="display:none">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="        height: 27px;
        justify-content: initial;
        padding-right: 0px">
                                        <div style="width:70%">
                                            <h4 id="actionDetailTitle" style="color: white;">Details:</h4>
                                        </div>
                                        <div style="position:absolute;right:36px;display:flex">


                                        </div>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="action-details-grid"></div>
                                </div>
                            </div>
                            <div id="fieldReportsDetailsGrid" class="item-border" style="display:none">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="        height: 27px;
        justify-content: initial;
        padding-right: 0px">
                                        <div style="width:70%">
                                            <h4 id="fieldReportsDetailTitle" style="color: white;">Details:</h4>
                                        </div>
                                        <div style="position:absolute;right:36px;display:flex">
                                            <h4 style="        color: white;
        cursor: pointer;" id="allActionFilter">
                                                All
                                            </h4>
                                            <p>
                                                <span style="margin-left:20px; cursor:pointer;" id="greenfieldReportsFilter" class="alert-table-icon green"></span>
                                                <span style="margin-left:20px; cursor:pointer;" id="yellowfieldReportsFilter" class="alert-table-icon yellow"></span>
                                                <span style="margin-left:20px; cursor:pointer;" id="redfieldReportsFilter" class="alert-table-icon red"></span>
                                            </p>
                                            <div style="display:inline-block; position:relative">
                                                <input id="searchActionFilter" type="text" name="search" placeholder="Enter Search Item" style="height:23px;margin-top:8px;margin-left:20px">
                                                <span class="fa fa-search" style="position: absolute;right:4px;padding-top:13px"></span>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="fieldReports-details-grid"></div>
                                </div>
                            </div>
                            <div id="purchaseOrderDetailsGrid" class="item-border" style="display:none">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="        height: 27px;
        justify-content: initial;
        padding-right: 0px">
                                        <div style="width:70%">
                                            <h4 id="purchaseOrderDetailTitle" style="color: white;">Details:</h4>
                                        </div>
                                        <div style="position:absolute;right:36px;display:flex">
                                            <h4 style="        color: white;
        cursor: pointer;" id="allpurchaseOrderFilter">
                                                All
                                            </h4>
                                            <p>
                                                <span style="margin-left:20px; cursor:pointer;" id="greenpurchaseOrderFilter" class="alert-table-icon green"></span>
                                                <span style="margin-left:20px; cursor:pointer;" id="yellowpurchaseOrderFilter" class="alert-table-icon yellow"></span>
                                                <span style="margin-left:20px; cursor:pointer;" id="redpurchaseOrderFilter" class="alert-table-icon red"></span>
                                            </p>
                                            <div style="display:inline-block; position:relative">
                                                <input id="searchpurchaseOrderFilter" type="text" name="search" placeholder="Enter Search Item" style="height:23px;margin-top:8px;margin-left:20px">
                                                <span class="fa fa-search" style="position: absolute;right:4px;padding-top:13px"></span>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="purchaseOrder-details-grid"></div>
                                </div>
                            </div>
                            <div id="financialDetailsGrid" class="item-border" style="display:none">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="height:27px; justify-content: initial;padding-right:0px">
                                        <div style="width:70%">
                                            <h4 id="financialDetailTitle" style="color: white;">Details:</h4>
                                        </div>
                                        <div style="position: absolute; right: 36px; display: flex">


                                        </div>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="financial-details-grid"></div>
                                </div>
                            </div>
                            <div id="budgetDetailsGrid" class="item-border" style="display:none">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="        height: 27px;
        justify-content: initial;
        padding-right: 0px">
                                        <div style="width:70%">
                                            <h4 id="budgetDetailTitle" style="color: white;">Details111:h4>
                                        </div>
                                        <div style="position:absolute;right:36px;display:flex">


                                            <div style="display:inline-block; position:relative">
                                                <input id="searchBudgetFilter" type="text" name="search" placeholder="Enter Search Item" style="height:23px;margin-top:8px;margin-left:20px">
                                                <span class="fa fa-search" style="position: absolute;right:4px;padding-top:13px"></span>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="budget-details-grid"></div>
                                </div>
                            </div>
                            <div id="scheduleDetailsGrid" class="item-border" style="display:none">
                                <div class="grid-item">
                                    <div class="grid-item-header" style="height:27px; justify-content: initial;padding-right:0px">
                                        <div style="width:70%">
                                            <h4 id="scheduleDetailTitle" style="color: white;">Details:</h4>
                                        </div>
                                        <div style="position:absolute;right:36px;display:flex">





                                        </div>
                                    </div>
                                </div>
                                <div class="grid-item-content">
                                    <div id="schedule-details-grid"></div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div id="detailPanel" style="display: none;z-index:2;position:absolute;right:0px; width:700px;height:500px;">





                        <div class="item-border" id="purchasePanel" style="display:none;">
                            <div class="grid-item">
                                <div class="grid-item-header" id="performanceHeader" style="background-color: #3392a7; height: 27px;position: absolute;width:100%;font-size:16px;">
                                    <div style="width:70%">

                                        <h4 style="position: absolute;color: white;margin-left:20px;top:-12px;" id="detailTitle">Action</h4>
                                    </div>
                                    <a style="position: absolute;right: 38px;color:#fff;font-size:15px;top:3px; cursor:pointer"><i class="fa fa-arrow-right" style="color:#000;"></i></a>
                                    <a class="closeAdditionalPanel" style="position: absolute;right: 9px;color:#fff;font-size:15px;top:3px; cursor:pointer"><i class="fa fa-times" style="color:red"></i></a>

                                </div>
                            </div>
                            <div class="grid-item-content" id="detailContentAction" style="background-color:lightgray;margin-top:20px;">
                                <div class="row" style="width:100%;display:flex">
                                    <div class="col-5" style="width:40%;padding-right:0 !important">
                                        <div class="row" style="width:100%;display:flex;margin-right:0 !important">
                                            <div class="col-6" style="width:50%;padding-right:0 !important">
                                                <div class="form-element text-black" style="min-width:110px;flex:1 1 110px;">
                                                    <label for="to-value-one">To:</label>
                                                    <input id="to-value-one" type="text" class="to-value-one">
                                                </div>
                                            </div>
                                            <div class="col-6" style="width:50%;padding-right:0 !important">
                                                <div class="form-element text-black" style="min-width:110px;flex:1 1 110px;">
                                                    <label for="action-value-one">Action:</label>
                                                    <input id="action-value-one" type="text" class="action-value-one">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="width:100%;display:flex;margin-right:0 !important">
                                            <div class="col-12" style="width:100%;padding-right:0 !important">
                                                <div class="form-element text-black" style="min-width:110px;flex:1 1 110px;">
                                                    <label for="msg">Message:</label>
                                                    <textarea id="msg" type="text" name="msg" class="msgOne" rows="4"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-2" style="width:20%">
                                        <div class="row" style="width:100%;display:flex;margin-right:0 !important">
                                            <div class="col-12" style="width:100%;padding-right:0 !important">
                                                <div class="form-element text-black" style="min-width:110px;flex:1 1 110px;">
                                                    <label for="msg">CC:</label>
                                                    <div id="listView1" class="k-listview listView" style="width:100%;height:140px;overflow-y:scroll;">  </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-5" style="width:40%;padding:0 !important">
                                        <div class="row" style="width:100%;display:flex;margin-right:0 !important;margin-left:0 !important">
                                            <div class="col-6" style="width:50%;padding-right:0 !important">
                                                <div class="form-element text-black" style="min-width:110px;flex:1 1 110px;">
                                                    <label for="due-value">Due:</label>
                                                    <input id="due-value" type="text" name="due-value">
                                                </div>
                                            </div>
                                            <div class="col-6" style="width:50%;padding-right:0 !important;margin-left:0 !important">
                                                <div class="form-element text-black" style="min-width:110px;flex:1 1 110px;">
                                                    <label for="status-value-one">Status:</label>
                                                    <input id="status-value-one" type="text" class="status-value-one">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="width:100%;display:flex;margin-right:0 !important">
                                            <div class="col-12" style="width:100%;padding-right:0 !important">
                                                <div style="width:100%;border:1px solid black;height:100%;">
                                                    <div class="grid-item-header" id="performanceHeader" style="background-color: #3392a7; height: 27px;width:100%;font-size:14px;">
                                                        <div class="doc-buttonPanel" style="margin:0;" title="Upload Document">
                                                            <svg class="icon">
                                                                <use xlink:href="/images/icons.svg#paperclip"></use>
                                                            </svg>
                                                        </div>
                                                        <h4 style="position: absolute;color: black;top:-8px;right:20px;" id="attachmentTitle">Attachments</h4>
                                                    </div>
                                                    <div id="message_tabstripMain" class="message_tabstrip">
                                                        <ul class="tapstrip-buttons ">
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="tab-schedule" class="tab-pane" style="flex-direction: column;">
                <div class="header gantt-header">
                    <ul class="gantt-controls">
                        <li class="gantt-menu-item"><a data-action="collapseAll"><img src="~/images/gantt/ic_collapse_all_24.png">Collapse All</a></li>
                        <li class="gantt-menu-item gantt-menu-item-last"><a data-action="expandAll"><img src="~/images/gantt/ic_expand_all_24.png">Expand All</a></li>
                        <li class="gantt-menu-item"><a data-action="undo"><img src="~/images/gantt/ic_undo_24.png">Undo</a></li>
                        <li class="gantt-menu-item gantt-menu-item-last"><a data-action="redo"><img src="~/images/gantt/ic_redo_24.png">Redo</a></li>
                        <li class="gantt-menu-item gantt-menu-item-right"><a data-action="fullscreen"><img src="~/images/gantt/ic_fullscreen_24.png">Fullscreen</a></li>
                        <li class="gantt-menu-item gantt-menu-item-right gantt-menu-item-last"><a data-action="zoomToFit"><img src="~/images/gantt/ic_zoom_to_fit_24.png">Zoom to Fit</a></li>
                        <li class="gantt-menu-item gantt-menu-item-right"><a data-action="zoomOut"><img src="~/images/gantt/ic_zoom_out.png">Zoom Out</a></li>
                        <li class="gantt-menu-item gantt-menu-item-right"><a data-action="zoomIn"><img src="~/images/gantt/ic_zoom_in.png">Zoom In</a></li>
                        @*<li class="gantt-menu-item gantt-menu-item-right gantt-menu-item-last">
                                <a><img src="~/images/gantt/ic_export_24.png">Export</a>
                                <ul class="gantt-controls">
                                    <li class="gantt-menu-item"><a data-action="toPDF"><img src="~/images/gantt/ic_file_24.png">PDF</a></li>
                                    <li class="gantt-menu-item"><a data-action="toPNG"><img src="~/images/gantt/ic_file_24.png">PNG</a></li>
                                    <li class="gantt-menu-item"><a data-action="toExcel"><img src="~/images/gantt/ic_file_24.png">Excel</a></li>
                                    <li class="gantt-menu-item"><a data-action="toMSProject"><img src="~/images/gantt/ic_file_24.png">MS Project</a></li>
                                </ul>
                            </li>*@
                    </ul>
                </div>
                <div id="project-schedule" class="schedule-container"></div>
            </div>
            <div id="tab-team" class="tab-pane">
                <div class="team-member-container"></div>
            </div>
            <div id="tab-documents" class="tab-pane">

                <div id="documents-grid"></div>
            </div>
            <div id="tab-messaging" class="tab-pane">

            </div>
        </div>
    </div>
</div>




<div  id="dialog" style="display:none;">

    <div class="popup-outer-popup">
        <div class="popup-outer-inner">

            <div class="top-bar-popup">
                <div class="popup-top-left">
                    <label>Message</label>
                    <select id="selmessage">
                        <option value="0"></option>
                        <option value="Action">Action</option>
                        <option value="Email">Email</option>
                    </select>
                </div>

                <div class="popup-top-right">
                    <span class="arrow-icon-popup" ><a href="javascript:void(0)" style="color: #fff;"  id="sendemail">→</a></span>
                </div>
                <a href="javascript:void(0)" id="closepop" class="close">&times;</a>
            </div>

            <div class="popup-custom-body">
                <div class="popup-custom-body-fo-blog">
                    <form>
                        <div class="form-group half-cols">
                            <label>To:</label>
                            <input id="toMsg" type="text" name="tomsg">
                        </div>

                        <div class="form-group half-cols dvGetAction" >
                            <label>Action:</label>
                            <select id="getAction">
                                <option value="Await Response">Await Response</option>
                                <option value="Responded To">Responded To</option> 
                            </select>
                        </div>


                        <div class="form-group half-cols  dvGetAction">
                            <label>Due:</label>
                            <input id="datetimepicker" title="datetimepicker" style="width: 100%;" />
                        </div>

                        <div class="form-group full-cols">
                            <label>Message</label>
 
                            <textarea placeholder="New Message" id="newmessage" class="responseArea" autocomplete="off"></textarea>
                        </div>

                    </form>
                </div><!--------------------form-left------------------>

                <div class="popup-custom-body-checbox">
                    <label>CC:</label>

                    
                    <input id="ddlMultiCC" type="text" name="ddlMultiCC">
                </div> <!--------------------form-checkbox-left------------------>

                <div class="popup-custom-body-attachment">
                    <div class="popup-custom-body-attachment-inner" >
                        <h2><img id="dvattchment" src="~/images/attached-icon.png" style="cursor: pointer;" />Attachment</h2>
                      
                        <input type="file" id="myFile"  style="visibility:hidden;width: 50px;"/>

                        <span id="spnuplod"></span>

                    </div>


                </div>

            </div>

        </div>

    </div>


</div>









 







       


        





           






            <script type="module" asp-append-version="true">
        import { MessagingList } from "/js/messagingts.js"
        new MessagingList(@Html.Raw(Json.Serialize(Model)));
            </script>



</div>






<script src='https://cdnjs.cloudflare.com/ajax/libs/markerclustererplus/2.1.4/markerclusterer.min.js'></script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAVvNmOP-SZ-Rt8Aeu_o19kAn4HO9vRiiU&libraries=visualization">
</script>
<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>




@section scripts {
    <script type="module" asp-append-version="true">
        import { ProjectControlCenter } from "/js/project-control-center.js"
        new ProjectControlCenter();
    </script>
    <script>
        $(document).ready(function () {
            var d = new Date();
            $("#spntime").text(d.toLocaleString());
        });
    </script>

}