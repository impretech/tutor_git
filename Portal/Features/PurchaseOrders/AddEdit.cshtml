@{
    ViewData["Title"] = "Purchase Order Details";
}


@section styles {
    <link rel="stylesheet" href="~/css/detail-page.css" />
    <link rel="stylesheet" href="~/css/carousel.css" />
    <link rel="stylesheet" href="~/css/switch.css" />
    <link rel="stylesheet" href="~/css/purchase-orders/custom.css" />
    <link rel="stylesheet" href="~/css/purchase-orders/custom-kendo.css" />
    <link rel="stylesheet" href="~/css/loading.css" />
    <link rel="stylesheet" href="~/css/loading-btn.css" />
    <link rel="stylesheet" href="~/css/notification.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet" />
}


<div class="page-header">
    <h3>Financial - Purchase Order - @Model.Po.PoID </h3>
    <div class="doc-button" title="Upload Document">
        <svg class="icon">
            <use xlink:href="/images/icons.svg#paperclip"></use>
        </svg>
    </div>
    <div class="back-button" title="Back To List">
        <svg class="icon">
            <use xlink:href="/images/icons.svg#angle-double-left"></use>
        </svg>
        <span>Back To List</span>
    </div>
</div>

<div class="project-info-container">


    <div class="project-details">
        <div class="view--tabs" style="margin-right: 10px;">
            <ul class="nav-tabs">
                <li class="active"><a href="javascript:;" id="general-view-btn">Summary</a></li>
                <li><a href="javascript:;" id="detail-view-btn">Line Items</a></li>
            </ul>
            <div class="tab-content" style="margin-left: 5px;">
                <div>
                    <div style="width: 100%;">
                        <div class="row">
                            <div class="form-element first-column">
                                <div class="row">
                                    <div class="form-element two-thirds">
                                        
                                        <div class="row custom-row">
                                            <div class="form-element">
                                                <label for="projectID">Project: <abbr title="required">*</abbr></label>
                                                <input id="projectID" type="text" name="project">
                                            </div>
                                            <div class="form-element small">
                                                <label for="accountNo">Account #: <abbr title="required">*</abbr></label>
                                                <input id="accountNo" type="text" name="accountNo">
                                            </div>
                                            <div class="form-element small">
                                                <label for="poDate">Date: <abbr title="required">*</abbr></label>
                                                <input id="poDate" type="text" name="poDate">
                                            </div>
                                        </div>
                                        <div class="row custom-row">
                                            <div class="form-element">
                                                <label for="requestedBy">Request By: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="requestedBy" type="text" name="requestedBy" >
                                            </div>
                                            <div class="form-element small">
                                                <label for="reqNo">Requsition #: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="reqNo" type="text" name="reqNo">
                                            </div>
                                            <div class="form-element small">
                                                <label for="service">Service: <abbr title="required">*</abbr></label>
                                                <input id="service" type="text" name="service">
                                            </div>

                                            <div class="form-element small">
                                                <label for="excempt">Exempt: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="exempt" type="text" name="exempt" max="25" >
                                            </div>
                                            <div class="form-element small">
                                                <label for="vendorPO">Vendor PO: <abbr style="display:none;" title="required">*</abbr></label>
                                                <input id="vendorPO" type="text" name="originalPO" max="25">
                                            </div>
                                        </div>
                                        <div class="row custom-row">
                                            <div class="form-element">
                                                <label for="quoteCO">Quote/CO #: <abbr title="required">*</abbr></label>
                                                <input id="quoteCO" type="text" name="quoteCO">
                                            </div>
                                            <div class="form-element small">
                                                <label for="contractNo">Contract #: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="contractNo" type="text" name="contractNo">
                                            </div>
                                            <div class="form-element small">
                                                <label for="workStartDate">Work Start: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="workStartDate" type="text" name="workStartDate">
                                            </div>

                                            <div class="form-element small">
                                                <label for="terms">Terms: </label>
                                                <input id="terms" type="text" name="terms">
                                            </div>
                                            <div class="form-element small">
                                                <label for="originalPOAmt">Vendor PO $: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="vendorPOAmt" type="text" name="originalPOAmt" class="currency-format">
                                            </div>
                                        </div>
                                        <div class="row custom-row">
                                            <div class="form-element">
                                                <label for="vendor">Vendor: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="vendor" type="text" name="vendor">
                                            </div>
                                            <div class="form-element small">
                                                <label for="vendorContact">Vendor Contact: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="vendorContact" type="text" name="vendorContact">
                                            </div>
                                            <div class="form-element small">
                                                <label for="workCompleteDate">Work Complete: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="workCompleteDate" type="text" name="workCompleteDate">
                                            </div>

                                            <div class="form-element small">
                                                <label for="status">Status: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="status" type="text" name="status">
                                            </div>
                                            <div class="form-element small">
                                                <label for="perComplete">% Complete: @*<abbr title="required">*</abbr>*@</label>
                                                <input id="perComplete" type="text" name="perComplete" class="center-align">
                                            </div>
                                        </div>
                                        <div class="row custom-row">
                                            <div class="form-element">
                                                <label for="vendorAddress">Vendor Address: </label>
                                                <textarea id="vendorAddress" name="vendorAddress" class="address"></textarea>
                                                <input type="hidden" id="vendorLocId" name="vendorLocId" />
                                            </div>
                                            <div class="form-element small">
                                                <label for="shipTo">Ship To: </label>
                                                @*<textarea id="shipTo" name="shipTo" class="address"></textarea>*@
                                                <div style="border:1px solid #ccc;">
                                                    <div>
                                                        <input id="address1" type="text" name="address1" placeholder="Address1" style="border:none; width:100%;">
                                                    </div>
                                                    <div class="">
                                                        <input id="address2" type="text" name="address2" placeholder="Address2" style="border:none; width:100%;">
                                                    </div>
                                                    <div class="flex-container">
                                                        <input id="addCity" type="text" name="addCity" placeholder="City" style="width:70%;">,&nbsp;
                                                        <input id="addState" type="text" name="addState" placeholder="State" style="width:33px;">&nbsp;
                                                        <input id="addZip" type="text" name="addZip" placeholder="Zip" style="width:50px;">
                                                    </div>
                                                    <div class="flex-container">
                                                        <label>&nbsp;</label>
                                                    </div>
                                                    <div class="flex-container">
                                                        <label>&nbsp;</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-element small">
                                                <label for="shipTo">Special Instructions: @*<abbr title="required">*</abbr>*@</label>
                                                <textarea id="specialInstruction" name="specialInstruction" class="address"></textarea>
                                            </div>
                                        </div>
                                        <div id="extensionForm">
                                            <div class="row custom-row">
                                                <div class="row">
                                                    <label>Create PO Extension:</label>
                                                </div>
                                            </div>
                                            <div class="row custom-row">
                                                <div class="row" style="border: solid 1px lightgray;padding:10px;">
                                                    <div class="form-element">
                                                        <label for="extensionID">Extention #: <abbr title="required">*</abbr></label>
                                                        <label id="extensionID" readonly type="text" name="extensionID" style="text-align:center;"></label>
                                                    </div>
                                                    <div class="form-element ">
                                                        <label for="extQuoteCo">Quote\CO#: @*<abbr title="required">*</abbr>*@</label>
                                                        <input id="extQuoteCo" type="text" name="extQuoteCo">
                                                    </div>
                                                    <div class="form-element ">
                                                        <label>&nbsp;</label>
                                                        <button id="newExt-button" class="btn yellow ld-over tooltip" style=" min-width: 50px;">
                                                            Create Extension
                                                            <span class="tooltiptext tooltip-top">Create Extension</span>
                                                            <div style="font-size:30px;color:#999" class="ld ld-ring ld-spin"></div>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                            
                                    </div>
                                </div>
                            </div>

                            <div class="form-element second-column" style="min-width:320px">
                                <ul class="nav-tabs">
                                    <li class="active"><a href="javascript:;" id="funding-detail-btn">Funding Summary</a></li>
                                    <li><a href="javascript:;" id="quote-detail-btn">Quote Detail</a></li>
                                </ul>
                                <div class="categoryBox" id="fundingDetail">
                                    <div class="row">
                                        <div class="" style="width:70%;padding-right: 15px;">
                                            <span class="title">
                                                <b>Available Funds</b>
                                            </span>
                                        </div>
                                        <div class="" style="width:30%;">
                                            <span class="title">
                                                <b>Invoicing</b>
                                            </span>                                        
                                        </div>
                                    </div>
                                    <div class="categories">
                                        <div class="row">
                                            <div style="width:70%;padding-right: 15px;">
                                                <div class="row">
                                                    <div class="two-ten">
                                                        <span class="">Code</span>
                                                    </div>
                                                    <div class="three-ten" style="text-align:center;">
                                                        <span class="" >Item</span>
                                                    </div>
                                                    <div class="two-ten">
                                                        <span class="">Available Funds</span>
                                                    </div>
                                                </div> 
                                                <div id="codeList">
                                                    
                                                </div>
                                            </div>
                                            <div style="width:30%;text-align:right;" id="invoicing">
                                                <div class="row">
                                                    <div class="two-ten">
                                                        <span class="">Total PO:</span>
                                                    </div>
                                                    <div class="two-ten">
                                                        <span id="invTotalPO" name="invTotalPO" class="currency-format"></span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="two-ten">
                                                        <span class="" title="Amount Inv To Date">Inv To Date:</span>
                                                    </div>
                                                    <div class="two-ten">
                                                        <span id="amtToDate" name="amtToDate" class="currency-format"></span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="two-ten">
                                                        <span class="">Balance:</span>
                                                    </div>
                                                    <div class="two-ten">
                                                        <span id="balance" name="balance" class="currency-format"></span>
                                                    </div>
                                                </div>
                                            </div>                                                                                       
                                        </div>                                        
                                    </div>

                                </div>

                                <div class="categoryBox" id="quoteDetail" style="display:none;">
                                    <div class="row">
                                        <div class="title">
                                                Type                                            
                                        </div>
                                        <div class="three-ten">
                                            <label id="detailType"></label>
                                        </div>
                                        <div class="title">
                                                ID#:                                            
                                        </div>
                                        <div class="three-ten">
                                            <label id="detailId"></label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="title">
                                                Vendor:                                            
                                        </div>
                                        <div class="three-ten">
                                            <label id="detailVendor"></label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="title">
                                                Vendor #:                                            
                                        </div>
                                        <div class="three-ten">
                                            <label id="detailVendorId"></label>
                                        </div>
                                        <div class="title">
                                                Amount:                                            
                                        </div>
                                        <div class="form-element three-ten">
                                            <label id="detailAmount"></label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="title">
                                                Description:                                             
                                        </div>
                                        <div class="form-element three-ten">
                                            <textarea id="detailDescription"></textarea>
                                        </div>                                        
                                    </div>
                                </div>

                                <div class="form-element" style="position: relative;flex: 1 1 50px;">
                                    <div class="row button-bar">
                                        <button id="save-button" class="btn yellow ld-over tooltip" style="flex:1; min-width: 50px;">
                                            Save
                                            <span class="tooltiptext tooltip-top">Saves to Purchase Order</span>
                                            <div style="font-size:30px;color:#999" class="ld ld-ring ld-spin"></div>
                                        </button>
                                        <button id="action-button" class="btn yellow ld-over tooltip" style="flex:1; min-width: 50px;">
                                            Action
                                            <span class="tooltiptext tooltip-top">Action Button</span>
                                            <div style="font-size:30px;color:#999" class="ld ld-ring ld-spin"></div>
                                        </button>
                                        <button id="cancel-button" class="btn lightGray" style="flex:1; min-width: 50px;">Cancel</button>
                                    </div>
                                </div>
                            </div>

                            @*<div class="po-side-bar form-element second-column">

                                    <div class="row po-sub-header">
                                        <div class="form-element">
                                            <h3><u>Invoicing</u></h3>
                                        </div>
                                    </div>
                                    <div class="categoryBox">
                                        <div class="summary">


                                            <div class="row">
                                                <div class="form-element">
                                                    <label for="totalPO">Total PO: </label>
                                                    <input id="totalPO" type="text" name="totalPO" class="currency-format">
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="form-element">
                                                    <label for="totalPO">Amount Inv To Date: </label>
                                                    <input id="amtToDate" type="text" name="amtToDate" class="currency-format">
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="form-element">
                                                    <label for="balance">Balance: </label>
                                                    <input id="balance" type="text" name="balance" class="currency-format">
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-element">
                                            <button id="cancel-button" class="btn gray" style="flex: 1; min-width: 50px; margin-top: 9px;">Cancel</button>
                                        </div>

                                    </div>
                                </div>*@



                            <div class="project-notes-handle">
                                PROGRESS NOTES
                                <span class="expand-symbol fa fa-angle-double-left" style="font-size: 20px"></span>
                                <span class="collapse-symbol fa fa-angle-double-right" style="font-size: 20px; display: none"></span>
                            </div>
                            <div class="project-notes hide">
                                <div class="note-block">
                                    <h4>Progress Notes</h4>
                                    <textarea id="new-note" type="text" name="new-note" rows="3"></textarea>
                                    <button class="btn" id="add-note-button">Add Note</button>
                                    <div class="previous-notes">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>




        <div class="project-info-container" style="display:flex;">
            <div class="detail-pane">
                @* Original Detail Panel *@
                <table class="heading" cellspacing="0" style="border:solid 1px #a09999">
                    <thead>
                        <tr>
                            <td style='min-width:35px'><br>Order</td>
                            <td style="width:140px;text-align:center;">
                                Category
                                <br>Code
                            </td>
                            <td style="width:120px;flex:1;text-align:center;">
                                Vendor Part #
                                <br>Description
                            </td>                            
                            <td style="width:100px">
                                Available<br />
                                Funds
                            </td>
                            <td style="width:90px;text-align:center;">
                                QTY<br>Unit
                            </td>
                            <td style="width:110px;text-align:center;">
                                <br>
                                Unit
                                Price
                            </td>
                            <td style="width:90px"><br>Cost</td>
                            <td style="width:90px">
                                Fund<br />
                                Balance
                            </td>
                            <td style="width:110px;text-align:center;">
                                Vendor Delivery<br />
                                Date Required
                            </td>
                            <td style="width:80px;text-align:center;" title="% Complete">
                                %
                                <br>On
                                Sched
                            </td>                            
                            <td style="text-align:center;"><br />Action</td>
                        </tr>
                    </thead>
                </table>
                <div class="title" style="min-width:1037px; display:flex;">
                    <div style="width:200px; display:inline;">
                        Quote/CO#: <label id="org_QuoteCoNo"> </label> (Original)
                    </div>
                    <div style="display:inline;">
                        Add Items<button id="addOrgDetailBtn" class="detail-add-btn btn-1">+</button>
                    </div>
                </div>
                <div class="detail-data">
                     
                </div>
                <table class="footer" cellspacing="0" style="">
                    <thead>
                        <tr>
                            <td style='min-width:175px;text-align:left;' colspan="2">
                                &nbsp;Date item entered:&nbsp;
                                <label id="org_itemEnterDate">2019-11-18</label>&nbsp;                                
                            </td>
                            <td style="width:310px;flex:1;text-align:left;" colspan="2">
                                Date of item:&emsp;&emsp;&emsp;&nbsp;
                                <input type="text" id="org_itemDate" value="2019-11-18" style="max-width:110px;font-size:12px;" />
                                <br />
                                Date item approved:
                                <input type="text" id="org_approvedDate" value="2019-11-18" style="max-width:110px;font-size:12px;" />&emsp;
                            </td>
                            <td style="width:110px;text-align:right;" colspan="2">
                                Total:<br />
                                Quote/CO#:<label id="org_TotalQuoteCoNo"></label>
                            </td>
                            <td style="width:90px"><span id="detail-subtotal" class="detail-subtotal"></span></td>
                            <td style="width:90px">
                                @*Status:*@
                            </td>
                            <td style="width:110px;"></td>
                            <td style="width:80px;text-align:center;"></td>
                            <td style=""></td>
                        </tr>
                    </thead>
                </table>

                @* Extension Detail Panel *@                
                <div class="ext-detail-data">

                </div>
                
                @* Total PO footer *@
                <table class="heading" cellspacing="0" style="border:solid 1px #a09999; background-color:#FFF2CC;color:black;font-weight: bold;">
                    <thead>
                        <tr>
                            <td style='min-width:175px;text-align:left;' colspan="2">                                
                            </td>
                            <td style="width:310px;flex:1;text-align:left;" colspan="2">                                
                            </td>
                            <td style="width:110px;text-align:right;" colspan="2">
                                Total PO
                            </td>
                            <td style="width:90px">
                                <span id="detail-totalPO" class="detail-subtotal">$0.00</span>
                            </td>
                            <td style="width:90px">
                                
                            </td>
                            <td style="width:110px;"></td>
                            <td style="width:80px;text-align:center;"></td>
                            <td style=""></td>                            
                        </tr>
                    </thead>
                </table>
            </div>


        
    </div>

    @*<div id="detail-window" style="display: none;">
        <div class="row" style="margin-top: 5px;">
            <div class="form-element" style="min-width:90px; max-width:50px;">
                <label for="add-detail-cat">Category</label><br>
                <input id="add-detail-cat" type="text" name="add-detail-cat">
            </div>
            <div class="form-element" style="min-width:50px; max-width:50px;">
                <label for="add-detail-code">Detail Code</label>
                <input id="add-detail-detail-code" type="text" name="add-detail-detail-code">
            </div>
            <div class="form-element" style="min-width:100px; max-width:50px;">
                <label for="add-detail-desc">Detail Description</label>
                <input id="add-detail-detail-desc" type="text" name="add-detail-detail-desc">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-fund">Available Funds</label>
                <input id="add-detail-fund" type="text" name="add-detail-fund">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-vendor-partno">Vendor Part#</label><br>
                <input id="add-detail-vendor-partno" type="text" name="add-detail-vendor-partno">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-desc">Description</label><br>
                <input id="add-detail-desc" type="text" name="add-detail-desc">
            </div>
            <div class="form-element" style="min-width:50px; flex:1 1 50px;">
                <label for="add-detail-unit">Unit</label><br>
                <input id="add-detail-unit" type="text" name="add-detail-unit">
            </div>
            <div class="form-element" style="min-width:40px; flex:1 1 50px;">
                <label for="add-detail-qty">Quantity</label><br>
                <input id="add-detail-qty" type="text" name="add-detail-qty">
            </div>
            <div class="form-element" style="min-width:50px; max-width:50px;">
                <label for="add-detail-unitprice">Unit Price: </label>
                <input id="add-detail-unitprice" type="text" name="add-detail-unitprice">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-cost">Cost</label><br>
                <input id="add-detail-cost" type="text" name="add-detail-cost">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-balance">Fund Balance</label><br>
                <input id="add-detail-balance" type="text" name="add-detail-balance">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-del-date">Vendor Del Date</label>
                <input id="add-detail-del-date" type="text" name="add-detail-del-date">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-date-required">Date Required</label><br>
                <input id="add-detail-date-required" type="text" name="add-detail-date-required">
            </div>
            <div class="form-element" style="min-width:90px; max-width:90px;">
                <label for="add-detail-complete">% Complete</label><br>
                <input id="add-detail-complete" type="text" name="add-detail-complete">
            </div>
            <div class="form-element" style="min-width:50px; max-width:50px;">
                <label for="add-detail-sched">On Sched</label>
                <input id="add-detail-sched" type="text" name="add-detail-sched">
            </div>
        </div>
        <div class="row button-bar" style="margin-left: 0px; margin-top: 5px;">
            <input id="add-detail-catID" type="hidden" name="add-detail-catID">
            <button class="save-button btn yellow">Save</button>
            <button class="cancel-button btn gray">Cancel</button>

        </div>
    </div>*@




    @section scripts {
        <script id="noDataTemplate" type="text/x-kendo-tmpl">
            <div>
                No data found. Do you want to add new item - '#: instance.text() #' ?
            </div>
            <br />
            <button id="new-contact-button" name="new-contact-button" class="new-contact-button">Add new item</button>
        </script>

        <script type="module" asp-append-version="true">
    import { PurchaseOrdersDetailItem } from "/js/purchaseOrders.js"
    new PurchaseOrdersDetailItem(@Html.Raw(Json.Serialize(Model)));
        </script>

    }

    <script type="text/x-kendo-template" id="template">
        <div class="d-toolbar">
            <a role="button" class="k-button-icontext k-grid-add" href="\#">
                <button class="btn-1">+</button>
            </a>
        </div>
    </script>

