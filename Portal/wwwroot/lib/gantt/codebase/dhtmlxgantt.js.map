{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./sources/utils/utils.js","webpack:///./sources/utils/dom_helpers.js","webpack:///./sources/utils/helpers.js","webpack:///./sources/utils/extends.js","webpack:///./sources/utils/eventable.js","webpack:///./sources/core/lightbox/controls/base_control.js","webpack:///./sources/core/ui/render/smart_render_wrapper.js","webpack:///./sources/core/ui/layout/cell.js","webpack:///./sources/core/ui/render/is_legacy_smart_render.js","webpack:///./sources/core/ui/grid/editors/editors/base.js","webpack:///./sources/utils/env.js","webpack:///./sources/utils/html_helpers.js","webpack:///./sources/core/lightbox/controls/select_control.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/drop_target.js","webpack:///./sources/core/ui/render/viewport/task_row_checker.js","webpack:///./sources/core/ui/resource_store_mixin.js","webpack:///./sources/core/ui/mouse_event_container.js","webpack:///./sources/core/ui/grid/grid.js","webpack:///(webpack)/buildin/global.js","webpack:///./sources/utils/dom_event_scope.js","webpack:///./sources/core/worktime/calendar_arguments_helper.js","webpack:///./sources/utils/task_tree_helpers.js","webpack:///./sources/core/gantt_data_range.js","webpack:///./sources/core/datastore/treedatastore.js","webpack:///./sources/core/datastore/power_array.js","webpack:///./sources/core/datastore/datastore.js","webpack:///./sources/core/ui/render/task_bar_render.js","webpack:///./sources/core/ui/render/viewport/task_bar_checker.js","webpack:///./sources/core/ui/timeline/resource_timeline.js","webpack:///./sources/core/ui/row_position_mixin.js","webpack:///./sources/core/ui/timeline/scales.js","webpack:///./sources/core/ui/timeline/scales_ignore.js","webpack:///./sources/core/ui/timeline/timeline.js","webpack:///./sources/core/ui/layout/layout.js","webpack:///./node_modules/process/browser.js","webpack:///./sources/utils/timeout.js","webpack:///./sources/core/destructor.js","webpack:///./sources/core/common/assert.js","webpack:///./sources/core/gantt_core.js","webpack:///./sources/locale/index.js","webpack:///./sources/core/touch.js","webpack:///./sources/css/skins/contrast_white.js","webpack:///./sources/css/skins/contrast_black.js","webpack:///./sources/css/skins/material.js","webpack:///./sources/css/skins/broadway.js","webpack:///./sources/css/skins/terrace.js","webpack:///./sources/css/skins/meadow.js","webpack:///./sources/css/skins/skyblue.js","webpack:///./sources/core/skin.js","webpack:///./sources/core/cached_functions.js","webpack:///./sources/core/lightbox/controls/typeselect_control.js","webpack:///./sources/core/data_task_types.js","webpack:///./sources/core/lightbox_optional_time.js","webpack:///./sources/core/lightbox/controls/constraint_control.js","webpack:///./sources/core/lightbox/controls/resources_control.js","webpack:///./sources/core/lightbox/controls/parent_control.js","webpack:///./sources/core/lightbox/controls/duration_control.js","webpack:///./sources/core/lightbox/controls/radio_control.js","webpack:///./sources/core/lightbox/controls/checkbox_control.js","webpack:///./sources/core/lightbox/controls/time_control.js","webpack:///./sources/core/lightbox/controls/textarea_control.js","webpack:///./sources/core/lightbox/controls/template_control.js","webpack:///./sources/core/lightbox/index.js","webpack:///./sources/core/data.js","webpack:///./sources/core/facades/worktime_calendars.js","webpack:///./sources/core/worktime/strategy/no_work_time.js","webpack:///./sources/core/worktime/time_calculator.js","webpack:///./sources/core/worktime/strategy/work_unit_cache/workunit_object_cache.ts","webpack:///./sources/core/worktime/strategy/work_unit_cache/workunit_map_cache.ts","webpack:///./sources/core/worktime/strategy/work_unit_cache/index.ts","webpack:///./sources/core/worktime/strategy/calendar_strategy.js","webpack:///./sources/core/worktime/calendar_manager.js","webpack:///./sources/core/worktime/work_time.js","webpack:///./sources/core/load.js","webpack:///./sources/core/tasks.js","webpack:///./sources/core/wai_aria.js","webpack:///./sources/core/grid_column_api.gpl.js","webpack:///./sources/core/grid_column_api.js","webpack:///./sources/core/dynamic_loading.js","webpack:///./sources/core/plugins/timeline_zoom.ts","webpack:///./sources/core/plugins/auto_task_types.js","webpack:///./sources/core/plugins/new_task_placeholder.js","webpack:///./sources/core/plugins/resources.js","webpack:///./sources/core/plugins/dhtmlx_hooks.js","webpack:///./sources/core/plugins/jquery_hooks.js","webpack:///./sources/core/plugins/wbs.js","webpack:///./sources/core/plugins/batch_update.js","webpack:///./sources/core/plugins/autoscroll.js","webpack:///./sources/core/plugins/index.js","webpack:///./sources/core/dataprocessor/extend_gantt.ts","webpack:///./sources/core/dataprocessor/data_processor_events.ts","webpack:///./sources/core/dataprocessor/data_processor.ts","webpack:///./sources/core/dataprocessor/index.js","webpack:///./sources/core/datastore/datastore_render.js","webpack:///./sources/core/datastore/select.js","webpack:///./sources/core/facades/datastore_links.js","webpack:///./sources/core/facades/datastore_tasks.js","webpack:///./sources/core/facades/datastore.js","webpack:///./sources/core/datastore/datastore_hooks.js","webpack:///./sources/core/facades/layout.js","webpack:///./sources/core/data_task_layers.js","webpack:///./sources/core/ui/main_layout_initializer.js","webpack:///./sources/core/ui/timeline/links_dnd.js","webpack:///./sources/core/ui/timeline/tasks_dnd.js","webpack:///./sources/core/ui/timeline/main_timeline_initializer.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/highlight.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/multi_level.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/locked_level.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd.js","webpack:///./sources/core/ui/grid/main_grid_initializer.js","webpack:///./sources/core/ui/render/task_grid_line_render.js","webpack:///./sources/core/ui/render/viewport/link_checker.js","webpack:///./sources/core/ui/render/link_render.js","webpack:///./sources/core/ui/render/task_bg_render.js","webpack:///./sources/core/ui/render/task_split_render.js","webpack:///./sources/core/ui/render/task_bar_smart_render.js","webpack:///./sources/core/ui/grid/editors/linked_properties.js","webpack:///./sources/core/ui/grid/editors/editors/predecessor.js","webpack:///./sources/core/ui/grid/editors/editors/date.js","webpack:///./sources/core/ui/grid/editors/editors/select.js","webpack:///./sources/core/ui/grid/editors/editors/number.js","webpack:///./sources/core/ui/grid/editors/editors/text.js","webpack:///./sources/core/ui/grid/editors/keyboard_mappings/keyboard_navigation.js","webpack:///./sources/core/ui/grid/editors/keyboard_mappings/default.js","webpack:///./sources/core/ui/grid/editors/keyboard_mappings.js","webpack:///./sources/core/ui/grid/editors/controller.js","webpack:///./sources/core/ui/timeline/resource_histogram.js","webpack:///./sources/core/ui/grid/resource_grid.js","webpack:///./sources/core/ui/grid/grid_resize.js","webpack:///./sources/core/ui/timeline/tasks_canvas_render.js","webpack:///./sources/core/ui/layout/scrollbar_cell.js","webpack:///./sources/core/ui/layout/resizer_cell.js","webpack:///./sources/core/ui/layout/view_cell.js","webpack:///./sources/core/ui/layout/view_layout.js","webpack:///./sources/core/ui/render/render_factory.js","webpack:///./sources/core/ui/render/layer_engine.js","webpack:///./sources/core/ui/gantt_layers.js","webpack:///./sources/core/ui/mouse.js","webpack:///./sources/core/ui/configurable.js","webpack:///./sources/core/ui/ui_factory.js","webpack:///./sources/core/ui/index.js","webpack:///./sources/core/message.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/bluebird/js/browser/bluebird.js","webpack:///./sources/utils/promise.js","webpack:///./sources/core/common/state.js","webpack:///./sources/core/common/templates.js","webpack:///./sources/core/common/dnd.js","webpack:///./sources/core/common/date.js","webpack:///./sources/core/common/serialize.ts","webpack:///./sources/core/common/ajax.js","webpack:///./sources/core/common/config.ts","webpack:///./sources/core/common/services.js","webpack:///./sources/core/common/import.js","webpack:///./sources/constants/index.js","webpack:///./sources/core/gantt.js","webpack:///./sources/core/deprecated_warnings.js","webpack:///./sources/dhtmlxgantt.commercial.ts"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","seed","helpers","copy","result","isDate","Date","isArray","Array","length","isStringObject","String","isNumberObject","Number","isBooleanObject","Boolean","apply","defined","obj","mixin","target","source","force","f","undefined","uid","valueOf","functor","arguments","event","el","handler","capture","addEventListener","attachEvent","eventRemove","removeEventListener","detachEvent","elementPosition","elem","top","left","right","bottom","getBoundingClientRect","box","body","document","docElem","documentElement","parentNode","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","y","Math","round","x","width","height","isVisible","node","display","visibility","getComputedStyle","style","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","toLowerCase","hasAttribute","getClassName","className","baseVal","indexOf","_trimString","_slave","createElement","getTargetNode","e","tagName","srcElement","str","trim","this","replace","getNodePosition","getFocusableNodes","nodes","querySelectorAll","join","nodesArray","slice","splice","getScrollSize","div","cssText","appendChild","clientWidth","removeChild","addClassName","removeClassName","split","regEx","RegExp","insertNode","newone","innerHTML","child","firstChild","removeNode","getChildNodes","css","ch","childNodes","len","out","push","toNode","getElementById","querySelector","locateClassName","classname","strict","trg","ind","charAt","locateAttribute","attribute","getRelativeEventPosition","ev","clientX","clientY","isChildOf","parent","hasClass","element","classList","contains","test","closest","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","nodeType","console","error","units","second","minute","hour","day","week","month","quarter","year","arrayFilter","arr","callback","filter","getSecondsInUnit","unit","forEach","workArray","arrayMap","map","resArray","arrayFind","find","arrayDifference","item","arraySome","hashToArray","hash","sortArrayOfHash","field","desc","compare","b","sort","throttle","timeout","wait","setTimeout","pop","getFullYear","getMonth","getDate","Function","toString","constructor","delay","timer","$cancelTimeout","$pending","args","clearTimeout","$execute","objectKeys","keys","requestAnimationFrame","w","webkitRequestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cb","isEventable","__","EventHost","_connected","_silent_mode","_silentStart","_silentEnd","createEventStorage","dhx_catch","z","res","zr","addEvent","removeEvent","id","eventHost","catcher","callObj","attachAll","callEvent","arg0","handlerName","concat","checkEvent","list","eventName","eventId","detachAllEvents","dummy","log","BaseControl","render","set_value","get_value","focus","gantt","renderOne","updateOne","isInViewPort","smartRendering","view","viewport","update","engine","rendered","restore","hide","utils","eventable","domHelpers","Cell","config","$container","$parent","$config","headerHeight","$gantt","$domEvents","_createDomEventScope","$id","$name","$factory","destructor","$view","$services","getService","detach","_headerClickHandler","detachAll","cell","scrollTo","clear","getNode","padding","resize","final","$preResize","topCont","topSize","getSize","minWidth","maxWidth","minHeight","maxHeight","setSize","_hide","show","index","cellIndex","moveView","hidden","$toHTML","content","header","raw","html","canCollapse","$fill","init","self","toggle","delegate","collapsed","size","gravity","getContentSize","$lastSize","contentX","contentY","_getBorderSizes","borders","horizontal","vertical","_currentBorders","_borders","_sizeHeader","_sizeContent","_setBorders","cssHash","xLayout","floor","transform","smart_rendering","_smart_render","BaseEditor","column","placeholder","get_input","is_changed","currentValue","is_valid","save","env","isIE","navigator","userAgent","isIE6","XMLHttpRequest","isIE7","isIE8","isOpera","isChrome","isKHTML","isFF","isIPad","search","isEdge","htmlHelpers","getHtmlSelect","options","attributes","_this","entry","_attributes","getHtmlOption","label","_getHtmlContainer","getHtmlButton","getHtmlDiv","getHtmlLabel","getHtmlInput","_getHtmlAttributes","tag","__extends","_super","SelectControl","sns","_dhx_onchange","onchange","_focus","createDropTargetObject","targetParent","targetIndex","targetId","nextSibling","prevSibling","nextSiblingTarget","dndTaskId","targetTaskId","store","getParent","getBranchIndex","prevSiblingTarget","firstChildTarget","lastChildTarget","children","getChildren","position","getItemTop","getItemHeight","y_end","clearTaskStoreHandler","_delayRender","tasks","$data","tasksStore","ownStore","rowStore","handlerIdProperty","$attachedResourceViewHandler","initGrid","destroyGrid","_linkToTaskStore","delayRender","getState","lightbox","refresh","_updateNestedTasks","resourceStore","getDatastore","resource_store","fetchTasks","resourceProperty","resource_property","silent","toAddArray","toAdd","toDelete","eachItem","resource","$role","getTaskBy","task","$task_id","$resource_id","$parentProperty","removeItem","parse","events","mouseEvents","h","gridResize","topPositionMixin","Grid","$state","container","gridAriaAttr","_waiAria","gridAttrString","gridDataAriaAttr","gridDataAttrString","$grid","gridScaleRowAttrString","$grid_scale","$grid_data","attr","$getConfig","item_attribute","layers","_createLayerConfig","resizer","_renderHeaderResizers","doOnRender","_mouseDelegates","_addLayers","_initEvents","_validateColumnWidth","numericWidth","assert","outerWidth","columns","getGridColumns","innerWidth","scrollable","_setColumnsWidth","grid_width","dataHeight","max","scale_height","contentHeight","row_height","countVisible","contentWidth","_getGridWidth","scrollHeight","scrollWidth","_bindStore","_gridCacheAttached","_resetTopPositionHeight","_initSmartRenderingPlaceholder","_calculateGridWidth","_renderGridHeader","getViewPort","x_end","scrolled","getColumnIndex","getColumn","renderer","$ui","gridLine","_taskLayers","taskRenderer","getDataRender","createDataRender","defaultContainer","taskLayers","layer","host","bar_layer","addLayer","requestUpdate","_refreshPlaceholderOnStoreUpdate","scrollY","scroll","getView","getScrollState","scrollSize","$rowsPlaceholder","_staticBgHandler","close","open","_clearLayers","removeLayer","_getColumnWidth","min_width","min_grid_column_width","new_width","max_width","min","_getGridWidthLimits","min_limit","max_limit","newWidth","start_index","columns_width","final_width","extra_width","start_width","col","share","iterator","curExtra","_getColsTotalWidth","cols_width","v","parseFloat","unknown","gridWidth","autofit","diff","delta","changed","_setContentSize","locale","templates","rtl","reverse","cells","labels","lineHeigth","last","colWidth","_sort","direction","cssClass","grid_header_class","gridScaleCellAttrString","lineHeight","g","eval","createScope","handlers","eventScope","attach","staticArray","extend","scopes","IsWorkTimeArgument","date","calendar","ClosestWorkTimeArgument","dir","CalculateEndDateArgument","start_date","duration","step","GetDurationArgument","start","end","end_date","getWorkHoursArguments","setWorkTimeArguments","unsetWorkTimeArguments","isWorkTimeArguments","processedConfig","duration_unit","getClosestWorkTimeArguments","arg","_getStartEndConfig","param","argumentType","duration_step","getDurationArguments","hasDurationArguments","calculateEndDateArguments","copyLinkIdsArray","linkIds","targetHash","isLinkExists","getLink","copyLinkIds","$source","$target","getSubtreeLinks","rootId","isTaskExists","getTask","eachTask","getSubtreeTasks","ScaleHelper","PrimaryScaleHelper","_init_tasks_range","cfg","primaryScale","scale_offset_minimal","helper","scales","getSubScales","sortScales","_scale_range_unit","range","start_interval","add","resolveConfigRange","getSubtaskDates","dateRangeResolver","calculateEndDate","_min_date","_max_date","fit_tasks","old_min","old_max","_adjust_scales","powerArray","DataStore","TreeDataStore","_branches","pull","$initItem","initItem","parentProperty","$getRootId","val","$openInitially","openInitially","visibleOrder","$create","fullOrder","_searchVisibleOrder","_skip_refresh","_ganttConfig","getConfig","canOpenSplitTasks","open_split_tasks","eachParent","$open","_isSplitItem","_buildTree","data","setParent","_add_branch","$level","calculateItemLevel","_updateOrder","hasChild","loaded","_parseInner","_addItemInner","getIndexById","_move_branch","$rendered_parent","_changeIdInner","oldId","newId","_replace_branch_child","getItem","_traverseBranches","code","branch","itemId","taskId","_removeItemInner","items","move","sid","tindex","source_pid","tbranch","_moveInner","childId","parentId","exists","pid","getSiblings","getNextSibling","siblings","getPrevSibling","clearAll","level","_setParentInner","new_pid","startItem","parentsHash","Error","added_already","old_parent","new_parent","old_id","new_id","newbranch","criteria","original_criteria","els","temp","rule","$powerArray","array","$removeAt","pos","$remove","$find","$insertAt","$each","master","$map","$filter","_filterRule","updateItem","order","data_size","getVisibleItems","getIndexRange","addItem","changeId","sindex","getIdByIndex","arraysEqual","arr1","arr2","quick","oldOrder","count","serialize","filteredOrder","from","to","Infinity","ret","getItems","_getNullIfUndefined","getFirst","getLast","getNext","getPrev","_task_default_render","_isAllowedUnscheduledTask","getItemPosition","$getTemplates","taskType","getTaskType","type","padd","types","milestone","link_line_width","setAttribute","show_progress","done","progress","pr","progressColor","backgroundColor","opacity","progress_text","wrapper","drag_progress","isReadonly","drag","markerPos","_render_task_progress","task_text","_render_task_content","textColor","color","basic","template","state","project","isSummaryTask","isSplitTask","select_task","isSelectedTask","drag_id","drag_mode","touch_drag","link_source_id","link_target_id","highlight_critical_path","isCriticalTask","link_landing_area","from_id","from_start","link_from_start","to_start","link_to_start","allowDrag","isLinkAllowed","dragClass","_combine_item_class","task_class","styles","side","_get_link_crossing_css","_render_side_content","leftside_text","_render_leftside_content","rightside_text","_render_rightside_content","setTaskBarAttr","drag_resize","_render_pair","drag_links","show_links","outer","inner","showLinkPoints","touch","text","cond","leftside","links","start_to_start","finish_to_start","finish_to_finish","_get_conditions","ln","link","tp","min_date","max_date","type_renderers","defaultRenderer","isRowInViewPort","posFromDate","tmp","Timeline","resourceStoreMixin","ResourceTimeline","bindLinks","taskFilter","resourceRow","$task_bars","taskBg","$task_bg","topCache","getRowTop","itemIndex","dateHelper","services","getSum","sizes","summ","setSumWidth","sum_width","scale","parts","adjustSize","full_width","splitSize","full","cellSize","_isLegacyMode","scaleConfig","scale_unit","date_scale","subscales","_prepareScaleObject","format","date_to_str","legacyMode","initTemplate","scale_cell_class","prepareConfigs","min_coll_width","container_width","minDate","maxDate","heights","configs","main_scale","initScaleConfig","processIgnores","initColSizes","limitVisibleRange","unshift","alineScaleColumns","reverseScale","setPosSettings","trace_x","indexes","trace_indexes","trace_index_transition","_ignore_time_config","skip_off_time","skip","probe","isWorkTime","ignore_x","display_count","min_col_width","line_height","cont_width","column_count","col_width","ignores","eachColumn","trace_x_ascending","iterateScales","lower_scale","upper_scale","upper_dates","lower_dates","prev","prevUpper","up","target_index","upper_start","upper_end","lower_start","lower_end","targetWidth","curr","tzOffset","getTimezoneOffset","_correct_dst_change","dates","lastDate","outDate","shared","ignore_time","ignore","ignored_colls","canvasRender","$scaleHelper","_posFromDateCache","_findBinary","low","high","$task","$task_scale","$task_data","$task_links","_tasks","linksAttr","link_attribute","linkLayers","_attachLayers","backgroundImage","data_els","_refreshScales","smart_scales","viewPort","_scales","_getScaleChunkHtml","expose","taskBar","taskSplitBar","append","_linkLayers","subscribeSmartRender","_taskRenderer","getLayer","_initStaticBackgroundRender","linkStore","linkRenderer","linkLayer","_linkRenderer","staticRender","static_background","staticBgContainer","$task_bg_static","insertBefore","getScale","destroy","_render_tasks_scales","scales_html","outer_width","_getScales","availWidth","autosize","autosize_min_width","cfgs","min_column_width","fromPos","toPos","scale_row_class","tplClass","_prepareScaleHtml","globalConfig","globalTemplates","startIndex","endIndex","inherit_scale_class","cssclass","getTimelineCellAttr","dateFromPos","part","_getColumnDuration","dateValue","columnIndexByDate","wholeCells","partCell","roundPos","_getNextVisibleColumn","visibleDateIndex","_getPrevVisibleColumn","_getClosestVisibleColumn","days","dateIndex","visibleIndex","visibleDate","transition","xLeft","xRight","task_height","offset","task_height_offset","_timelineCacheAttached","Layout","$root","_parseConfig","$cells","_resizeScrollbars","scrollbars","scrollbar","scrollChanged","visibleScrollbars","hiddenSrollbars","showScrollbar","hideScrollbar","shouldHide","shouldShow","visibleGroups","group","_syncCellSizes","groupName","newSize","groups","_eachChild","_syncGroupSize","_xLayout","ownSize","resizeSibling","siblingSize","totalGravity","totalSize","k","mainGrid","$content","startStage","mainCall","_resizeInProgress","contentViews","getCellsByType","setContentSize","_getAutosizeMode","isChild","cellId","sub","alert","rows","cols","views","initUI","getCells","_cleanElSize","_getBoxStyles","computed","properties","boxSizing","clientHeight","MozBoxSizing","horPaddings","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","vertPaddings","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","borderBox","innerHeight","outerHeight","boxSizes","contentSizes","_sizes","margin","_calcFreeSpace","_free","_gravity","_calcSize","_configureBorders","borderClass","lastVisibleIndex","lastCell","borderColorClass","_updateCellVisibility","oldVisibleCells","_visibleCells","firstCall","visibleCells","cellView","marginSide","dx","dy","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","updPerSecond","_on_timeout","ceil","_eventRemoveAll","$layout","resetLightbox","_dp","$destroyed","check","message","show_errors","expire","calculateScaleRange","listenWindowResize","resizeDelay","scroll_size","_reinit","$mouseEvents","reset","_update_flags","initTemplates","_clearTaskLayers","_clearLinkLayers","layout","createView","storeNames","refreshData","getPropertyValue","resizeWatcher","tabIndex","contentWindow","addResizeListener","$click","buttons","edit","showLightbox","delete","question","confirm_deleting","confirm_deleting_title","_dhtmlx_confirm","$new","deleteTask","hideLightbox","posX","_getHorizontalScrollbar","codeScrollLeft","visible_date","task_scroll_offset","preserve_scroll","new_pos","showDate","setSizes","locate","targetAttribute","task_attribute","_locate_css","_locateHTML","getTaskRowNode","changeLightboxType","getLightboxType","_silent_redraw_lightbox","_get_link_type","start_to_finish","prevOffset","time_unit","offsetChanged","_is_icon_open_click","month_full","month_short","day_full","day_short","new_task","icon_save","icon_cancel","icon_details","icon_edit","icon_delete","confirm_closing","section_description","section_time","section_type","column_wbs","column_text","column_start_date","column_duration","column_add","confirm_link_deleting","link_start","link_end","type_task","type_project","type_milestone","minutes","hours","weeks","months","years","message_ok","message_cancel","section_constraint","constraint_type","constraint_date","asap","alap","snet","snlt","fnet","fnlt","mso","mfo","resources_filter_placeholder","resources_filter_label","getTaskDND","_tasks_dnd","touch_feedback","touch_feedback_duration","_prevent_touch_scroll","_touch_feedback","vibrate","touchEventsSupported","createEvent","_touch_events","touches","pageX","pageY","pointerEnabled","pointerType","msPointerEnabled","MSPOINTER_TYPE_MOUSE","touchHandlers","names","accessor","scroll_state","dblclicktime","action_mode","scroll_mode","action_start","long_tap_timer","current_target","start_drag","on_mouse_move","preventDefault","cancelBubble","abs","_touch_scroll_active","new_scroll_state","block_action","on_mouse_down","renders","_getTaskLayers","isTaskVisible","cloneNode","cloneTaskRendered","_start_dnd","_touch_drag","refreshTask","on_mouse_up","now","onDoubleClick","skins","link_arrow_size","lightbox_additional_height","_second_column_width","_third_column_width","material","_redefine_lightbox_buttons","buttons_left","buttons_right","getTaskNode","indx","broadway","_lightbox_template","_config_buttons_left","_config_buttons_right","gantt_delete_btn","gantt_save_btn","terrace","meadow","skyblue","_get_skin","skin","getElementsByTagName","href","match","skinset","_configure","resetSkin","activate","_cached_functions","update_if_changed","active","cache","critical_path_mode","wrap_methods","methods","_prefetch_originals","prefetch","methodname","original","optimizer","argumentsArray","get_arguments_hash","cached_values","has_cached_value","get_cached_value","cache_value","arguments_hash","is_date","getUTCDate","values","stringify_argument","deactivate","setup","override_gantt","gantt_methods","optimize_render","deactivTimeout","TypeselectControl","typeKey","typeValue","oldOnChange","checkType","form_blocks","typeselect","_extend_to_optional","lightbox_block","optional_time","section","mapping","_resolve_default_mapping","disable","enable","disabled","update_block","_lightbox_id","previousSibling","button_text","resizeLightbox","button_click","_get_typed_lightbox_config","duration_optional","time_optional","time","ConstraintControl","isNonTimedConstraint","constraint_types","ASAP","ALAP","toggleTimeSelect","timeSelects","isNonTimed","getTimePicker","typeSelect","_time_format_order","_eventsInitialized","constraintDate","_fill_lightbox_select","constraintType","getConstraintType","getTimePickerValue","localCache","resources","resourcesValues","eventsInitialized","ResourcesControl","_getInputElementSelector","isChecked","_getResourcesElement","_getFilterCache","checkbox","checked","filterApplied","resourceFilterPlaceholder","filter_placeholder","resourceFilterLabel","resourcesElement","_setResourcesElement","htmlResourceRow","_setFilterCache","context","_applyFilter","resultSns","query","hideUnsetted","map_to","filterCache","_getValue","comparison","collection","resource_id","searchResult","itemIds","_getSnsToHideUnsetted","_resourceChangeListener","row","valueInput","resId","defaultValue","default_value","option","_saveValues","domElement","inputs","unassigned_value","_getDisplayValues","_getAmountInput","zoom","_offsetSizes","_center_lightbox","getLightbox","amountElement","selectorAdd","selectorSub","settedValues","settedValuesHash","itemsAdd","itemsSub","resourceId","amount","ParentControl","_display","item_id","getTaskByTime","allow_root","root_id","root_label","_filter","tmpDom","newOptions","onselect","replaceChild","DurationControl","_getStartDate","_getDuration","singleDate","single_date","readonly","lightboxDurationInputAttrString","duration_val","inps","btns","endspan","_calc_date","task_date","_change_duration","onclick","onkeydown","charCode","keyCode","which","constants","KEY_CODES","DOWN","UP","calculateDuration","startDate","endDate","RadioControl","radio","CheckboxControl","checkboxes","TimeControl","auto_end_date","_update_lightbox_select","selects","_get_timepicker_step","_getEndDate","TextareaControl","_get_input","TemplateControl","getHtmlButtons","floatRight","_migrate_buttons","lightboxButtonAttrString","getHtmlTimePickerOptions","settings","start_year","end_year","tdate","timeFormat","year_range","first","_time_values","time_picker","setTime","getHours","getMinutes","_lightbox_methods","registerProvider","showCover","_fill_lightbox","lightboxVisibleAttr","round_dnd_dates","timeline","_is_chart_visible","time_step","getLabel","sections","j","updateCollection","list_name","serverList","_lightbox_type","lightboxDiv","fullWidth","classNames","_lightbox","_is_lightbox_timepicker","wide_form","lightboxAttr","drag_lightbox","onmousedown","_ready_to_dnd","onselectstart","cursor","_init_dnd_events","_render_sections","labelBlock","inputBlock","inputId","bindLabelsToInputs","_init_lightbox_events","block","con","scroll_top","scroll_left","view_height","_cover","_document_height","_scroll_height","lightbox_events","_save_lightbox","gantt_cancel_btn","_cancel_lightbox","src","sec","buttonTarget","SPACE","shiftKey","click","edit_save","edit_cancel","getLightboxValues","addTask","getTaskIndex","updateTask","lightboxHiddenAttr","hideCover","_custom_lightbox","_set_lightbox_values","lightboxHeader","lightbox_header","task_time","substr","getLightboxSection","getValue","setValue","get_template_control","control","get_select_control","get_textarea_control","get_time_control","_move_while_dnd","_finish_dnd","_dnd_start_lb","gantt_unselectable","lb","_lb_start","ariaAttrs","date_part","time_format","getTimeFormat","limit_time_select","first_hour","last_hour","setHours","lightboxSelectAttrString","needSetTime","mapOffset","constraint","ok","opts","confirm","type_value","oldType","formData","updTask","isUnscheduledTask","unscheduled","show_unscheduled","taskStart","taskEnd","getGlobalTaskIndex","_getProjectEnd","project_end","_getProjectStart","project_start","_defaultTaskDate","parent_id","schedule_from_end","getTaskByIndex","_set_default_task_timing","createTask","details_on_create","selectTask","showTask","oldid","newid","unselect","getSelectedId","_get_task_timing_mode","task_type","$no_start","$no_end","$rendered_type","_init_task_timing","task_mode","dirty","resetProjectDates","taskMode","_assign_project_dates","getSubtaskDuration","task_id","taskTiming","_update_parents","has_changed","oldStart","oldEnd","roundDate","upper","lower","colIndex","steps","correctTaskWorkTime","work_time","correct_work_time","getClosestWorkTime","calendarManager","timeCalculator","getWorkHours","setWorkTime","unsetWorkTime","_hasDuration","hasDuration","createCalendar","addCalendar","getCalendar","getCalendars","getTaskCalendar","deleteCalendar","CalendarDisabledTimeStrategy","argumentsHelper","_calculateDuration","fixedUnits","createArgumentsHelper","NoWorkTimeCalendar","TimeCalculator","$disabledCalendar","_getCalendar","manager","WorkUnitsObjectCache","timestamp","_cache","setItem","WorkUnitsMapCache","has","unitCache","Map","set","workunit_map_cache_1","workunit_object_cache_1","createCacheObject","cacheFactory","CalendarWorkTimeStrategy","_workingUnitsCache","_getUnitOrder","_timestamp","UTC","_checkIfWorkingUnit","_isWorkTime","_is_work_day","_getWorkHours","_is_work_hour","_internDatesPull","_nextDate","_getWorkUnitsBetweenGeneric","stepStart","stepEnd","next","checkFirst","checkLast","isLastStep","_getMinutesPerDay","_getHoursPerDay","_getWorkUnitsForRange","getUnitsPerDay","total","_getWorkUnitsBetweenQuick","firstDayStart","firstDayEnd","day_start","lastDayStart","lastDayEnd","startPart","endPart","worktime","_setCalendar","_tryChangeCalendarSettings","payload","backup","JSON","stringify","_isEmptyCalendar","datesArray","isFullWeekSet","checkFullArray","getDay","reset_calendar","dateKey","is_work_unit","mult","_calculateEndDate","_calculateMinuteEndDate","_calculateHourEndDate","_addInterval","stopAction","added","current","satrt","interval","getSeconds","getMilliseconds","durationLeft","_getClosestWorkTime","inputDate","_getClosestWorkTimePast","_getClosestWorkTimeFuture","closestFuture","closestPast","_getClosestWorkTimeGeneric","increment","unitOrder","biggerTimeUnit","CalendarWorktimeStrategy","CalendarManager","_calendars","_getDayHoursForMultiple","calendars","tick","currPos","reduce","acc","mergeCalendars","newCalendar","_convertWorktimeSettings","parentCalendar","defaults","fulltime","apiCore","createDefaultCalendars","_getOwnCalendar","calendar_property","resource_calendars","calendarId","inherit_calendar","stop","worktimes","restoreConfigCalendars","global","worktimeFacadeFactory","facade","load","url","_load_url","cl","_load_type","ajax","on_load","xmlDoc","responseText","resp","_process_loading","collections","_load_collections","linksStore","initial_scroll","firstTask","collections_loaded","option_key","$ignore","json","dhx_security","security_key","serializeTask","_copyObject","serializeLink","_copyLink","xml_format","formate_date","rawLinks","getLinks","xml","_xmlNodeToJSON","attrs_only","nodeValue","_getCollections","loader","xpath","itms","attrs","_getXML","toptag","getXMLTopNode","xmltop","skey","evs","oldxml","startdate","est","enddate","predecessortasks","editable_property","readonly_property","htmlTags","extraSpaces","stripHTMLLite","htmlText","singleQuotes","escapeQuotes","getAttributeString","dateString","aria-label","_taskCommonAttr","tooltip_text","$dataprocessor_class","drag_move","taskRowAttr","order_branch","linkAttr","linkTypes","toStart","fromStart","drag_link","gridSeparatorAttr","buttonName","role","tabindex","headerText","time_option","aria-valuemin","multiselect","gridCellAttrString","textValue","gridAddButtonAttrString","messageButtonAttrString","buttonLabel","messageInfoAttr","messageModalAttr","quickInfoAttr","quickInfoHeaderAttrString","quickInfoHeader","quickInfoButtonAttrString","tooltipAttr","tooltipVisibleAttr","tooltipHiddenAttr","wai_aria_attributes","getGridColumn","visibleColumns","old_has_children","branch_loading_property","branch_loading","getUserData","needLoading","encodeURIComponent","setUserData","USE_KEY","_defaultScales","TimelineZoom","zoomIn","getCurrentLevel","setLevel","zoomOut","_levels","_activeLevelIndex","getLevels","zoomLevel","_getZoomIndexByName","_setLevel","levelName","_getVisibleDate","scrollPos","_visibleDate","cursorOffset","nextConfig","chartConfig","cursorDate","newPosition","middleDate","_attachWheelEvent","_eventAttached","_useKey","_handler","_defaultHandler","timelineOffset","wheelUp","deltaY","wheelDelta","stopPropagation","_setScaleSettings","_setScaleDates","_initialStartDate","_initialEndDate","activeLevelIndex","_mapScales","levels","_minColumnWidth","minColumnWidth","_maxColumnWidth","maxColumnWidth","_widthStep","widthStep","useKey","_initialized","trigger","_stepUp","_stepDown","nextLevel","newColumnWidth","callIfEnabled","auto_types","updateParents","batchUpdate","checkParent","targetType","getTaskTypeToUpdate","updateTaskType","setTaskType","delTaskParent","allTypes","hasChildren","originalRowDndParent","originalMoveTaskParent","isParsingDone","updateAfterRemoveChild","placeholder_task","insertPlaceholder","placeholders","afterEdit","newTask","dataProcessor","_silencedPlaceholder","setUpdated","ready","action","commands","command","entity","smartRender","createResourceMethods","resourceTaskCache","propertyName","propertyValue","filterResourceTasks","getResourceTasks","resourceIds","cacheKey","resourceHash","resourceValue","getResourceLoad","timegrid","currDate","timetable","resource_render_empty_cells","calculateResourceLoad","renderBar","renderConnection","prevLevel","isColumnVisible","columnIndex","cellLeftCoord","cellRightCoord","selectAssignments","owners","renderLine","resource_cell_class","resource_cell_value","renderHistogram","renderedHistogramCells","renderedHistogramRows","capacityMatrix","maxCapacity","capacity","histogram_cell_class","histogram_cell_label","fill","histogram_cell_allocated","histogram_cell_capacity","capacityElement","colStart","colEnd","bar","connection","renderHistogramLine","filterTasks","getResourceAssignments","assignments","resourceHistogram","dhtmlx","attaches","attachGantt","cmp","attachObject","dataType","dataObj","that","vs","av","grid","border","gridId","gridObj","dhtmlXCellObject","jQuery","$","fn","dhx_gantt","each","newgantt","Gantt","getGanttInstance","wbs","_needRecalc","_isRecalcNeeded","_isGroupSort","_groups","is_active","_getWBSCode","_calcWBS","$virtual","$wbs","_setWBSCode","getWBSCode","getByWBSCode","currentNode","_isFirst","_prevSibling","_wbs","_parent","createWbs","resetCache","getTaskByWBSCode","createMethod","isActive","disableMethod","methodName","dummyMethod","restoreMethod","restoreMethods","batchUpdatePayload","batch_update","noRedraw","dp_mode","call_dp","updateMode","setUpdateMode","resetProjects","refreshLink","methodsHash","setGanttMode","sendData","scrollRange","scrollStep","scrollDelay","scrollSpeed","isMove","delayTimeout","startPos","started","eventPos","isDisplayed","isScrollState","dragMarker","isResize","isLink","isClickDrag","autoscroll","defineDelayTimeout","speed","autoscroll_speed","setInterval","autoscroll_delay","defineScrollInterval","clearInterval","autoscrollInterval","isScroll","posY","need_scroll","scrollState","currentScrollTop","scrollOuterHeight","inner_height","scrollInnerHeight","currentScrollLeft","scrollOuterWidth","inner_width","scrollInnerWidth","autoscroll_step","boxSize","startCoord","ext","default","dp","userdata","_change_id","_ganttMode","changeLinkId","changeTaskId","_row_style","rowId","_delete_task","_sendTaskOrder","$drop_target","setDp","DataProcessorEvents","$dp","_dataProcessorHandlers","treeHelper","cascadeDelete","clientSideDelete","updated","updatedRows","clientOnly","_in_progress","cascade_delete","dpMode","cascade","sendAllData","_tSend","_waitMode","itemLinks","_links","getTaskLinks","updateLink","_tMode","_serverProcessor","substring","serverProcessor","pluralizedMode","urlSeparator","upd","isExist","addLink","objData","xml_date","parse_date","deleteLink","data_processor_events_1","extend_gantt_1","createDataProcessor","router","tMode","DataProcessor","setTransactionMode","serverProcessorURL","action_param","autoUpdate","_headers","_payload","_postDelim","_invalid","mandatoryFields","messages","inserted","deleted","invalid","invalid_cell","enableUTFencoding","headers","_endnm","_serializeAsJson","_router","escape","_utf","setDataColumns","_columns","getSyncState","enableDataNames","enablePartialDataSend","_changed","dnd","findRow","existing","set_invalid","is_invalid","markRow","_methods","details","getActionByState","checkBeforeUpdate","mytype","_h2","editStop","_beforeSendData","_getRowData","_sendData","_serializeAsJSON","serialize_one","stack","pref","serialized","_applyPayload","dataToSend","queryParams","ids","afterUpdate","urlParams","_user","method","taskState_1","taskAction","ganttMode","getGanttMode","_onResolvedCreateUpdate","tid","afterUpdateCallback","actionPromise","then","_forEachUpdatedRow","valid","_getAllData","stop_1","hasOne","setVerificator","verifFunction","clearVerificator","pattern","defineAction","_uActions","btag","correct","originalSid","_xml","reqUrl","filePath","finalizeUpdate","cleanUpdate","atag","anObj","_dp_init","_setDefaultTransactionMode","dataProcessorEvents","setOnAfterUpdate","enableDebug","setOnBeforeUpdateHandler","setAutoUpdate","user","_needUpdate","_updateBusy","afterAutoUpdate","fullSync","loadUpdate","xml_node","getUpdates","_v","_a","vers","upds","status_1","parent_1","modes","newState","format_date","_isFetchResult","ReadableStream","setSerializeAsJSON","flag","DEPRECATED_api","server","getDataProcessorModes","getAvailableModes","bindDataStore","itemRepainter","getLayers","render_item","renderers","render_items","update_items","skipRepaint","onUpdateRequest","change_id","refreshId","selectedId","deleteItem","subItem","isSelected","getLinkCount","getTaskCount","getVisibleTaskCount","startTask","calculateTaskLevel","moveTask","createTasksFacade","createLinksFacade","createDatastoreSelect","datastoreRender","getDatastores","createDatastoreFacade","createDatastore","$StoreType","open_tree_initially","dropService","setService","storeList","stores","refresh_links","linkId","_clear_data","unselectTask","facadeFactory","parseDate","checkLinkedTaskVisibility","sync_link","sourceTask","targetTask","sync_link_delete","sync_links","mapEvents","conf","mapFrom","mapTo","sourceEvent","targetEvent","$index","oldState","sourceVisible","targetVisible","deletedLinks","onItemLoading","onBeforeAdd","onAfterAdd","onBeforeUpdate","onAfterUpdate","onBeforeDelete","onAfterDelete","onIdChange","onBeforeItemMove","onAfterItemMove","onFilterItem","onItemOpen","onItemClose","onBeforeSelect","onAfterSelect","onAfterUnselect","getTimeline","getGrid","getVerticalScrollbar","getHorizontalScrollbar","DEFAULT_VALUE","tryCall","fallback","getTaskTop","getTaskPosition","getTaskHeight","roundTaskDates","getLinkNode","oldH","oldV","newV","newH","date_x","scroll_to","_scroll_state","x_pos","y_pos","x_inner","y_inner","scrollVer","scrollHor","horState","visible","verState","initializer","_legacyGridResizerClass","resizers","gridResizer","onCreated","mainTimeline","show_chart","showGrid","show_grid","colsWidth","grid_limits","original_grid_width","skinSettings","_initScrollStateEvents","_getVerticalScrollbar","oldPos","newPos","$scroll_ver","$scroll_hor","_findGridResizer","gridFirst","_getSiblings","_behind","_front","onInitialized","resizeInfo","initialWidth","prevCellWidth","nextCellWidth","viewCell","limits","newBehindSize","newFrontSize","oldBackSize","oldFrontSize","newBackSize","oldSize","onDestroyed","initLinksDND","_link_landing","_link_target_task","_link_target_task_start","_link_source_task","_link_source_task_start","getDndState","DnD","sensitivity","updates_per_second","getLinePos","shift","isStart","taskPos","xEnd","yEnd","milestoneWidth","origWidth","sqrt","getVisibleMilestoneWidth","getMilestonePosition","isMilestone","updateMarkedHtml","drag_link_class","resetDndState","showDirectingLine","s_x","s_y","e_x","e_y","_direction","getDirectionLine","link_direction_class","dist","pow","tan","angle","atan","coordinateCircleQuarter","PI","sin","cos","ieTransform","shiftLeft","shiftTop","sX","eX","sY","eY","_dir_start","dd","getPosition","advanceMarker","landing","prevTarget","prevLanding","prevToStart","targ","_dir_end","targetChanged","createLinkDND","createTaskDND","round_task_dates","dragMultiple","_events","before_start","before_finish","after_finish","_handlers","_domEvents","clear_drag_state","set_actions","drag_from_start","stage","_move","_resize","_resize_progress","start_x","start_y","coords_x","_drag_task_coords","min_duration","diffValue","_find_max_shift","dragItems","correctShift","minX","maxX","maxShift","minShift","new_start","new_end","obj_s_x","obj_e_x","_mouse_position_change","_is_number","isFinite","_update_on_move","_update_item_on_move","curr_date","getTime","drag_project","initialDrag","childDrag","_get_drag_mode","_fix_dnd_scale_time","fixStart","fixEnd","_fix_working_times","_finalize_mouse_up","_fireEvent","_dhx_changed","dragProperty","params","drag_state","taskDnD","linkDnD","_linksDnD","_tasksDnD","_attachDomEvents","_attachStateProvider","extendDom","_clearDomEvents","_clearStateProvider","_delete_link_handler","link_description","coll","coll_date","scale_step","unregisterProvider","gridToPageCoordinates","gridPos","removeLineHighlight","markerLine","highlightPosition","ePos","gridHeight","getTaskMarkerPosition","pointerEvents","markerFolder","highlightFolder","linePos","indentNode","indent","itemTop","itemHeight","childCount","getLineMarkerPosition","highlightRow","dropTarget","relTargetPos","eventTop","findClosesTarget","allowedLevel","targetLevel","findTargetAbove","findTargetBelow","rootLevel","getLockedLevelTarget","getMultiLevelTarget","higlighter","dnd_sensitivity","hideQuickInfo","_hideQuickInfo","initial_open_state","outerHTML","drop_target","$transparent","getDropPosition","getTargetTaskId","lockLevel","order_branch_free","getStore","lastTaskOfLevel","last_item","_getGridPos","_getTargetY","_getTaskByY","dropIndex","targetY","over","nextId","prevId","rowDnd","rowDndMarker","extendGantt","inlineEditors","_inlineEditors","createEditors","initEvents","clearEvents","scroll_on_click","sorting_method","callHandler","totalWidth","isLegacyRender","aria","date_grid","tree","grid_indent","grid_blank","grid_file","grid_open","grid_folder","align","grid_row_class","css_template","$keyboardNavigation","dispatcher","isTaskFocused","sourceTop","sourceHeight","targetTop","targetHeight","sourceLeft","sourceRight","targetLeft","targetRight","isLinkInViewPort","drawer","current_pos","dirs","down","path","point","get_lines","dots","line_to","get_path","line","_get_line","get_wrapper_sizes","wrapper_size","link_wrapper_width","get_line_sizes","line_size","marginTop","marginLeft","render_line","innerPos","get_direction","vect","path_builder","point_to","get_points","pt","get_endpoint","xy","shiftX","lineType","get_line_type","forward","sign","milestoneHeight","lines","cssTemplate","link_class","isCriticalLink","endpoint","line_width","_render_link_arrow","borderColor","viewportLeft","viewPortRight","firstCellIndex","lastCellIndex","renderedCells","isRendered","detachRenderedCell","getCellTemplate","task_cell_class","warn","timeline_cell_class","renderOneCell","cssTemplateContent","static_background_cells","cellTemplate","show_task_cells","odd","task_row_class","isBarInViewPort","createBaseBarRender","defaultRender","sub_tasks","keepDatesOnEdit","keepDurationOnEdit","defaultActionOnEdit","PredecessorEditor","parseInputString","predecessors","delimiter","formatPredecessors","pred","getLinksDiff","predecessorCodes","selectedLinks","predecessor","lag","getSelectedLinks","existingLinksSearch","linksToAdd","linkKey","linksToDelete","remove","editor","linksDiff","autoSchedule","inputPredecessors","taskPredecessors","html5DateFormat","dateToStr","strToDate","DateEditor","str_to_date","parsed","SelectEditor","optionsHtml","NumberEditor","TextEditor","controller","onBlurDelay","keyNav","keyboardNavigation","activeCell","locateCell","columnName","editorState","getEditorConfig","startEdit","hasEditor","keyboard","preventKeyNav","ENTER","ctrlKey","metaKey","ESC","LEFT","RIGHT","editorType","DELETE","TAB","editPrevCell","editNextCell","modifiers","anyModifier","alt","ctrl","meta","getCommandHandler","onShow","onHide","isChanged","keyboard_navigation","defaultPrevented","shouldPrevent","defaultMapping","keyNavMappings","setMapping","getMapping","keyboard_navigation_cells","getKeyboardMapping","textEditorFactory","numberEditorFactory","selectEditorFactory","dateEditorFactory","predecessorEditorFactory","linkedPropertiesProcessor","initConfigs","editor_types","number","keyboardMapping","eventBus","inlineEditController","_createPlaceholder","_getEditorPosition","findVisibleIndex","updateTaskDateProperties","_itemId","_columnName","_editor","_editorType","_placeholder","editorConfig","_getItemValue","newValue","oldValue","inline_editors_date_processing","_findEditableCell","nextIndex","nextColumn","getNextCell","getFirstCell","getLastCell","canChangeRow","moveRow","nextItem","editNextRow","editPrevRow","handlerId","ResourceHistogram","ResourceGrid","_grid_resize","column_before_start","grid_resizer_column_attribute","column_index","column_after_start","drag_index","column_drag_move","target_column","pointerPosition","minPointerPosition","maxPointerPosition","markerStartPosition","marker_width","keep_grid_width","limit_max","rightColumnsWidth","column_drag_end","resize_el","createStaticBgHelper","canvasBgCache","staticBgStyleId","parseRgb","rgbCss","exec","getUrlFromCache","getHashKey","cellStyles","bottomBorderColor","rightBorderColor","cacheUrl","generateBgUrl","canvas","getContext","rowHeight","image","createImageData","imageSmoothingEnabled","verticalLineWidth","rightBorderWidth","verticalLineColor","drawDot","horizontalLineWidth","bottomBorderWidth","horizontalLineColor","putImageData","drawGrid","toDataURL","matrix","getCssClass","targetNode","totalHeight","bgDivs","bgTiles","tile","prevCell","divs","prevWidth","widths","leftPos","maxTileSize","appVersion","currentTop","tileWidth","currentHeight","whiteSpace","createBgDivs","differentWidths","getColumnWidths","styleHTML","cachedUrl","bgImage","getStyleElement","createBackgroundTiles","rowStyles","getCellStyles","fragment","createDocumentFragment","ScrollbarCell","_scrollHorizontalHandler","_scrollVerticalHandler","_outerScrollVerticalHandler","_outerScrollHorizontalHandler","_mouseWheelHandler","_isHorizontal","scrollPosition","_isVertical","_initVertical","_initHorizontal","_initMouseWheel","_initLinkedViews","_getRootParent","_eachView","eachCell","_getLinkedViews","scrollX","_updateLinkedViews","scrollHorizontally","_scrolling","scrollVertically","_wheel_time","_oldLeft","_getScrollSize","outerSize","isHorizontal","linked","scrollProperty","innerSizeProperty","outerProperty","_getScrollOffset","cellScrollSize","nonScrollableSize","outerScroll","innerScroll","scrollSizes","_setScrollSize","toggleVisibility","_getScaleOffset","parentLayout","_oldTop","_checkWheelTarget","connectedViews","ff","wx","deltaX","wheelDeltaX","wy","oldLeft","detail","oldTop","ResizerCell","startBackSize","startFrontSize","_moveHandler","_moveResizer","_resizer","_upHandler","newSizes","_getNewSizes","back","front","_setSizes","_setBackground","_clearResizer","_clearListeneres","_startOnMove","_cancelDND","_callStartDNDEvent","_xMode","_startDND","_eachGroupItem","_isPosChanged","_downHandler","_setResizer","_positions","classes","overflow","_getDirection","_getResizePosition","behindSide","behindMin","frontSide","frontMin","newBehindSide","newFrontSide","_getGroupName","_getGroupResizePosition","minMax","positions","nextX","nextY","_setGravity","frontSize","behindSize","newFrontG","newBehindG","_assignNewSizes","ViewCell","childConfig","$initialized","unload","outerX","outerY","childSize","ViewLayout","$cell","byMaxSize","otherCell","task_area_pulls","task_area_renderers","getRenderer","renderMethod","updateMethod","layer_attribute","dom","rendererViewPort","remove_item","clear_container","buffer","vis","itemNode","replace_item","newNode","clearRenderers","renderFactoryProvider","mergeFilters","filter_methods","filter_method","renderFactory","createGroup","get_container","rel_root","defaultFilters","renderGroup","tempCollection","filters","_add","pending","topmost","rel","eachLayer","createLayerFactory","previusSiblingContainer","defaultContainerSibling","addTaskLayer","removeTaskLayer","addLinkLayer","_getLinkLayers","removeLinkLayer","createMouseHandler","eventHandlers","doubleclick","contextMenu","addEventTarget","onClick","findEventHandlers","callEventHandlers","onContextMenu","returnValue","delegateHandlers","handlerResult","details_on_dblclick","onMouseMove","_last_move_event","domEvents","elementHandlers","ViewSettings","extendSettings","parentSettings","own","parentView","parentConfig","parentTemplates","configurable","createFactory","createdViews","creator","configure","registerView","viewConstructor","uiFactory","createLayers","Resizer","Scrollbar","gridEditorsFactory","renderTaskBar","renderSplitTaskBar","renderTaskBg","renderLink","gridRenderer","mainGridInitializer","mainTimelineInitializer","mainLayoutInitializer","attachInitializer","layersEngine","layersApi","layersService","boxAttribute","_dhx_msg_cfg","usercall","modalBox","modal_key","messageBox","modality","cover","buttonAriaAttrs","getFirstDefined","_createBox","cancel","contentId","btn","_boxStructure","alertPopup","confirmPopup","boxPopup","box_params","focusable","timers","info","hideAll","popups","modalbox","setImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","random","onGlobalMessage","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","script","onreadystatechange","installReadyStateChangeImplementation","clearImmediate","scope","Timeout","clearFn","_id","_clearFn","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","u","_dereq_","1","Promise","SomePromiseArray","_SomePromiseArray","any","promises","promise","setHowMany","setUnwrap","2","firstLineError","schedule","Queue","util","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","receiver","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","_drainQueue","_drainQueueStep","_settlePromises","setScheduler","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","stderr","write","exit","throwLater","invokeLater","invoke","settlePromises","_reset","./queue","./schedule","./util","3","INTERNAL","tryConvertToPromise","debug","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","resolve","4","old","bluebird","noConflict","./promise","5","cr","callerCache","getterCache","canEvaluate","caller","classString","TypeError","ensureMethod","namedGetter","indexedGetter","isIdentifier","isIndex","maybeGetter","getGetter","6","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancellation","_warn","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","7","NEXT_FILTER","getKeys","instances","boundTo","predicateLoop","matchesPredicate","isObject","./es5","8","longStackTraces","contextStack","Context","_trace","CapturedTrace","peekContext","lastIndex","_promiseCreated","_pushContext","_popContext","_peekContext","trace","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","9","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","getDomain","_getDomain","Warning","es5","canAttachTrace","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","warnings","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","reason","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","Promise_dereferenceTrace","_dereferenceTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","longStackTracesDereferenceTrace","hasLongStackTraces","fireDomEvent","CustomEvent","dispatchEvent","eventData","cancelable","domEvent","Event","initCustomEvent","fireGlobalEvent","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","defaultFireEvent","cancellationExecute","executor","reject","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","flags","branchesRemainingToCancel","warningsOption","_clearCancellationData","_execute","monitoring","isFulfilled","ignoreSelf","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","formatAndLogError","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","stackFramesAsArray","isSoft","localHandler","localEventFired","formatNonError","newStr","maxChars","snip","captureStackTrace","parseLineInfoRegex","parseLineInfo","fileName","_promisesCreated","uncycle","inherits","stackToIndex","currentStack","cycleEdgeNode","currentChildLength","stacks","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","removeDuplicateOrEmptyJumps","reconstructStack","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","err","isTTY","checkForgottenReturns","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","msg","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","deprecated","replacement","./errors","10","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","11","PromiseReduce","PromiseAll","all","promiseAllThis","mapSeries","12","_TypeError","_RangeError","Objectfreeze","freeze","subError","nameProperty","defaultMessage","SubError","CancellationError","TimeoutError","AggregateError","RangeError","writable","OperationalError","cause","errorTypes","RejectionError","13","isES5","getDescriptor","getOwnPropertyDescriptor","getOwnPropertyNames","propertyIsWritable","prop","descriptor","proto","ObjectKeys","14","PromiseMap","15","catchFilter","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","./catch_filter","16","Proxyable","errors","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","traceParent","promiseFromYieldHandler","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","17","spread","18","MappingPromiseArray","limit","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","_init$","_init","_values","preservedValues","totalResolved","_totalResolved","_resolve","booleans","19","_resolveFromSyncValue","attempt","20","maybeWrapAsError","rErrorKey","wrapAsOperationalError","isUntypedError","markAsOriginatingFromRejection","multiArgs","wrapped","21","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","22","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","createContext","nodebackForPromise","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","reflect","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","cast","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","23","resolveValueIfEmpty","asArray","_iterate","_resolveEmptyArray","toResolutionValue","getActualLength","shouldCopyValues","isResolved","24","THIS","withAppended","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","suffix","getDataPropertyOrDefault","promisifiableMethods","suffixRegexp","inheritedDataKeys","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","escapeIdentRegex","makeNodePromisified","makeNodePromisifiedEval","defaultThis","promisified","promisifyAll","promisifier","promisifiedKey","promisify","copyDescriptors","isClass","25","Es6Map","mapToEntries","extractEntry","PropertiesPromiseArray","entries","isMap","_isMap","props","castValue","entriesToMap","keyOffset","26","_capacity","_willBeOverCapacity","_checkCapacity","wrapMask","_resizeTo","oldCapacity","moveItemsCount","srcIndex","dst","dstIndex","arrayMove","27","raceLater","race","28","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","29","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","ProcessNextTick","isRecentNode","nativePromise","standalone","cordova","toggleScheduled","div2","o2","observe","disconnect","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","settle","31","CANCELLATION","_howMany","_unwrap","some","howMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","hasProp","doGetThen","getThen","isAnyBluebirdPromise","doThenable","34","HandleWrapper","afterValue","ms","successClear","failureClear","handleWrapper","afterTimeout","35","NULL","dispose","thenable","_isDisposable","_getDisposer","_setDisposable","castPreservingDisposable","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","doDispose","_unsetDisposable","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatchTarget","globalObject","tryCatcher","Child","Parent","T","isPrimitive","maybeError","safeToString","appendee","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","ic","foo","rident","filledRange","prefix","isError","ArrayFrom","itResult","it","hasEnvVariables","chrome","loadTimes","P","stateProviders","provider","regTemplates","initial","template_name","date_format","server_utc","task_unscheduled_time","grid_date_format","tooltip_date_format","copyDomEvent","altKey","_obj","_settings","inputMethods","getInputMethods","_drag_start_timer","clearDragTimer","original_target","dragStart","traceDragEvents","inputMethod","mousemove","dragMove","dragScroll","limited_mousemove","dndActive","mouseup","dragEnd","checkPositionChange","diff_x","diff_y","initDnDMarker","backupEventTarget","getEvent","backup_element","elementFromPoint","month_short_hash","month_full_hash","hour_start","time_part","week_start","start_on_monday","month_start","setDate","quarter_start","res_month","setMonth","year_start","setMinutes","minute_start","setSeconds","setMilliseconds","_add_days","inc","ndate","setYear","add_quarter","to_fixed","num","utc","getISOWeek","getWeek","splt","mask","_getWeekNumber","isoWeek","nday","first_thursday","year_number","ordinal_date","getUTCISOWeek","convert_to_utc","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","createConfig","DOMParser","parseFromString","ActiveXObject","loadXML","tagname","xhr","status","responseXML","xpathExp","docObj","selectNodes","ownerDocument","evaluate","XPathResult","ANY_TYPE","iterateNext","_call","onLoad","getSync","put","postData","del","post","postSync","isQt","readyState","setRequestHeader","toUpperCase","send","show_loading","dhx_save_btn","dhx_cancel_btn","dhx_delete_btn","project_sections","milestone_sections","grid_resizer_attribute","grid_resize","prevent_default_scroll","service","$inject","license","templatesLoader","stateService","selected_task","uiApi","createLayoutFacade"],"mappings":"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","file":"dhtmlxgantt.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codebase/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 166);\n","var helpers = require(\"./helpers\");\n\nfunction copy(object) {\n\tvar i, result; // iterator, types array, result\n\n\tif (object && typeof object == \"object\") {\n\n\t\tswitch (true){\n\t\t\tcase (helpers.isDate(object)):\n\t\t\t\tresult = new Date(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isArray(object)):\n\t\t\t\tresult = new Array(object.length);\n\t\t\t\tfor(i = 0; i < object.length; i++){\n\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isStringObject(object)):\n\t\t\t\tresult = new String(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isNumberObject(object)):\n\t\t\t\tresult = new Number(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isBooleanObject(object)):\n\t\t\t\tresult = new Boolean(object);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresult = {};\n\t\t\t\tfor (i in object) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.apply(object, [i]))\n\t\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result || object;\n}\n\nfunction mixin (target, source, force){\n\tfor (var f in source)\n\t\tif (((target[f] === undefined) || force)) target[f]=source[f];\n\treturn target;\n}\n\nfunction defined(obj) {\n\treturn typeof(obj) != \"undefined\";\n}\n\nvar seed;\nfunction uid() {\n\tif (!seed)\n\t\tseed = (new Date()).valueOf();\n\n\tseed++;\n\treturn seed;\n}\n\n//creates function with specified \"this\" pointer\nfunction bind(functor, object){\n\tif(functor.bind)\n\t\treturn functor.bind(object);\n\telse\n\t\treturn function(){ return functor.apply(object,arguments); };\n}\n\nfunction event(el, event, handler, capture){\n\tif (el.addEventListener)\n\t\tel.addEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.attachEvent)\n\t\tel.attachEvent(\"on\"+event, handler);\n}\n\nfunction eventRemove(el, event, handler, capture){\n\tif (el.removeEventListener)\n\t\tel.removeEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.detachEvent)\n\t\tel.detachEvent(\"on\"+event, handler);\n}\n\nmodule.exports = {\n\tcopy: copy,\n\tdefined: defined,\n\tmixin: mixin,\n\tuid: uid,\n\tbind: bind,\n\tevent: event,\n\teventRemove: eventRemove\n};","//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = \"\";\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp(\"\\\\s?\\\\b\" + name[i] + \"\\\\b(?![-_.])\", \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction hasClass(element, className){\n\tif ('classList' in element) {\n\t\treturn element.classList.contains(className);\n\t} else { \n\t\treturn new RegExp(\"\\\\b\" + className + \"\\\\b\").test(element.className);\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave = document.createElement(\"div\");\nfunction insert(node, newone) {\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tvar trg = getTargetNode(e);\n\tvar css = \"\";\n\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tvar d = document.documentElement;\n\tvar box = elementPosition(node);\n\n\treturn {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft - box.x + node.scrollLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop - box.y + node.scrollTop\n\t};\n}\n\nfunction isChildOf(child, parent){\n\tif(!child || !parent){\n\t\treturn false;\n\t}\n\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\n\treturn child === parent;\n}\n\nfunction closest(element, selector){\n\tif(element.closest){\n\t\treturn element.closest(selector);\n\t}else if(element.matches || element.msMatchesSelector || element.webkitMatchesSelector){\n\t\tvar el = element;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tvar method = el.matches || el.msMatchesSelector || el.webkitMatchesSelector;\n\n\t\t\tif (method.call(el, selector)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1); \n\t\treturn null;\n\t}else{\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\"Your browser is not supported\");\n\t\treturn null;\n\t}\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n\thasClass: hasClass,\n\tclosest: closest\n};","var units = {\n\t\"second\": 1,\n\t\"minute\": 60,\n\t\"hour\": 60 * 60,\n\t\"day\": 60 * 60 * 24,\n\t\"week\": 60 * 60 * 24 * 7,\n\t\"month\": 60 * 60 * 24 * 30,\n\t\"quarter\": 60 * 60 * 24 * 30 * 3,\n\t\"year\": 60 * 60 * 24 * 365\n};\nfunction getSecondsInUnit(unit){\n\treturn units[unit] || units.hour;\n}\n\nfunction forEach(arr, callback) {\n\tif (arr.forEach) {\n\t\tarr.forEach(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tcallback(workArray[i], i);\n\t\t}\n\t}\n}\n\nfunction arrayMap(arr, callback) {\n\tif (arr.map) {\n\t\treturn arr.map(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tvar resArray = [];\n\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tresArray.push(callback(workArray[i], i));\n\t\t}\n\t\treturn resArray;\n\t}\n}\n\n\nfunction arrayFind(arr, callback) {\n\tif (arr.find) {\n\t\treturn arr.find(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\treturn arr[i];\n\t\t\t}\n\t\t}\n\t}\n}\n\n// iframe-safe array type check instead of using instanceof\nfunction isArray(obj){\n\tif(Array.isArray){\n\t\treturn Array.isArray(obj);\n\t}else{\n\t\t// close enough\n\t\treturn (obj && obj.length !== undefined && obj.pop && obj.push);\n\t}\n}\n\n// non-primitive string object, e.g. new String(\"abc\")\nfunction isStringObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function String() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Number(5)\nfunction isNumberObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Number() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Boolean(true)\nfunction isBooleanObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Boolean() { [native code] }\";\n}\n\nfunction isDate(obj) {\n\tif (obj && typeof obj === \"object\") {\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\n\t} else {\n\t\treturn false;\n\t}\n}\n\nfunction arrayFilter(arr, callback) {\n\tvar result = [];\n\n\tif (arr.filter) {\n\t\treturn arr.filter(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\tresult[result.length] = arr[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nfunction hashToArray(hash) {\n\tvar result = [];\n\n\tfor (var key in hash) {\n\t\tif (hash.hasOwnProperty(key)) {\n\t\t\tresult.push(hash[key]);\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction arraySome(arr, callback) {\n\tif (arr.length === 0) return false;\n\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (callback(arr[i], i, arr)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction arrayDifference(arr, callback) {\n\treturn arrayFilter(arr, function(item, i) {\n\t\treturn !callback(item, i);\n\t});\n}\n\nfunction throttle (callback, timeout) {\n\tvar wait = false;\n\n\treturn function () {\n\t\tif (!wait) {\n\t\t\tcallback.apply(null, arguments);\n\t\t\twait = true;\n\t\t\tsetTimeout(function () {\n\t\t\t\twait = false;\n\t\t\t}, timeout);\n\t\t}\n\t};\n}\n\nfunction delay (callback, timeout){\n\tvar timer;\n\n\tvar result = function() {\n\t\tresult.$cancelTimeout();\n\t\tcallback.$pending = true;\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\ttimer = setTimeout(function(){\n\t\t\tcallback.apply(this, args);\n\t\t\tresult.$pending = false;\n\t\t}, timeout);\n\t};\n\t\n\tresult.$pending = false;\n\tresult.$cancelTimeout = function(){\n\t\tclearTimeout(timer);\n\t\tcallback.$pending = false;\n\t};\n\tresult.$execute = function(){\n\t\tcallback();\n\t\tcallback.$cancelTimeout();\n\t};\n\n\treturn result;\n}\n\nfunction sortArrayOfHash(arr, field, desc) {\n\tvar compare = function(a, b) {\n\t\treturn a < b;\n\t};\n\n\tarr.sort(function(a, b) {\n\t\tif (a[field] === b[field]) return 0;\n\n\t\treturn desc ? compare(a[field], b[field]) : compare(b[field], a[field]);\n\t});\n}\n\nfunction objectKeys(obj) {\n\tif (Object.keys) {\n\t\treturn Object.keys(obj);\n\t}\n\tvar result = [];\n\tvar key;\n\tfor (key in obj) {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction requestAnimationFrame(callback) {\n\tvar w = window;\n\tvar foundRequestAnimationFrame = w.requestAnimationFrame\n\t\t|| w.webkitRequestAnimationFrame\n\t\t|| w.msRequestAnimationFrame\n\t\t|| w.mozRequestAnimationFrame\n\t\t|| w.oRequestAnimationFrame\n\t\t|| function(cb) { setTimeout(cb, 1000/60); };\n\treturn foundRequestAnimationFrame(callback);\n}\n\nfunction isEventable(obj) {\n\treturn obj.attachEvent && obj.detachEvent;\n}\n\nmodule.exports = {\n\tgetSecondsInUnit: getSecondsInUnit,\n\tforEach: forEach,\n\tarrayMap: arrayMap,\n\tarrayFind: arrayFind,\n\tarrayFilter: arrayFilter,\n\tarrayDifference: arrayDifference,\n\tarraySome: arraySome,\n\thashToArray: hashToArray,\n\tsortArrayOfHash: sortArrayOfHash,\n\tthrottle: throttle,\n\tisArray: isArray,\n\tisDate: isDate,\n\tisStringObject: isStringObject,\n\tisNumberObject: isNumberObject,\n\tisBooleanObject: isBooleanObject,\n\tdelay: delay,\n\tobjectKeys: objectKeys,\n\trequestAnimationFrame: requestAnimationFrame,\n\tisEventable: isEventable\n};","module.exports = function (d, b) {\n\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\tfunction __() { this.constructor = d; }\n\td.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};","var EventHost = function(){\n\tthis._connected = [];\n\tthis._silent_mode = false;\n};\n\nEventHost.prototype = {\n\t_silentStart: function() {\n\t\tthis._silent_mode = true;\n\t},\n\t_silentEnd: function() {\n\t\tthis._silent_mode = false;\n\t}\n};\n\nvar\tcreateEventStorage = function(obj) {\n\tvar dhx_catch = [];\n\tvar z = function(){\n\t\tvar res = true;\n\t\tfor (var i = 0; i < dhx_catch.length; i++){\n\t\t\tif (dhx_catch[i]){\n\t\t\t\tvar zr = dhx_catch[i].apply(obj, arguments);\n\t\t\t\tres=res&&zr;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\tz.addEvent=function(ev){\n\t\tif (typeof (ev) == \"function\")\n\t\t\treturn dhx_catch.push(ev)-1;\n\t\treturn false;\n\t};\n\tz.removeEvent=function(id){\n\t\tdhx_catch[id]=null;\n\t};\n\treturn z;\n};\n\nfunction makeEventable(obj){\n\n\tvar eventHost = new EventHost();\n\tobj.attachEvent=function(name, catcher, callObj){\n\t\tname='ev_'+name.toLowerCase();\n\t\tif (!eventHost[name])\n\t\t\teventHost[name] = createEventStorage(callObj||this);\n\n\t\treturn(name+':'+eventHost[name].addEvent(catcher)); //return ID (event name & event ID)\n\t};\n\tobj.attachAll = function(callback, callObj){\n\t\tthis.attachEvent('listen_all', callback, callObj);\n\t};\n\n\tobj.callEvent=function(name, arg0, callObj){\n\t\tif (eventHost._silent_mode) return true;\n\n\t\tvar handlerName = 'ev_'+name.toLowerCase();\n\n\t\tif (eventHost['ev_listen_all']){\n\t\t\teventHost['ev_listen_all'].apply(callObj || this, [name].concat(arg0));\n\t\t}\n\n\t\tif (eventHost[handlerName])\n\t\t\treturn eventHost[handlerName].apply(callObj || this, arg0);\n\t\treturn true;\n\t};\n\tobj.checkEvent=function(name){\n\t\treturn (!!eventHost['ev_'+name.toLowerCase()]);\n\t};\n\tobj.detachEvent=function(id){\n\t\tif (id){\n\t\t\tvar list = id.split(':');//get EventName and ID\n\t\t\tvar eventName = list[0];\n\t\t\tvar eventId = list[1];\n\n\t\t\tif(eventHost[eventName]){\n\t\t\t\teventHost[eventName].removeEvent(eventId); //remove event\n\t\t\t}\n\t\t}\n\t};\n\tobj.detachAllEvents = function(){\n\t\tfor (var name in eventHost){\n\t\t\tif (name.indexOf(\"ev_\") === 0)\n\t\t\t\tdelete eventHost[name];\n\t\t}\n\t};\n\n}\n\nmodule.exports = makeEventable;","function dummy() {\n\t// eslint-disable-next-line\n\tconsole.log(\"Method is not implemented.\"); \n}\nfunction BaseControl() {\n}\n\n// base methods will be runned in gantt context\nBaseControl.prototype.render = dummy; // arguments: sns\nBaseControl.prototype.set_value = dummy; // arguments: node, value, ev, sns(config)\nBaseControl.prototype.get_value = dummy; // arguments node, ev, sns(config)\nBaseControl.prototype.focus = dummy; // arguments: node\n\nmodule.exports = function(gantt) { // we could send current instance of gantt to module\n\treturn BaseControl;\n};","module.exports = function wrapSmartRender(renderOne, updateOne, isInViewPort, smartRendering){\n\tif(!smartRendering){\n\t\treturn renderOne;\n\t}else{\n\t\treturn {\n\t\t\trender: function(item, view, viewport){\n\t\t\t\tif(!isInViewPort.call(this, item, view, viewport)){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn renderOne.call(this, item, view, viewport);\n\t\t\t},\n\t\t\tupdate: function(item, view, engine, viewport){\n\t\t\t\tif(!isInViewPort.call(this, item, view, viewport)){\n\t\t\t\t\tengine.hide(item.id);\n\t\t\t\t}else if(engine.rendered[item.id]){\n\t\t\t\t\tupdateOne.call(this, item, view, engine, viewport);\n\t\t\t\t\tengine.restore(item);\n\t\t\t\t}else{\n\t\t\t\t\trenderOne.call(this, item, view, viewport);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\n};","var utils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\");\n\nvar Cell = (function () {\n\t\"use strict\";\n\n\tfunction Cell(parent, config, factory, gantt) {\n\t\tif (parent) {\n\t\t\tthis.$container = domHelpers.toNode(parent);\n\t\t\tthis.$parent = parent;\n\t\t}\n\t\t// save config\n\t\tthis.$config = utils.mixin(config, {\n\t\t\theaderHeight: 33\n\t\t});\n\t\tthis.$gantt = gantt;\n\t\tthis.$domEvents = gantt._createDomEventScope();\n\t\t// set id\n\t\tthis.$id = config.id || \"c\" + utils.uid();\n\n\t\tthis.$name = \"cell\";\n\t\tthis.$factory = factory;\n\n\t\teventable(this);\n\n\t}\n\n\tCell.prototype.destructor = function () {\n\t\tthis.$parent = this.$container = this.$view = null;\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.detach(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\t\tthis.$domEvents.detachAll();\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t};\n\tCell.prototype.cell = function (id) {\n\t\treturn null;\n\t};\n\n\tCell.prototype.scrollTo = function(left, top){\n\n\t\tif (left*1 == left){\n\t\t\tthis.$view.scrollLeft = left;\n\t\t}\n\t\tif(top*1 == top){\n\t\t\tthis.$view.scrollTop = top;\n\t\t}\n\t};\n\n\tCell.prototype.clear = function(){\n\t\tthis.getNode().innerHTML = \"\";\n\t\tthis.getNode().className = \"gantt_layout_content\";\n\t\tthis.getNode().style.padding = \"0\";\n\t};\n\n\tCell.prototype.resize = function (final) {\n\t\tif (this.$parent) {\n\t\t\treturn this.$parent.resize(final);\n\t\t}\n\n\t\tif(final === false){\n\t\t\tthis.$preResize = true;\n\t\t}\n\n\t\tvar topCont = this.$container;\n\t\tvar x = topCont.offsetWidth;\n\t\tvar y = topCont.offsetHeight;\n\t\tvar topSize = this.getSize();\n\t\tif (topCont === document.body) {\n\t\t\tx = document.body.offsetWidth;\n\t\t\ty = document.body.offsetHeight;\n\t\t}\n\t\tif (x < topSize.minWidth) {\n\t\t\tx = topSize.minWidth;\n\t\t}\n\t\tif (x > topSize.maxWidth) {\n\t\t\tx = topSize.maxWidth;\n\t\t}\n\t\tif (y < topSize.minHeight) {\n\t\t\ty = topSize.minHeight;\n\t\t}\n\t\tif (y > topSize.maxHeight) {\n\t\t\ty = topSize.maxHeight;\n\t\t}\n\t\tthis.setSize(x, y);\n\n\t\tif(!this.$preResize){\n\t\t//\tself.callEvent(\"onResize\", [x, y]);\n\t\t}\n\t\tthis.$preResize = false;\n\t};\n\n\tCell.prototype.hide = function () {\n\t\tthis._hide(true);\n\t\tthis.resize();\n\t};\n\tCell.prototype.show = function (force) {\n\t\tthis._hide(false);\n\t\tif (force && this.$parent) {\n\t\t\tthis.$parent.show();\n\t\t}\n\t\tthis.resize();\n\t};\n\tCell.prototype._hide = function (mode) {\n\t\tif (mode === true && this.$view.parentNode) {\n\t\t\tthis.$view.parentNode.removeChild(this.$view);\n\t\t}\n\t\telse if (mode === false && !this.$view.parentNode) {\n\t\t\tvar index = this.$parent.cellIndex(this.$id);\n\t\t\tthis.$parent.moveView(this, index);\n\t\t}\n\t\tthis.$config.hidden = mode;\n\t};\n\tCell.prototype.$toHTML = function (content, css) {\n\t\tif (content === void 0) { content = \"\"; }\n\t\tcss = [(css || \"\"), (this.$config.css || \"\")].join(\" \");\n\t\tvar obj = this.$config;\n\t\tvar header = \"\";\n\t\tif (obj.raw) {\n\t\t\tcontent = typeof obj.raw === \"string\" ? obj.raw : \"\";\n\t\t}\n\t\telse {\n\t\t\tif (!content) {\n\t\t\t\tcontent = \"<div class='gantt_layout_content' \"+(css ? \" class='\"+css+\"' \" : \"\")+\" >\" + (obj.html || \"\") + \"</div>\";\n\t\t\t}\n\t\t\tif (obj.header) {\n\t\t\t\tvar collapseIcon = obj.canCollapse ? \"<div class='gantt_layout_header_arrow'></div>\" : \"\";\n\t\t\t\theader = \"<div class='gantt_layout_header'>\" + collapseIcon + \"<div class='gantt_layout_header_content'>\" + obj.header + \"</div></div>\";\n\t\t\t}\n\t\t}\n\t\treturn \"<div class='gantt_layout_cell \" + css + \"' data-cell-id='\" + this.$id + \"'>\" + header + content + \"</div>\";\n\t};\n\tCell.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tthis.init();\n\t};\n\tCell.prototype.getNode = function () {\n\t\treturn (this.$view.querySelector(\"gantt_layout_cell\") || this.$view);\n\t};\n\tCell.prototype.init = function () {\n\t\t// [NOT-GOOD] code is executed for each component, while it still has only one handler, it is no good\n\n\t\tvar self = this;\n\n\t\tthis._headerClickHandler = function(e){\n\t\t\tvar cellId = domHelpers.locateAttribute(e, \"data-cell-id\");\n\t\t\tif(cellId == self.$id){\n\t\t\t\tself.toggle();\n\t\t\t}\n\t\t};\n\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.delegate(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\n\t\tthis.callEvent(\"onReady\", []);\n\t};\n\tCell.prototype.toggle = function () {\n\t\tthis.$config.collapsed = !this.$config.collapsed;\n\t\tthis.resize();\n\t};\n\tCell.prototype.getSize = function () {\n\t\tvar size = {\n\t\t\theight: this.$config.height || 0,\n\t\t\twidth: this.$config.width || 0,\n\t\t\tgravity: this.$config.gravity || 1,\n\t\t\tminHeight: this.$config.minHeight || 0,\n\t\t\tminWidth: this.$config.minWidth || 0,\n\t\t\tmaxHeight: this.$config.maxHeight || 100000,\n\t\t\tmaxWidth: this.$config.maxWidth || 100000\n\t\t};\n\t\tif (this.$config.collapsed) {\n\t\t\tvar mode = this.$config.mode === \"x\";\n\t\t\tsize[mode ? \"width\" : \"height\"] = size[mode ? \"maxWidth\" : \"maxHeight\"] = this.$config.headerHeight;\n\t\t}\n\t\treturn size;\n\t};\n\n\tCell.prototype.getContentSize = function(){\n\n\t\tvar width = this.$lastSize.contentX;\n\t\tif(width !== width*1){\n\t\t\twidth = this.$lastSize.width;\n\t\t}\n\n\t\tvar height = this.$lastSize.contentY;\n\t\tif(height !== height*1){\n\t\t\theight = this.$lastSize.height;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t};\n\n\tCell.prototype._getBorderSizes = function(){\n\t\tvar borders = {\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\thorizontal: 0,\n\t\t\tvertical: 0\n\t\t};\n\t\tif(this._currentBorders){\n\t\t\tif(this._currentBorders[this._borders.left]){\n\t\t\t\tborders.left = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.right]){\n\t\t\t\tborders.right = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.top]){\n\t\t\t\tborders.top = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.bottom]){\n\t\t\t\tborders.bottom = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\t\t}\n\n\t\treturn borders;\n\n\t};\n\n\tCell.prototype.setSize = function (x, y) {\n\t\tthis.$view.style.width = x + \"px\";\n\t\tthis.$view.style.height = y + \"px\";\n\n\t\tvar borders = this._getBorderSizes();\n\t\tvar contentY = y - borders.vertical;\n\t\tvar contentX = x - borders.horizontal;\n\n\t\tthis.$lastSize = { x: x, y: y, contentX: contentX, contentY: contentY };\n\t\tif (this.$config.header) {\n\t\t\tthis._sizeHeader();\n\t\t}else{\n\t\t\tthis._sizeContent();\n\t\t}\n\t};\n\n\tCell.prototype._borders = {\n\t\t\"left\":\"gantt_layout_cell_border_left\",\n\t\t\"right\":\"gantt_layout_cell_border_right\",\n\t\t\"top\":\"gantt_layout_cell_border_top\",\n\t\t\"bottom\":\"gantt_layout_cell_border_bottom\"\n\t};\n\n\tCell.prototype._setBorders = function(css, view){\n\t\tif(!view) {\n\t\t\tview = this;\n\t\t}\n\t\tvar node = view.$view;\n\n\t\tfor( var i in this._borders){\n\t\t\tdomHelpers.removeClassName(node, this._borders[i]);\n\t\t}\n\n\t\tif(typeof css == \"string\"){\n\t\t\tcss = [css];\n\t\t}\n\n\t\tvar cssHash = {};\n\n\t\tfor(var i = 0; i < css.length; i++){\n\t\t\tdomHelpers.addClassName(node, css[i]);\n\t\t\tcssHash[css[i]] = true;\n\t\t}\n\n\t\tview._currentBorders = cssHash;\n\t};\n\n\n\tCell.prototype._sizeContent = function(){\n\t\tvar content = this.$view.childNodes[0];\n\t\tif(content && content.className == \"gantt_layout_content\"){\n\t\t\tcontent.style.height = this.$lastSize.contentY + \"px\";\n\t\t}\n\t};\n\n\tCell.prototype._sizeHeader = function () {\n\t\tvar size = this.$lastSize;\n\t\tsize.contentY -= this.$config.headerHeight;\n\t\tvar header = this.$view.childNodes[0];\n\t\tvar content = this.$view.childNodes[1];\n\t\tvar xLayout = this.$config.mode === \"x\";\n\t\tif (this.$config.collapsed) {\n\t\t\tcontent.style.display = \"none\";\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_x\";\n\t\t\t\theader.style.width = size.y + \"px\";\n\t\t\t\tvar d = Math.floor(size.y / 2 - size.x / 2);\n\t\t\t\theader.style.transform = \"rotate(90deg) translate(\" + d + \"px, \" + d + \"px)\";\n\t\t\t\tcontent.style.display = \"none\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_y\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header vertical\";\n\t\t\t}\n\t\t\theader.style.width = 'auto';\n\t\t\theader.style.transform = '';\n\t\t\tcontent.style.display = \"\";\n\t\t\tcontent.style.height = size.contentY + \"px\";\n\t\t}\n\t\theader.style.height = this.$config.headerHeight + \"px\";\n\t};\n\treturn Cell;\n}());\n\nmodule.exports = Cell;\n","module.exports = function(gantt){\n\treturn gantt.config.smart_rendering && gantt._smart_render;\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = function () {\n\t};\n\n\tBaseEditor.prototype = {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = value;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar currentValue = this.get_value(id, column, node);\n\t\t\tif (currentValue && value && currentValue.valueOf && value.valueOf) {\n\t\t\t\treturn currentValue.valueOf() != value.valueOf();\n\t\t\t} else {\n\t\t\t\treturn currentValue != value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn true;\n\t\t},\n\n\t\tsave: function (id, column, node) {\n\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"input\");\n\t\t},\n\t\tfocus: function (node) {\n\t\t\tvar input = this.get_input(node);\n\t\t\tif (!input) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (input.focus) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\n\t\t\tif (input.select) {\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t};\n\treturn BaseEditor;\n};","var env = {\n\tisIE: (navigator.userAgent.indexOf(\"MSIE\") >= 0 || navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisIE6: (!window.XMLHttpRequest && navigator.userAgent.indexOf(\"MSIE\") >= 0),\n\tisIE7: (navigator.userAgent.indexOf(\"MSIE 7.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") < 0),\n\tisIE8: (navigator.userAgent.indexOf(\"MSIE 8.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisOpera: (navigator.userAgent.indexOf(\"Opera\") >= 0),\n\tisChrome: (navigator.userAgent.indexOf(\"Chrome\") >= 0),\n\tisKHTML: (navigator.userAgent.indexOf(\"Safari\") >= 0 || navigator.userAgent.indexOf(\"Konqueror\") >= 0),\n\tisFF: (navigator.userAgent.indexOf(\"Firefox\") >= 0),\n\tisIPad: (navigator.userAgent.search(/iPad/gi) >= 0),\n\tisEdge: (navigator.userAgent.indexOf(\"Edge\")!=-1)\n};\n\nmodule.exports = env;","var helpers = require(\"./helpers\");\n\nvar htmlHelpers = {\n\tgetHtmlSelect: function(options, attributes, value) {\n\t\tvar innerHTML = \"\";\n\t\tvar _this = this;\n\n\t\toptions = options || [];\n\t\t\n\t\thelpers.forEach(options, function(entry) {\n\t\t\tvar _attributes = [{ key: \"value\", value: entry.key }];\n\n\t\t\tif (value == entry.key) {\n\t\t\t\t_attributes[_attributes.length] = { key: \"selected\", value: \"selected\" };\n\t\t\t}\n\t\t\tif (entry.attributes) {\n\t\t\t\t_attributes = _attributes.concat(entry.attributes);\n\t\t\t}\n\t\t\tinnerHTML += _this.getHtmlOption({ innerHTML: entry.label }, _attributes);\n\t\t});\n\n\t\treturn _getHtmlContainer(\"select\", { innerHTML: innerHTML }, attributes);\n\t},\n\tgetHtmlOption: function(options, attributes) { return _getHtmlContainer(\"option\", options, attributes); },\n\tgetHtmlButton: function(options, attributes) { return _getHtmlContainer(\"button\", options, attributes); },\n\tgetHtmlDiv: function(options, attributes) { return _getHtmlContainer(\"div\", options, attributes); },\n\tgetHtmlLabel: function(options, attributes) { return _getHtmlContainer(\"label\", options, attributes); },\n\tgetHtmlInput: function(attributes) {\n\t\treturn \"<input\" + _getHtmlAttributes(attributes || []) + \">\";\n\t}\n};\n\nfunction _getHtmlContainer(tag, options, attributes) {\n\tvar html;\n\n\toptions = options || [];\n\t\n\thtml = \"<\" + tag + _getHtmlAttributes(attributes || []) + \">\" + (options.innerHTML || \"\") + \"</\" + tag +\">\";\n\treturn html;\n\n}\n\nfunction _getHtmlAttributes(attributes) {\n\tvar html = \"\";\n\n\thelpers.forEach(attributes, function(entry) {\n\t\thtml += \" \" + entry.key + \"='\" + entry.value + \"'\";\n\t});\n\treturn html;\n}\n\nmodule.exports = htmlHelpers;","var __extends = require(\"../../../utils/extends\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction SelectControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\n\t\treturn self; \n\t}\n\t\n\t__extends(SelectControl, _super);\n\t\n\tSelectControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\thtml += htmlHelpers.getHtmlSelect(sns.options, [{ key: \"style\", value: \"width:100%;\" }]);\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tSelectControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar select = node.firstChild;\n\t\tif (!select._dhx_onchange && sns.onchange) {\n\t\t\tselect.onchange = sns.onchange;\n\t\t\tselect._dhx_onchange = true;\n\t\t}\n\t\tif (typeof value === \"undefined\")\n\t\t\tvalue = (select.options[0] || {}).value;\n\t\tselect.value = value || \"\";\n\t};\n\t\n\tSelectControl.prototype.get_value = function(node) {\n\t\treturn node.firstChild.value;\n\t};\n\t\n\tSelectControl.prototype.focus = function(node) {\n\t\tvar a = node.firstChild;\n\t\tgantt._focus(a, true);\n\t};\n\t\n\treturn SelectControl;\n};","/**\n * The state object for order branch drag and drop\n */\n\nvar utils = require(\"../../../../utils/utils\");\n\nmodule.exports = {\n\tcreateDropTargetObject: function createDropTargetObject(parent) {\n\t\tvar res = {\n\t\t\ttargetParent: null,\n\t\t\ttargetIndex: 0,\n\t\t\ttargetId: null,\n\t\t\tchild: false,\n\t\t\tnextSibling: false,\n\t\t\tprevSibling: false\n\t\t};\n\n\t\tif (parent) {\n\t\t\tutils.mixin(res, parent, true);\n\t\t}\n\t\treturn res;\n\t},\n\tnextSiblingTarget: function nextSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.nextSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) != result.targetParent || result.targetIndex < store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex += 1;\n\t\t}\n\t\treturn result;\n\t},\n\tprevSiblingTarget: function prevSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.prevSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) == result.targetParent && result.targetIndex > store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex -= 1;\n\t\t}\n\t\treturn result;\n\t},\n\tfirstChildTarget: function firstChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.targetParent = result.targetId;\n\t\tresult.targetIndex = 0;\n\t\tresult.child = true;\n\t\treturn result;\n\t},\n\tlastChildTarget: function lastChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar children = store.getChildren(targetTaskId);\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = children[children.length - 1];\n\t\tresult.targetParent = targetTaskId;\n\t\tresult.targetIndex = children.length;\n\t\tresult.nextSibling = true;\n\t\treturn result;\n\t}\n};","module.exports = function isInViewPort(item, view, viewport){\n\tvar position = view.getItemTop(item.id);\n\tvar height = view.getItemHeight(item);\n\tif(viewport.y > position + height || viewport.y_end < position){\n\t\treturn false;\n\t}else{\n\t\treturn true;\n\t}\n};","var helpers = require(\"../../utils/helpers\");\n\nfunction clearTaskStoreHandler(self) {\n\tif (self._delayRender) {\n\t\tself._delayRender.$cancelTimeout();\n\t}\n\n\tif (!self.$gantt) {\n\t\treturn;\n\t}\n\n\tvar tasks = self.$gantt.$data.tasksStore;\n\tvar ownStore = self.$config.rowStore;\n\n\tvar handlerIdProperty = \"_attached_\" + ownStore.$config.name;\n\tif (self[handlerIdProperty]) {\n\t\ttasks.detachEvent(self[handlerIdProperty]);\n\t\tself[handlerIdProperty] = null;\n\t}\n\n\tif (ownStore.$attachedResourceViewHandler) {\n\t\townStore.detachEvent(ownStore.$attachedResourceViewHandler);\n\t\townStore.$attachedResourceViewHandler = null;\n\t}\n}\n\nfunction createMixin(_super){\n\n\tvar initGrid = _super.prototype.init,\n\t\tdestroyGrid = _super.prototype.destructor;\n\n\treturn {\n\t\tinit: function() {\n\t\t\tinitGrid.apply(this, arguments);\n\t\t\tthis._linkToTaskStore();\n\t\t},\n\n\t\tdestructor: function() {\n\t\t\tclearTaskStoreHandler(this);\n\t\t\tdestroyGrid.apply(this, arguments);\n\t\t},\n\n\t\t_linkToTaskStore: function () {\n\t\t\tif (this.$config.rowStore && this.$gantt.$data.tasksStore) {\n\t\t\t\tvar tasks = this.$gantt.$data.tasksStore;\n\t\t\t\tvar ownStore = this.$config.rowStore;\n\t\t\t\tclearTaskStoreHandler(this);\n\n\t\t\t\tvar self = this;\n\t\t\t\tvar delayRender = helpers.delay(function() {\n\t\t\t\t\tif (self.$gantt.getState().lightbox) {\n\t\t\t\t\t\tdelayRender();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// because rowstore could be changed during timeout\n\t\t\t\t\t\tself.$config.rowStore.refresh();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t\tthis._delayRender = delayRender;\n\t\t\t\tvar handlerIdProperty = \"_attached_\" + ownStore.$config.name;\n\n\t\t\t\tif (!self[handlerIdProperty]) {\n\t\t\t\t\tself[handlerIdProperty] = tasks.attachEvent(\"onStoreUpdated\", delayRender);\n\t\t\t\t}\n\n\t\t\t\tthis.$gantt.attachEvent(\"onDestroy\", function() {\n\t\t\t\t\t// detach events to don't call delayed tasks\n\t\t\t\t\tclearTaskStoreHandler(self);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\n\t\t\t\tif (!ownStore.$attachedResourceViewHandler) {\n\t\t\t\t\townStore.$attachedResourceViewHandler = ownStore.attachEvent(\"onBeforeStoreUpdate\", function() {\n\t\t\t\t\t\tif (self.$gantt.getState().lightbox) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (delayRender.$pending) {\n\t\t\t\t\t\t\tdelayRender.$cancelTimeout();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._updateNestedTasks();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_updateNestedTasks: function(){\n\t\t\tvar gantt = this.$gantt;\n\t\t\tvar resourceStore = gantt.getDatastore(gantt.config.resource_store);\n\t\t\tif (!resourceStore.$config.fetchTasks) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar resourceProperty = gantt.config.resource_property;\n\n\t\t\tresourceStore.silent(function(){\n\t\t\t\tvar toAddArray = [];\n\t\t\t\tvar toAdd = {};\n\t\t\t\tvar toDelete = {};\n\n\t\t\t\tresourceStore.eachItem(function(resource){\n\t\t\t\t\tif (resource.$role == \"task\") {\n\t\t\t\t\t\ttoDelete[resource.id] = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar tasks = gantt.getTaskBy(resourceProperty, resource.id);\n\t\t\t\t\ttasks.forEach(function(task) {\n\t\t\t\t\t\tvar copy = gantt.copy(task);\n\t\t\t\t\t\tcopy.id = task.id + '_' + resource.id;\n\n\t\t\t\t\t\tcopy.$task_id = task.id;\n\t\t\t\t\t\tcopy.$resource_id = resource.id;\n\t\t\t\t\t\tcopy[resourceStore.$parentProperty] = resource.id;\n\t\t\t\t\t\tcopy.$role = \"task\";\n\t\t\t\t\t\ttoAddArray.push(copy);\n\t\t\t\t\t\ttoAdd[copy.id] = true;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tfor (var id in toDelete) {\n\t\t\t\t\tif (!toAdd[id]) {\n\t\t\t\t\t\tresourceStore.removeItem(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresourceStore.parse(toAddArray);\n\t\t\t});\n\t\t}\n\t};\n}\n\nmodule.exports = createMixin;","function create(gantt){\n\tvar events = [];\n\n\treturn {\n\t\tdelegate:function(event, className, handler, root) {\n\t\t\tevents.push([event, className, handler, root]);\n\n\t\t\tvar helper = gantt.$services.getService(\"mouseEvents\");\n\t\t\thelper.delegate(event, className, handler, root);\n\t\t},\n\t\tdestructor: function(){\n\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\tfor(var i = 0; i < events.length; i++){\n\t\t\t\tvar h = events[i];\n\t\t\t\tmouseEvents.detach(h[0], h[1], h[2], h[3]);\n\t\t\t}\n\t\t\tevents = [];\n\t\t}\n\t};\n}\n\nmodule.exports = create;","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tgridResize = require(\"./grid_resize\"),\n\ttopPositionMixin = require(\"../row_position_mixin\");\n\nvar Grid = function (parent, config, factory, gantt) {\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$gantt = gantt;\n\tthis.$parent = parent;\n\teventable(this);\n\tthis.$state = {};\n\tutils.mixin(this, topPositionMixin());\n};\n\n\nGrid.prototype = {\n\tinit: function (container) {\n\t\tvar gantt = this.$gantt;\n\t\tvar gridAriaAttr = gantt._waiAria.gridAttrString();\n\t\tvar gridDataAriaAttr = gantt._waiAria.gridDataAttrString();\n\n\n\t\tcontainer.innerHTML = \"<div class='gantt_grid' style='height:inherit;width:inherit;' \" + gridAriaAttr + \"></div>\";\n\t\tthis.$grid = container.childNodes[0];\n\n\t\tthis.$grid.innerHTML = \"<div class='gantt_grid_scale' \" +\n\t\t\tgantt._waiAria.gridScaleRowAttrString() + \"></div><div class='gantt_grid_data' \" + gridDataAriaAttr + \"></div>\";\n\n\t\tthis.$grid_scale = this.$grid.childNodes[0];\n\t\tthis.$grid_data = this.$grid.childNodes[1];\n\n\t\tvar attr = this.$getConfig()[this.$config.bind + \"_attribute\"];\n\t\tif (!attr && this.$config.bind) {\n\t\t\tattr = this.$config.bind + \"_id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\n\t\tif (!this.$config.layers) {\n\t\t\tvar layers = this._createLayerConfig();\n\t\t\tthis.$config.layers = layers;\n\t\t}\n\n\t\tvar resizer = gridResize(gantt, this);\n\t\tresizer.init();\n\t\tthis._renderHeaderResizers = resizer.doOnRender;\n\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\n\t\tthis._addLayers(this.$gantt);\n\t\tthis._initEvents();\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t},\n\n\t_validateColumnWidth: function (column, property) {\n\t\t// user can set {name:\"text\", width:\"200\",...} for some reason,\n\t\t// check and convert it to number when possible\n\t\tvar value = column[property];\n\t\tif (value && value != \"*\") {\n\t\t\tvar gantt = this.$gantt;\n\t\t\tvar numericWidth = value * 1;\n\t\t\tif (isNaN(numericWidth)) {\n\t\t\t\tgantt.assert(false, \"Wrong \" + property + \" value of column \" + column.name);\n\t\t\t} else {\n\t\t\t\tcolumn[property] = numericWidth;\n\t\t\t}\n\t\t}\n\t},\n\n\tsetSize: function (width, height) {\n\t\tthis.$config.width = this.$state.width = width;\n\t\tthis.$config.height = this.$state.height = height;\n\n\t\t// TODO: maybe inherit and override in a subclass instead of extending here\n\n\t\tvar columns = this.getGridColumns(),\n\t\t\tinnerWidth = 0;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tthis._validateColumnWidth(columns[i], \"min_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"max_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"width\");\n\n\t\t\tinnerWidth += columns[i].width * 1;\n\t\t}\n\n\t\tvar outerWidth;\n\t\tif (isNaN(innerWidth) || !this.$config.scrollable) {\n\t\t\touterWidth = this._setColumnsWidth(width + 1);\n\t\t\tinnerWidth = outerWidth;\n\t\t}\n\n\t\tif (this.$config.scrollable) {\n\t\t\tthis.$grid_scale.style.width = innerWidth + \"px\";\n\t\t\tthis.$grid_data.style.width = innerWidth + \"px\";\n\t\t} else {\n\t\t\tthis.$grid_scale.style.width = \"inherit\";\n\t\t\tthis.$grid_data.style.width = \"inherit\";\n\t\t}\n\t\tthis.$config.width -= 1;\n\n\t\tvar config = this.$getConfig();\n\t\tif (outerWidth !== width) {\n\t\t\tconfig.grid_width = outerWidth;\n\t\t\tthis.$config.width = outerWidth - 1;\n\t\t}\n\n\t\tvar dataHeight = Math.max(this.$state.height - config.scale_height, 0);\n\t\tthis.$grid_data.style.height = dataHeight + \"px\";\n\t\tthis.refresh();\n\t},\n\tgetSize: function () {\n\n\t\tvar config = this.$getConfig();\n\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? config.row_height * store.countVisible() : 0,\n\t\t\tcontentWidth = this._getGridWidth();\n\n\t\tvar size = {\n\t\t\tx: this.$state.width,\n\t\t\ty: this.$state.height,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\n\t\treturn size;\n\t},\n\n\t_bindStore: function () {\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tthis.$config.rowStore = rowStore;\n\t\t\tif(rowStore && !rowStore._gridCacheAttached){\n\t\t\t\tvar self = this;\n\t\t\t\trowStore._gridCacheAttached = true;\n\t\t\t\trowStore.attachEvent(\"onBeforeFilter\", function(){\n\t\t\t\t\tself._resetTopPositionHeight();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function () {\n\t\tthis._bindStore();\n\n\t\tthis._resetTopPositionHeight();\n\t\tthis._initSmartRenderingPlaceholder();\n\n\t\tthis._calculateGridWidth();\n\t\tthis._renderGridHeader();\n\t},\n\n\tgetViewPort: function(){\n\t\tvar scrollLeft = this.$config.scrollLeft || 0;\n\t\tvar scrollTop = this.$config.scrollTop || 0;\n\t\tvar height = this.$config.height || 0;\n\t\tvar width = this.$config.width || 0;\n\t\treturn {\n\t\t\ty: scrollTop,\n\t\t\ty_end: scrollTop + height,\n\t\t\tx: scrollLeft,\n\t\t\tx_end: scrollLeft + width,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\tscrollTo: function (left, top) {\n\t\tif (!this.isVisible())\n\t\t\treturn;\n\n\t\tvar scrolled = false;\n\n\t\tthis.$config.scrollTop = this.$config.scrollTop || 0;\n\t\tthis.$config.scrollLeft = this.$config.scrollLeft || 0;\n\n\t\tif (left * 1 == left) {\n\t\t\tthis.$config.scrollLeft = this.$state.scrollLeft = this.$grid.scrollLeft = left;\n\t\t\tscrolled = true;\n\t\t}\n\n\t\t// var config = this.$getConfig();\n\t\tif (top * 1 == top) {\n\t\t\tthis.$config.scrollTop = this.$state.scrollTop = this.$grid_data.scrollTop = top;\n\t\t\tscrolled = true;\n\t\t}\n\n\t\tif(scrolled){\n\t\t\tthis.callEvent(\"onScroll\", [this.$config.scrollLeft, this.$config.scrollTop]);\n\t\t}\n\t},\n\n\tgetColumnIndex: function (name) {\n\t\tvar columns = this.$getConfig().columns;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (columns[i].name == name) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetColumn: function (name) {\n\t\tvar index = this.getColumnIndex(name);\n\t\tif (index === null) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.$getConfig().columns[index];\n\t},\n\n\tgetGridColumns: function () {\n\t\tvar config = this.$getConfig();\n\t\treturn config.columns.slice();\n\t},\n\tisVisible: function () {\n\t\tif (this.$parent && this.$parent.$config) {\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t} else {\n\t\t\treturn this.$grid.offsetWidth;\n\t\t}\n\t},\n\n\tgetItemHeight: function () {\n\t\tvar config = this.$getConfig();\n\t\treturn config.row_height;\n\t},\n\n\t_createLayerConfig: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar self = this;\n\t\tvar layers = [\n\t\t\t{\n\t\t\t\trenderer: gantt.$ui.layers.gridLine(),\n\t\t\t\tcontainer: this.$grid_data,\n\t\t\t\tfilter: [function () {\n\t\t\t\t\treturn self.isVisible();\n\t\t\t\t}]\n\t\t\t}\n\t\t];\n\t\treturn layers;\n\t},\n\n\t_addLayers: function (gantt) {\n\t\tif (!this.$config.bind)\n\t\t\treturn;\n\n\t\tthis._taskLayers = [];\n\n\t\tvar self = this;\n\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\t\tvar getViewPort = function(){\n\t\t\treturn self.getViewPort();\n\t\t};\n\t\tif (!taskRenderer) {\n\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\tname: this.$config.bind,\n\t\t\t\tdefaultContainer: function () { return self.$grid_data; }\n\t\t\t});\n\t\t}\n\n\t\tvar taskLayers = this.$config.layers;\n\t\tfor (var i = 0; taskLayers && i < taskLayers.length; i++) {\n\t\t\tvar layer = taskLayers[i];\n\t\t\tlayer.host = this;\n\t\t\tlayer.getViewPort = getViewPort;\n\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\tthis._taskLayers.push(bar_layer);\n\t\t\tthis.attachEvent(\"onScroll\", (function(layer){\n\t\t\t\treturn function(){\n\t\t\t\t\tif(layer.requestUpdate){\n\t\t\t\t\t\tlayer.requestUpdate();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})(layer));\n\t\t}\n\n\t\tthis._bindStore();\n\n\t\tthis._initSmartRenderingPlaceholder();\n\t},\n\n\t_refreshPlaceholderOnStoreUpdate: function (id) {\n\t\tvar config = this.$getConfig(),\n\t\t\tstore = this.$config.rowStore;\n\n\t\tif (!store || id !== null || !this.isVisible() || !config.smart_rendering) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar contentHeight;\n\t\tif (this.$config.scrollY) {\n\t\t\tvar scroll = this.$gantt.$ui.getView(this.$config.scrollY);\n\t\t\tif (scroll)\n\t\t\t\tcontentHeight = scroll.getScrollState().scrollSize;\n\t\t}\n\n\t\tif (!contentHeight) {\n\t\t\tcontentHeight = store ? config.row_height * store.countVisible() : 0;\n\t\t}\n\n\t\tif (contentHeight) {\n\t\t\tif (this.$rowsPlaceholder && this.$rowsPlaceholder.parentNode) {\n\t\t\t\tthis.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);\n\t\t\t}\n\n\t\t\tvar placeholder = this.$rowsPlaceholder = document.createElement(\"div\");\n\t\t\tplaceholder.style.visibility = \"hidden\";\n\t\t\tplaceholder.style.height = contentHeight + \"px\";\n\t\t\tplaceholder.style.width = \"1px\";\n\t\t\tthis.$grid_data.appendChild(placeholder);\n\t\t}\n\t},\n\n\t_initSmartRenderingPlaceholder: function () {\n\t\tvar store = this.$config.rowStore;\n\t\tif (!store) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis._initSmartRenderingPlaceholder = function () { };\n\t\t}\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", utils.bind(this._refreshPlaceholderOnStoreUpdate, this));\n\t},\n\n\t_initEvents: function () {\n\t\tvar gantt = this.$gantt;\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_close\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.close(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_open\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.open(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\t},\n\n\t_clearLayers: function (gantt) {\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor (var i = 0; i < this._taskLayers.length; i++) {\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._taskLayers = [];\n\t},\n\n\t_getColumnWidth: function (column, config, width) {\n\t\tvar min_width = column.min_width || config.min_grid_column_width;\n\t\tvar new_width = Math.max(width, min_width || 10);\n\t\tif (column.max_width)\n\t\t\tnew_width = Math.min(new_width, column.max_width);\n\t\treturn new_width;\n\t},\n\t// return min and max possible grid width according to restricts\n\t_getGridWidthLimits: function () {\n\t\tvar config = this.$getConfig(),\n\t\t\tcolumns = this.getGridColumns(),\n\t\t\tmin_limit = 0,\n\t\t\tmax_limit = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tmin_limit += columns[i].min_width ? columns[i].min_width : config.min_grid_column_width;\n\t\t\tif (max_limit !== undefined) {\n\t\t\t\tmax_limit = columns[i].max_width ? (max_limit + columns[i].max_width) : undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn [min_limit, max_limit];\n\t},\n\t// resize columns to get total newWidth, starting from columns[start_index]\n\t_setColumnsWidth: function (newWidth, start_index) {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns(),\n\t\t\tcolumns_width = 0,\n\t\t\tfinal_width = newWidth;\n\n\t\tstart_index = !window.isNaN(start_index) ? start_index : -1;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tcolumns_width += columns[i].width * 1;\n\t\t}\n\n\t\tif (window.isNaN(columns_width)) {\n\t\t\tthis._calculateGridWidth();\n\t\t\tcolumns_width = 0;\n\t\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\t\tcolumns_width += columns[i].width * 1;\n\t\t\t}\n\t\t}\n\n\t\tvar extra_width = final_width - columns_width;\n\n\t\tvar start_width = 0;\n\t\tfor (var i = 0; i < start_index + 1; i++) {\n\t\t\tstart_width += columns[i].width;\n\t\t}\n\n\t\tcolumns_width -= start_width;\n\n\t\tfor (var i = start_index + 1; i < columns.length; i++) {\n\n\t\t\tvar col = columns[i];\n\t\t\tvar share = Math.round(extra_width * (col.width / columns_width));\n\n\t\t\t// columns have 2 additional restrict fields - min_width & max_width that are set by user\n\t\t\tif (extra_width < 0) {\n\t\t\t\tif (col.min_width && col.width + share < col.min_width)\n\t\t\t\t\tshare = col.min_width - col.width;\n\t\t\t\telse if (!col.min_width && config.min_grid_column_width && col.width + share < config.min_grid_column_width)\n\t\t\t\t\tshare = config.min_grid_column_width - col.width;\n\t\t\t} else if (col.max_width && col.width + share > col.max_width)\n\t\t\t\tshare = col.max_width - col.width;\n\n\t\t\tcolumns_width -= col.width;\n\t\t\tcol.width += share;\n\t\t\textra_width -= share;\n\n\t\t}\n\n\t\tvar iterator = extra_width > 0 ? 1 : -1;\n\t\twhile ((extra_width > 0 && iterator === 1) || (extra_width < 0 && iterator === -1)) {\n\t\t\tvar curExtra = extra_width;\n\t\t\tfor (i = start_index + 1; i < columns.length; i++) {\n\t\t\t\tvar new_width = columns[i].width + iterator;\n\n\t\t\t\tif (new_width == this._getColumnWidth(columns[i], config, new_width)) {\n\t\t\t\t\textra_width -= iterator;\n\t\t\t\t\tcolumns[i].width = new_width;\n\t\t\t\t}\n\n\t\t\t\tif (!extra_width)\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif (curExtra == extra_width)\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// if impossible to resize the right-side columns, resize the start column\n\t\tif (extra_width && start_index > -1) {\n\t\t\tvar new_width = columns[start_index].width + extra_width;\n\t\t\tif (new_width == this._getColumnWidth(columns[start_index], config, new_width))\n\t\t\t\tcolumns[start_index].width = new_width;\n\t\t}\n\n\t\t//if (this.callEvent(\"onGridResizeEnd\", [config.grid_width, final_width]) === false)\n\t\t//\treturn;\n\n\t\treturn this._getColsTotalWidth();\n\t},\n\n\t_getColsTotalWidth: function () {\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcols_width += v;\n\t\t}\n\t\treturn cols_width;\n\t},\n\t_calculateGridWidth: function () {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\t\tvar unknown = [];\n\t\tvar width = [];\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\tv = config.min_grid_column_width || 10;\n\t\t\t\tunknown.push(i);\n\t\t\t}\n\t\t\twidth[i] = v;\n\t\t\tcols_width += v;\n\t\t}\n\t\tvar gridWidth = this._getGridWidth() + 1;\n\t\tif (config.autofit || unknown.length) {\n\t\t\tvar diff = gridWidth - cols_width;\n\t\t\t// TODO: logic may be improved for proportional changing of width\n\t\t\tif (config.autofit) {\n\t\t\t\t// delta must be added for all columns\n\t\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (width.length - i));\n\t\t\t\t\twidth[i] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[i], config, width[i]);\n\n\t\t\t\t\tif (new_width != width[i]) {\n\t\t\t\t\t\tdelta = new_width - width[i];\n\t\t\t\t\t\twidth[i] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t} else if (unknown.length) {\n\t\t\t\t// there are several columns with undefined width\n\t\t\t\tfor (var i = 0; i < unknown.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (unknown.length - i)); // no float values, just integer\n\t\t\t\t\tvar index = unknown[i];\n\t\t\t\t\twidth[index] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[index], config, width[index]);\n\t\t\t\t\tif (new_width != width[index]) {\n\t\t\t\t\t\tdelta = new_width - width[index];\n\t\t\t\t\t\twidth[index] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\tcolumns[i].width = width[i];\n\t\t\t}\n\t\t} else {\n\t\t\tvar changed = (gridWidth != cols_width);\n\t\t\tthis.$config.width = cols_width - 1;\n\t\t\tconfig.grid_width = cols_width;\n\t\t\tif (changed) {\n\t\t\t\tthis.$parent._setContentSize(this.$config.width, this.$config.height);\n\t\t\t\t//\t\t\t\tthis.$parent.$config.width = cols_width;\n\t\t\t}\n\t\t}\n\n\t},\n\n\t_renderGridHeader: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar config = this.$getConfig();\n\t\tvar locale = this.$gantt.locale;\n\t\tvar templates = this.$gantt.templates;\n\n\t\tvar columns = this.getGridColumns();\n\t\tif (config.rtl) {\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\t\tvar cells = [];\n\t\tvar width = 0,\n\t\t\tlabels = locale.labels;\n\n\t\tvar lineHeigth = config.scale_height - 1;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\n\t\t\t// ensure columns have non-empty names\n\t\t\tif (!col.name) {\n\t\t\t\tcol.name = gantt.uid() + \"\";\n\t\t\t}\n\n\t\t\tvar colWidth = col.width * 1;\n\n\t\t\tvar gridWidth = this._getGridWidth();\n\t\t\tif (last && gridWidth > width + colWidth)\n\t\t\t\tcol.width = colWidth = gridWidth - width;\n\t\t\twidth += colWidth;\n\t\t\tvar sort = (gantt._sort && col.name == gantt._sort.name) ? (\"<div class='gantt_sort gantt_\" + gantt._sort.direction + \"'></div>\") : \"\";\n\t\t\tvar cssClass = [\"gantt_grid_head_cell\",\n\t\t\t\t(\"gantt_grid_head_\" + col.name),\n\t\t\t\t(last ? \"gantt_last_cell\" : \"\"),\n\t\t\t\ttemplates.grid_header_class(col.name, col)].join(\" \");\n\n\t\t\tvar style = \"width:\" + (colWidth - (last ? 1 : 0)) + \"px;\";\n\t\t\tvar label = (col.label || labels[\"column_\" + col.name] || labels[col.name]);\n\t\t\tlabel = label || \"\";\n\n\t\t\tvar ariaAttrs = gantt._waiAria.gridScaleCellAttrString(col, label);\n\n\t\t\tvar cell = \"<div class='\" + cssClass + \"' style='\" + style + \"' \" + ariaAttrs + \" data-column-id='\" + col.name + \"' column_id='\" + col.name + \"'>\" + label + sort + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tthis.$grid_scale.style.height = (config.scale_height) + \"px\";\n\t\tthis.$grid_scale.style.lineHeight = lineHeigth + \"px\";\n\t\t//this.$grid_scale.style.width = \"inherit\";\n\t\tthis.$grid_scale.innerHTML = cells.join(\"\");\n\n\t\tif (this._renderHeaderResizers) {\n\t\t\tthis._renderHeaderResizers();\n\t\t}\n\t},\n\n\t_getGridWidth: function () {\n\t\t// TODO: refactor/remove/comment some of _getGridWidth/this.$config.width/this.$state.width, it's not clear what they do\n\t\treturn this.$config.width;\n\t},\n\n\tdestructor: function () {\n\t\tthis._clearLayers(this.$gantt);\n\t\tif (this._mouseDelegates) {\n\t\t\tthis._mouseDelegates.destructor();\n\t\t\tthis._mouseDelegates = null;\n\t\t}\n\t\tthis.$grid = null;\n\t\tthis.$grid_scale = null;\n\t\tthis.$grid_data = null;\n\t\tthis.$gantt = null;\n\n\t\tif (this.$config.rowStore) {\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t}\n};\n\nmodule.exports = Grid;\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","var utils = require(\"./utils\");\n\nfunction createScope(addEvent, removeEvent) {\n\taddEvent = addEvent || utils.event;\n\tremoveEvent = removeEvent || utils.eventRemove;\n\n\tvar handlers = [];\n\n\tvar eventScope = {\n\t\tattach: function(el, event, callback, capture){\n\t\t\thandlers.push({element: el, event:event, callback: callback, capture: capture});\n\t\t\taddEvent(el, event, callback, capture);\n\t\t},\n\t\tdetach: function(el, event, callback, capture){\n\t\t\tremoveEvent(el, event, callback, capture);\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handler = handlers[i];\n\t\t\t\tif (handler.element === el && handler.event === event && handler.callback === callback && handler.capture === capture) {\n\t\t\t\t\thandlers.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdetachAll: function () {\n\t\t\tvar staticArray = handlers.slice();\n\t\t\t// original handlers array can be spliced on every iteration\n\t\t\tfor (var i = 0; i < staticArray.length; i++){\n\t\t\t\tvar handler = staticArray[i];\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, handler.capture);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, undefined);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, false);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, true);\n\t\t\t}\n\t\t\thandlers.splice(0, handlers.length);\n\t\t},\n\t\textend: function(){\n\t\t\treturn createScope(this.event, this.eventRemove);\n\t\t}\n\t};\n\n\tif (!window.scopes) {\n\t\twindow.scopes = [];\n\t}\n\twindow.scopes.push(handlers);\n\treturn eventScope;\n}\n\nmodule.exports = createScope;","var utils = require(\"../../utils/utils\");\nvar helpers = require(\"../../utils/helpers\");\n\n\nfunction IsWorkTimeArgument(date, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction ClosestWorkTimeArgument(date, dir, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.dir = dir;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar){\n\tthis.start_date = start_date;\n\tthis.duration = duration;\n\tthis.unit = unit;\n\tthis.step = step;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction GetDurationArgument(start, end, task, calendar) {\n\tthis.start_date = start;\n\tthis.end_date = end;\n\tthis.task = task;\n\tthis.calendar = calendar;\n\tthis.unit = null;\n\tthis.step = null;\n\treturn this;\n}\n\nvar calendarArgumentsHelper = function(gantt){\n\treturn {\n\t\tgetWorkHoursArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tconfig = {\n\t\t\t\t\tdate: config\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconfig = utils.mixin({}, config);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\tsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tunsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tisWorkTimeArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif(config instanceof IsWorkTimeArgument){\n\t\t\t\treturn config;\n\t\t\t}\n\n\t\t\tvar processedConfig;\n\t\t\tif (!config.date) {\n\t\t\t\t//IsWorkTimeArgument(date, unit, task, id, calendar)\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(arguments[0], arguments[1], arguments[2], null, arguments[3]);\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(config.date, config.unit, config.task, null, config.calendar);\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\n\t\t\treturn processedConfig;\n\t\t},\n\t\tgetClosestWorkTimeArguments: function (arg) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof ClosestWorkTimeArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(config);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(\n\t\t\t\t\tconfig.date,\n\t\t\t\t\tconfig.dir,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\t\t\t}\n\t\t\tprocessedConfig.dir = config.dir || 'any';\n\t\t\tprocessedConfig.unit = config.unit || gantt.config.duration_unit;\n\n\t\t\treturn processedConfig;\n\t\t},\n\n\t\t_getStartEndConfig: function (param) {\n\t\t\tvar argumentType = GetDurationArgument;\n\t\t\tvar config;\n\t\t\tif (param instanceof argumentType)\n\t\t\t\treturn param;\n\n\t\t\tif (helpers.isDate(param)) {\n\t\t\t\tconfig = new argumentType(arguments[0], arguments[1], arguments[2], arguments[3]);\n\t\t\t} else {\n\t\t\t\tconfig = new argumentType(param.start_date, param.end_date, param.task);\n\t\t\t\tif (param.id) {\n\t\t\t\t\tconfig.task = param;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconfig.unit = config.unit || gantt.config.duration_unit;\n\t\t\tconfig.step = config.step || gantt.config.duration_step;\n\t\t\tconfig.start_date = config.start_date || config.start || config.date;\n\n\t\t\treturn config;\n\t\t},\n\n\t\tgetDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\thasDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\tcalculateEndDateArguments: function (start, duration, unit, step) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof CalculateEndDateArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\t//CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar)\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\targuments[0],\n\t\t\t\t\targuments[1],\n\t\t\t\t\targuments[2],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[3],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[4]\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\tconfig.start_date,\n\t\t\t\t\tconfig.duration,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.step,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\t\t\tprocessedConfig.step = processedConfig.step || gantt.config.duration_step;\n\n\t\t\treturn processedConfig;\n\t\t}\n\t};\n};\n\n\nmodule.exports = calendarArgumentsHelper;","function copyLinkIdsArray(gantt, linkIds, targetHash){\n\tfor(var i = 0; i < linkIds.length; i++) {\n\t\tif(gantt.isLinkExists(linkIds[i])){\n\t\t\ttargetHash[linkIds[i]] = gantt.getLink(linkIds[i]);\n\t\t}\n\t}\n}\n\nfunction copyLinkIds(gantt, task, targetHash){\n\tcopyLinkIdsArray(gantt, task.$source, targetHash);\n\tcopyLinkIdsArray(gantt, task.$target, targetHash);\n}\n\nfunction getSubtreeLinks(gantt, rootId){\n\tvar res = {};\n\n\tif(gantt.isTaskExists(rootId)){\n\t\tcopyLinkIds(gantt, gantt.getTask(rootId), res);\n\t}\n\n\tgantt.eachTask(function(child){\n\t\tcopyLinkIds(gantt, child, res);\n\t}, rootId);\n\n\treturn res;\n}\n\nfunction getSubtreeTasks(gantt, rootId){\n\tvar res = {};\n\n\tgantt.eachTask(function(child){\n\t\tres[child.id] = child;\n\t}, rootId);\n\n\treturn res;\n}\n\nmodule.exports = {\n\tgetSubtreeLinks: getSubtreeLinks,\n\tgetSubtreeTasks: getSubtreeTasks\n};","var ScaleHelper = require(\"./ui/timeline/scales_ignore\");\nvar PrimaryScaleHelper = require(\"./ui/timeline/scales\");\n\n\nfunction dateRangeResolver(gantt){\n\t//reset project timing\n\t//_get_tasks_data(gantt);\n\treturn gantt.getSubtaskDates();\n}\n\nfunction defaultRangeResolver(){\n\treturn {\n\t\tstart_date: new Date(),\n\t\tend_date: new Date()\n\t};\n}\n\nfunction resolveConfigRange(unit, gantt){\n\tvar range = {\n\t\tstart_date:null,\n\t\tend_date:null\n\t};\n\n\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\trange.start_date = gantt.date[unit + \"_start\"](new Date(gantt.config.start_date));\n\n\t\tvar end = new Date(gantt.config.end_date);\n\t\tvar start_interval = gantt.date[unit + \"_start\"](new Date(end));\n\t\tif (+end != +start_interval) {\n\t\t\tend = gantt.date.add(start_interval, 1, unit);\n\t\t} else {\n\t\t\tend = start_interval;\n\t\t}\n\n\t\trange.end_date = end;\n\t}\n\treturn range;\n}\n\nfunction _scale_range_unit(gantt) {\n\tvar primaryScale = (new PrimaryScaleHelper(gantt)).primaryScale();\n\tvar unit = primaryScale.unit;\n\tvar step = primaryScale.step;\n\tif (gantt.config.scale_offset_minimal) {\n\n\t\tvar helper = new ScaleHelper(gantt);\n\t\tvar scales = [helper.primaryScale()].concat(helper.getSubScales());\n\n\t\thelper.sortScales(scales);\n\t\tunit = scales[scales.length - 1].unit;\n\t\tstep = scales[scales.length - 1].step || 1;\n\t}\n\treturn { unit:unit, step:step };\n}\n\nfunction _init_tasks_range(gantt) {\n\tvar cfg = _scale_range_unit(gantt);\n\tvar unit = cfg.unit,\n\t\tstep = cfg.step;\n\tvar range = resolveConfigRange(unit, gantt);\n\n\tif(!(range.start_date && range.end_date)){\n\t\trange = dateRangeResolver(gantt);\n\t\tif(!range.start_date || !range.end_date){\n\t\t\trange = defaultRangeResolver(gantt);\n\t\t}\n\n\t\trange.start_date = gantt.date[unit + \"_start\"](range.start_date);\n\t\trange.start_date = gantt.calculateEndDate({\n\t\t\tstart_date: gantt.date[unit + \"_start\"](range.start_date),\n\t\t\tduration: -1,\n\t\t\tunit: unit,\n\t\t\tstep:step\n\t\t});//one free column before first task\n\n\t\trange.end_date = gantt.date[unit + \"_start\"](range.end_date);\n\t\trange.end_date = gantt.calculateEndDate({start_date: range.end_date, duration: 2, unit: unit, step:step});//one free column after last task\n\t}\n\n\tgantt._min_date = range.start_date;\n\tgantt._max_date = range.end_date;\n}\n\nfunction _adjust_scales(gantt) {\n\tif (gantt.config.fit_tasks) {\n\t\tvar old_min = +gantt._min_date,\n\t\t\told_max = +gantt._max_date;\n\t\t//this._init_tasks_range();\n\t\tif (+gantt._min_date != old_min || +gantt._max_date != old_max) {\n\t\t\tgantt.render();\n\n\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nmodule.exports = function updateTasksRange(gantt){\n\t_init_tasks_range(gantt);\n\t_adjust_scales(gantt);\n};\n","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar DataStore = require(\"./datastore\");\n\nvar TreeDataStore = function(config){\n\tDataStore.apply(this, [config]);\n\tthis._branches = {};\n\n\tthis.pull = {};\n\tthis.$initItem = config.initItem;\n\tthis.$parentProperty = config.parentProperty || \"parent\";\n\n\tif(typeof config.rootId !== \"function\"){\n\t\tthis.$getRootId = (function(val){\n\t\t\treturn function(){return val;};\n\t\t})(config.rootId || 0);\n\t}else{\n\t\tthis.$getRootId = config.rootId;\n\t}\n\n\t// TODO: replace with live reference to gantt config\n\tthis.$openInitially = config.openInitially;\n\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._searchVisibleOrder = {};\n\tthis._skip_refresh = false;\n\n\tthis._ganttConfig = null;\n\tif(config.getConfig){\n\t\tthis._ganttConfig = config.getConfig();\n\t}\n\n\tthis.attachEvent(\"onFilterItem\", function(id, item){\n\n\t\tvar canOpenSplitTasks = false;\n\t\tif(this._ganttConfig){\n\t\t\tvar canOpenSplitTasks = this._ganttConfig.open_split_tasks;\n\t\t}\n\n\t\tvar open = true;\n\t\tthis.eachParent(function(parent){\n\t\t\topen = open && parent.$open && (canOpenSplitTasks || !this._isSplitItem(parent));\n\t\t}, item);\n\t\treturn !!open;\n\t});\n\n\treturn this;\n};\n\nTreeDataStore.prototype = utils.mixin({\n\n\t\t_buildTree: function(data){\n\t\t\tvar item = null;\n\t\t\tvar rootId = this.$getRootId();\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis.setParent(item, this.getParent(item) || rootId);\n\t\t\t}\n\n\t\t\t// calculating $level for each item\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis._add_branch(item);\n\t\t\t\titem.$level = this.calculateItemLevel(item);\n\n\t\t\t\tif (!utils.defined(item.$open)) {\n\t\t\t\t\titem.$open = utils.defined(item.open) ? item.open : this.$openInitially();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._updateOrder();\n\t\t},\n\t\t_isSplitItem: function(item){\n\t\t\treturn (item.render == \"split\" && this.hasChild(item.id));\n\t\t},\n\t\tparse: function(data){\n\t\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\t\tvar loaded = this._parseInner(data);\n\t\t\tthis._buildTree(loaded);\n\t\t\tthis.filter();\n\t\t\tthis.callEvent(\"onParse\", [loaded]);\n\t\t},\n\n\t\t_addItemInner: function(item, index){\n\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\tif(!utils.defined(parent)){\n\t\t\t\tparent = this.$getRootId();\n\t\t\t\tthis.setParent(item, parent);\n\t\t\t}\n\n\t\t\tvar parentIndex = this.getIndexById(parent);\n\t\t\tvar targetIndex = parentIndex + Math.min(Math.max(index, 0), this.visibleOrder.length);\n\n\t\t\tif(targetIndex*1 !== targetIndex){\n\t\t\t\ttargetIndex = undefined;\n\t\t\t}\n\t\t\tDataStore.prototype._addItemInner.call(this, item, targetIndex);\n\t\t\tthis.setParent(item, parent);\n\n\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\tthis._move_branch(item, item.$rendered_parent);\n\t\t\t}\n\t\t\tthis._add_branch(item, index);\n\t\t},\n\t\t_changeIdInner: function(oldId, newId){\n\t\t\tvar children = this.getChildren(oldId);\n\t\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\n\t\t\tDataStore.prototype._changeIdInner.call(this, oldId, newId);\n\n\t\t\tvar parent = this.getParent(newId);\n\n\t\t\tthis._replace_branch_child(parent, oldId, newId);\n\t\t\tfor(var i = 0; i < children.length; i++){\n\t\t\t\tthis.setParent(this.getItem(children[i]), newId);\n\t\t\t}\n\n\t\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\t\tdelete this._branches[oldId];\n\t\t},\n\n\t\t_traverseBranches: function(code, parent){\n\t\t\tparent = parent || this.$getRootId();\n\t\t\tvar branch = this._branches[parent];\n\t\t\tif (branch) {\n\t\t\t\tfor (var i = 0; i < branch.length; i++) {\n\t\t\t\t\tvar itemId = branch[i];\n\t\t\t\t\tcode.call(this, itemId);\n\t\t\t\t\tif (this._branches[itemId])\n\t\t\t\t\t\tthis._traverseBranches(code, itemId);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_updateOrder: function(code){\n\n\t\t\tthis.fullOrder = powerArray.$create();\n\t\t\tthis._traverseBranches(function(taskId){\n\t\t\t\tthis.fullOrder.push(taskId);\n\t\t\t});\n\n\t\t\tif(code)\n\t\t\t\tDataStore.prototype._updateOrder.call(this, code);\n\t\t},\n\n\t\t_removeItemInner: function(id){\n\n\t\t\tvar items = [];\n\t\t\tthis.eachItem(function(child){\n\t\t\t\titems.push(child);\n\t\t\t}, id);\n\n\t\t\titems.push(this.getItem(id));\n\n\t\t\tfor(var i = 0; i < items.length; i++){\n\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t\tDataStore.prototype._removeItemInner.call(this, items[i].id);\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t}\n\t\t},\n\n\t\tmove: function(sid, tindex, parent){\n\t\t\t//target id as 4th parameter\n\t\t\tvar id = arguments[3];\n\t\t\tif (id) {\n\t\t\t\tif (id === sid) return;\n\n\t\t\t\tparent = this.getParent(id);\n\t\t\t\ttindex = this.getBranchIndex(id);\n\t\t\t}\n\t\t\tif(sid == parent){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tparent = parent || this.$getRootId();\n\t\t\tvar source = this.getItem(sid);\n\t\t\tvar source_pid = this.getParent(source.id);\n\n\t\t\tvar tbranch = this.getChildren(parent);\n\n\t\t\tif (tindex == -1)\n\t\t\t\ttindex = tbranch.length + 1;\n\t\t\tif (source_pid == parent) {\n\t\t\t\tvar sindex = this.getBranchIndex(sid);\n\t\t\t\tif (sindex == tindex) return;\n\t\t\t}\n\n\t\t\tif(this.callEvent(\"onBeforeItemMove\", [sid, parent, tindex]) === false)\n\t\t\t\treturn false;\n\n\t\t\tthis._replace_branch_child(source_pid, sid);\n\t\t\ttbranch = this.getChildren(parent);\n\n\t\t\tvar tid = tbranch[tindex];\n\t\t\tif (!tid) //adding as last element\n\t\t\t\ttbranch.push(sid);\n\t\t\telse\n\t\t\t\ttbranch = tbranch.slice(0, tindex).concat([ sid ]).concat(tbranch.slice(tindex));\n\n\t\t\tthis.setParent(source, parent);\n\t\t\tthis._branches[parent] = tbranch;\n\n\t\t\tvar diff = this.calculateItemLevel(source) - source.$level;\n\t\t\tsource.$level += diff;\n\t\t\tthis.eachItem(function(item){\n\t\t\t\titem.$level += diff;\n\t\t\t}, source.id, this);\n\n\n\t\t\tthis._moveInner(this.getIndexById(sid), this.getIndexById(parent) + tindex);\n\n\t\t\tthis.callEvent(\"onAfterItemMove\", [sid, parent, tindex]);\n\t\t\tthis.refresh();\n\t\t},\n\n\t\tgetBranchIndex: function(id){\n\t\t\tvar branch = this.getChildren(this.getParent(id));\n\t\t\tfor (var i = 0; i < branch.length; i++)\n\t\t\t\tif (branch[i] == id)\n\t\t\t\t\treturn i;\n\n\t\t\treturn -1;\n\t\t},\n\t\thasChild: function(id){\n\t\t\treturn (utils.defined(this._branches[id]) && this._branches[id].length);\n\t\t},\n\t\tgetChildren: function(id){\n\t\t\treturn utils.defined(this._branches[id]) ? this._branches[id] : powerArray.$create();\n\t\t},\n\n\t\tisChildOf: function(childId, parentId){\n\t\t\tif (!this.exists(childId))\n\t\t\t\treturn false;\n\t\t\tif (parentId === this.$getRootId())\n\t\t\t\treturn true;\n\n\t\t\tif (!this.hasChild(parentId))\n\t\t\t\treturn false;\n\n\t\t\tvar item = this.getItem(childId);\n\t\t\tvar pid = this.getParent(childId);\n\n\t\t\tvar parent = this.getItem(parentId);\n\t\t\tif(parent.$level >= item.$level){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twhile (item && this.exists(pid)) {\n\t\t\t\titem = this.getItem(pid);\n\n\t\t\t\tif (item && item.id == parentId)\n\t\t\t\t\treturn true;\n\t\t\t\tpid = this.getParent(item);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tgetSiblings: function(id){\n\t\t\tif(!this.exists(id)){\n\t\t\t\treturn powerArray.$create();\n\t\t\t}\n\t\t\tvar parent = this.getParent(id);\n\t\t\treturn this.getChildren(parent);\n\n\t\t},\n\t\tgetNextSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id)\n\t\t\t\t\treturn siblings[i+1] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetPrevSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id)\n\t\t\t\t\treturn siblings[i-1] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetParent: function(id){\n\t\t\tvar item = null;\n\t\t\tif(id.id !== undefined){\n\t\t\t\titem = id;\n\t\t\t}else{\n\t\t\t\titem = this.getItem(id);\n\t\t\t}\n\n\t\t\tvar parent;\n\t\t\tif(item){\n\t\t\t\tparent = item[this.$parentProperty];\n\t\t\t}else{\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\t\t\treturn parent;\n\n\t\t},\n\n\t\tclearAll: function(){\n\t\t\tthis._branches = {};\n\t\t\tDataStore.prototype.clearAll.call(this);\n\t\t},\n\n\t\tcalculateItemLevel: function(item){\n\t\t\tvar level = 0;\n\t\t\tthis.eachParent(function(){\n\t\t\t\tlevel++;\n\t\t\t}, item);\n\t\t\treturn level;\n\t\t},\n\n\t\t_setParentInner: function(item, new_pid, silent){\n\t\t\tif(!silent){\n\t\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\t\tthis._move_branch(item, item.$rendered_parent, new_pid);\n\t\t\t\t}else{\n\t\t\t\t\tthis._move_branch(item, item[this.$parentProperty], new_pid);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetParent: function(item, new_pid, silent){\n\t\t\tthis._setParentInner(item, new_pid, silent);\n\n\t\t\titem[this.$parentProperty] = new_pid;\n\t\t},\n\t\teachItem: function(code, parent){\n\t\t\tparent = parent || this.$getRootId();\n\n\n\t\t\tvar branch = this.getChildren(parent);\n\t\t\tif (branch)\n\t\t\t\tfor (var i=0; i<branch.length; i++){\n\t\t\t\t\tvar item = this.pull[branch[i]];\n\t\t\t\t\tcode.call(this, item);\n\t\t\t\t\tif (this.hasChild(item.id))\n\t\t\t\t\t\tthis.eachItem(code, item.id);\n\t\t\t\t}\n\t\t},\n\t\teachParent: function(code, startItem) {\n\t\t\tvar parentsHash = {};\n\t\t\tvar item = startItem;\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\twhile (this.exists(parent)) {\n\t\t\t\tif (parentsHash[parent]) {\n\t\t\t\t\tthrow new Error(\"Invalid tasks tree. Cyclic reference has been detected on task \" + parent);\n\t\t\t\t}\n\t\t\t\tparentsHash[parent] = true;\n\t\t\t\titem = this.getItem(parent);\n\t\t\t\tcode.call(this, item);\n\t\t\t\tparent = this.getParent(item);\n\t\t\t}\n\t\t},\n\t\t_add_branch: function(item, index, parent){\n\t\t\tvar pid = parent === undefined ? this.getParent(item) : parent;\n\t\t\tif (!this.hasChild(pid))\n\t\t\t\tthis._branches[pid] = powerArray.$create();\n\t\t\tvar branch = this.getChildren(pid);\n\t\t\tvar added_already = false;\n\t\t\tfor(var i = 0, length = branch.length; i < length; i++){\n\t\t\t\tif(branch[i] == item.id){\n\t\t\t\t\tadded_already = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!added_already){\n\t\t\t\tif(index*1 == index){\n\n\t\t\t\t\tbranch.splice(index, 0, item.id);\n\t\t\t\t}else{\n\t\t\t\t\tbranch.push(item.id);\n\t\t\t\t}\n\n\t\t\t\titem.$rendered_parent = pid;\n\t\t\t}\n\t\t},\n\t\t_move_branch: function(item, old_parent, new_parent){\n\t\t\t//this.setParent(item, new_parent);\n\t\t\t//this._sync_parent(task);\n\t\t\tthis._replace_branch_child(old_parent, item.id);\n\t\t\tif(this.exists(new_parent) || new_parent == this.$getRootId()){\n\n\t\t\t\tthis._add_branch(item, undefined, new_parent);\n\t\t\t}else{\n\t\t\t\tdelete this._branches[item.id];\n\t\t\t}\n\t\t\titem.$level =  this.calculateItemLevel(item);\n\t\t\tthis.eachItem(function(child){\n\t\t\t\tchild.$level = this.calculateItemLevel(child);\n\t\t\t}, item.id);\n\t\t},\n\n\t\t_replace_branch_child: function(node, old_id, new_id){\n\t\t\tvar branch = this.getChildren(node);\n\t\t\tif (branch && node !== undefined){\n\t\t\t\tvar newbranch = powerArray.$create();\n\t\t\t\tfor (var i=0; i<branch.length; i++){\n\t\t\t\t\tif (branch[i] != old_id)\n\t\t\t\t\t\tnewbranch.push(branch[i]);\n\t\t\t\t\telse if (new_id)\n\t\t\t\t\t\tnewbranch.push(new_id);\n\t\t\t\t}\n\t\t\t\tthis._branches[node] = newbranch;\n\t\t\t}\n\n\t\t},\n\n\t\tsort: function(field, desc, parent){\n\t\t\tif (!this.exists(parent)) {\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\n\t\t\tif (!field) field = \"order\";\n\t\t\tvar criteria = (typeof(field) == \"string\") ? (function(a, b) {\n\t\t\t\tif(a[field] == b[field]){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar result = a[field] > b[field];\n\t\t\t\treturn result ? 1 : -1;\n\t\t\t}) : field;\n\n\t\t\tif (desc) {\n\t\t\t\tvar original_criteria = criteria;\n\t\t\t\tcriteria = function (a, b) {\n\t\t\t\t\treturn original_criteria(b, a);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar els = this.getChildren(parent);\n\n\t\t\tif (els){\n\t\t\t\tvar temp = [];\n\t\t\t\tfor (var i = els.length - 1; i >= 0; i--)\n\t\t\t\t\ttemp[i] = this.getItem(els[i]);\n\n\t\t\t\ttemp.sort(criteria);\n\n\t\t\t\tfor (var i = 0; i < temp.length; i++) {\n\t\t\t\t\tels[i] = temp[i].id;\n\t\t\t\t\tthis.sort(field, desc, els[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfilter: function(rule){\n\t\t\tfor(var i  in this.pull){\n\t\t\t\tif(this.pull[i].$rendered_parent !== this.getParent(this.pull[i])){\n\t\t\t\t\tthis._move_branch(this.pull[i], this.pull[i].$rendered_parent, this.getParent(this.pull[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn DataStore.prototype.filter.apply(this, arguments);\n\t\t},\n\n\t\topen: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = true;\n\t\t\t\tthis.callEvent(\"onItemOpen\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tclose: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = false;\n\t\t\t\tthis.callEvent(\"onItemClose\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tdestructor: function(){\n\t\t\tDataStore.prototype.destructor.call(this);\n\t\t\tthis._branches = null;\n\t\t}\n\t},\n\tDataStore.prototype\n);\n\nmodule.exports = TreeDataStore;","var utils = require(\"../../utils/utils\");\n\nvar $powerArray  = {\n\t$create: function(array){\n\t\treturn utils.mixin(array || [], this);\n\t},\n\t//remove element at specified position\n\t$removeAt:function(pos,len){\n\t\tif (pos>=0) this.splice(pos,(len||1));\n\t},\n\t//find element in collection and remove it\n\t$remove:function(value){\n\t\tthis.$removeAt(this.$find(value));\n\t},\n\t//add element to collection at specific position\n\t$insertAt:function(data,pos){\n\t\tif (!pos && pos!==0) \t//add to the end by default\n\t\t\tthis.push(data);\n\t\telse {\n\t\t\tvar b = this.splice(pos,(this.length-pos));\n\t\t\tthis[pos] = data;\n\t\t\tthis.push.apply(this,b); //reconstruct array without loosing this pointer\n\t\t}\n\t},\n\t//return index of element, -1 if it doesn't exists\n\t$find:function(data){\n\t\tfor (var i=0; i<this.length; i++)\n\t\t\tif (data==this[i]) return i;\n\t\treturn -1;\n\t},\n\t//execute some method for each element of array\n\t$each:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tfunctor.call((master||this),this[i]);\n\t},\n\t//create new array from source, by using results of functor\n\t$map:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tthis[i]=functor.call((master||this),this[i]);\n\t\treturn this;\n\t},\n\t$filter:function(functor, master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tif (!functor.call((master||this),this[i])){\n\t\t\t\tthis.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\treturn this;\n\t}\n};\n\nmodule.exports = $powerArray;","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar eventable = require(\"../../utils/eventable\");\n\nvar DataStore = function(config){\n\tthis.pull = {};\n\tthis.$initItem = config.initItem;\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._skip_refresh = false;\n\tthis._filterRule = null;\n\tthis._searchVisibleOrder = {};\n\tthis.$config = config;\n\teventable(this);\n\treturn this;\n};\nDataStore.prototype = {\n\n\t_parseInner: function(data){\n\t\tvar item = null,\n\t\t\tloaded = [];\n\t\tfor(var i = 0, len = data.length; i< len; i++){\n\t\t\titem = data[i];\n\t\t\tif(this.$initItem){\n\t\t\t\titem = this.$initItem(item);\n\t\t\t}\n\t\t\tif(this.callEvent(\"onItemLoading\", [item])){\n\t\t\t\tif (!this.pull.hasOwnProperty(item.id)) {\n\t\t\t\t\tthis.fullOrder.push(item.id);\n\t\t\t\t\tloaded.push(item);\n\t\t\t\t}\n\t\t\t\tthis.pull[item.id] = item;\n\t\t\t}\n\t\t}\n\t\treturn loaded;\n\t},\n\tparse: function(data){\n\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\tvar loaded = this._parseInner(data);\n\t\tthis.refresh();\n\t\tthis.callEvent(\"onParse\", [loaded]);\n\t},\n\tgetItem: function(id){\n\t\treturn this.pull[id];\n\t},\n\n\t_updateOrder: function(code){\n\t\tcode.call(this.visibleOrder);\n\t\tcode.call(this.fullOrder);\n\t},\n\tupdateItem: function(id, item){\n\t\tif (!utils.defined(item)) item = this.getItem(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeUpdate\", [item.id, item]) === false) return false;\n\t\t}\n\t\tthis.pull[id]=item;\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.callEvent(\"onAfterUpdate\", [item.id, item]);\n\t\t\tthis.callEvent(\"onStoreUpdated\", [item.id, item, \"update\"]);\n\t\t}\n\t},\n\n\t_removeItemInner: function(id){\n\t\t//clear from collections\n\t\t//this.visibleOrder.$remove(id);\n\t\tthis._updateOrder(function(){ this.$remove(id);});\n\t\tdelete this.pull[id];\n\t},\n\n\tremoveItem: function(id){\n\t\t//utils.assert(this.exists(id), \"Not existing ID in remove command\"+id);\n\n\t\tvar obj = this.getItem(id);\t//save for later event\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeDelete\", [obj.id, obj]) === false) return false;\n\t\t}\n\n\t\tthis._removeItemInner(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.filter();\n\t\t\tthis.callEvent(\"onAfterDelete\", [obj.id, obj]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"delete\"]);\n\t\t}\n\t},\n\n\t_addItemInner: function(item, index){\n\t\t//in case of treetable order is sent as 3rd parameter\n\t\t//var order = index;\n\n\t\tif(this.exists(item.id)){\n\t\t\tthis.silent(function(){this.updateItem(item.id, item);});\n\t\t}else{\n\t\t\tvar order = this.visibleOrder;\n\n\t\t\t//by default item is added to the end of the list\n\t\t\tvar data_size = order.length;\n\n\t\t\tif (!utils.defined(index) || index < 0)\n\t\t\t\tindex = data_size;\n\t\t\t//check to prevent too big indexes\n\t\t\tif (index > data_size){\n\t\t\t\t//dhx.log(\"Warning\",\"DataStore:add\",\"Index of out of bounds\");\n\t\t\t\tindex = Math.min(order.length,index);\n\t\t\t}\n\t\t}\n\n\n\t\t//gantt.assert(!this.exists(id), \"Not unique ID\");\n\n\t\tthis.pull[item.id]=item;\n\t\tif (!this._skip_refresh){\n\t\t\tthis._updateOrder(function(){\n\t\t\t\tif(this.$find(item.id) === -1)\n\t\t\t\t\tthis.$insertAt(item.id,index);\n\t\t\t});\n\t\t}\n\t\tthis.filter();\n\t\t//order.$insertAt(item.id,index);\n\t},\n\n\n\tisVisible: function(id){\n\t\treturn this.visibleOrder.$find(id) > -1;\n\t},\n\tgetVisibleItems: function(){\n\t\treturn this.getIndexRange();\n\t},\n\n\taddItem: function(item, index){\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\tif(this.$initItem){\n\t\t\titem = this.$initItem(item);\n\t\t}\n\n\t\tif (!this._skip_refresh){\n\t\t\tif (this.callEvent(\"onBeforeAdd\", [item.id, item]) === false) return false;\n\t\t}\n\n\n\t\tthis._addItemInner(item, index);\n\n\t\tif (!this._skip_refresh){\n\t\t\tthis.callEvent(\"onAfterAdd\",[item.id, item]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\",[item.id,item,\"add\"]);\n\t\t}\n\t\treturn item.id;\n\t},\n\n\t_changeIdInner: function(oldId, newId){\n\t\tif(this.pull[oldId])\n\t\t\tthis.pull[newId] = this.pull[oldId];\n\n\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\t\tthis.pull[newId].id = newId;\n\t\tthis._updateOrder(function(){\n\t\t\tthis[this.$find(oldId)] = newId;\n\t\t});\n\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\tdelete this._searchVisibleOrder[oldId];\n\n\t\t//this.visibleOrder[this.visibleOrder.$find(oldId)]=newId;\n\t\tdelete this.pull[oldId];\n\t},\n\tchangeId: function(oldId, newId){\n\t\tthis._changeIdInner(oldId, newId);\n\n\t\tthis.callEvent(\"onIdChange\", [oldId, newId]);\n\n\t},\n\texists: function(id){\n\t\treturn !!(this.pull[id]);\n\t},\n\n\t_moveInner: function(sindex, tindex){\n\t\tvar id = this.getIdByIndex(sindex);\n\n\t\tthis._updateOrder(function(){\n\t\t\tthis.$removeAt(sindex);\n\t\t\tthis.$insertAt(id,Math.min(this.length, tindex));\n\t\t});\n\t\t//this.visibleOrder.$removeAt(sindex);\t//remove at old position\n\t\t//if (sindex<tindex) tindex--;\t//correct shift, caused by element removing\n\t\t//this.visibleOrder.$insertAt(id,Math.min(this.visibleOrder.length, tindex));\t//insert at new position\n\t},\n\n\tmove: function(sindex, tindex){\n\t\t//gantt.assert(sindex>=0 && tindex>=0, \"DataStore::move\",\"Incorrect indexes\");\n\n\t\tvar id = this.getIdByIndex(sindex);\n\t\tvar obj = this.getItem(id);\n\t\tthis._moveInner(sindex, tindex);\n\n\n\t\tif (!this._skip_refresh) {\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"move\"]);\n\t\t}\n\t},\n\tclearAll: function(){\n\t\tthis.pull = {};\n\t\tthis.visibleOrder = powerArray.$create();\n\t\tthis.fullOrder = powerArray.$create();\n\t\tif (this._skip_refresh) return;\n\t\tthis.callEvent(\"onClearAll\",[]);\n\t\tthis.refresh();\n\t},\n\n\tsilent:function(code, master){\n\t\tthis._skip_refresh = true;\n\t\tcode.call(master||this);\n\t\tthis._skip_refresh = false;\n\t},\n\n\tarraysEqual: function (arr1, arr2) {\n\t\tif(arr1.length !== arr2.length)\n\t\t\treturn false;\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tif(arr1[i] !== arr2[i])\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\trefresh: function(id, quick){\n\t\tif (this._skip_refresh) return;\n\n\t\tvar args;\n\t\tif (id){\n\t\t\targs = [id, this.pull[id], \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tif(this.callEvent(\"onBeforeStoreUpdate\", args) === false){\n\t\t\treturn;\n\t\t}\n\n\t\tif(id){\n\t\t\t// if item changes visible order (e.g. expand-collapse branch) - do a complete repaint\n\t\t\tif(!quick){\n\t\t\t\tvar oldOrder = this.visibleOrder;\n\t\t\t\tthis.filter();\n\t\t\t\tif(!this.arraysEqual(oldOrder, this.visibleOrder)){\n\t\t\t\t\tid = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else{\n\t\t\tthis.filter();\n\t\t}\n\n\t\tif (id){\n\t\t\targs = [id, this.pull[id], \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tthis.callEvent(\"onStoreUpdated\",args);\n\t},\n\n\tcount: function(){\n\t\treturn this.fullOrder.length;\n\t},\n\tcountVisible: function(){\n\t\treturn this.visibleOrder.length;\n\t},\n\n\tsort: function(sort){},\n\n\tserialize: function(){},\n\n\teachItem: function(code){\n\t\tfor (var i=0; i<this.fullOrder.length; i++) {\n\t\t\tvar item = this.pull[this.fullOrder[i]];\n\t\t\tcode.call(this, item);\n\t\t}\n\t},\n\t\n\tfilter: function(rule){\n\t\tthis.callEvent(\"onBeforeFilter\", []);\n\t\tvar filteredOrder = powerArray.$create();\n\t\tthis.eachItem(function(item){\n\t\t\tif(this.callEvent(\"onFilterItem\", [item.id, item])){\n\t\t\t\tfilteredOrder.push(item.id);\n\t\t\t}\n\t\t});\n\n\t\tthis.visibleOrder = filteredOrder;\n\t\tthis._searchVisibleOrder = {};\n\t\tfor(var i = 0; i < this.visibleOrder.length; i++){\n\t\t\tthis._searchVisibleOrder[this.visibleOrder[i]] = i;\n\t\t}\n\t\tthis.callEvent(\"onFilter\", []);\n\t},\n\n\tgetIndexRange: function(from, to){\n\t\tto=Math.min((to||Infinity),this.countVisible()-1);\n\n\t\tvar ret= [];\n\t\tfor (var i=(from||0); i <= to; i++)\n\t\t\tret.push(this.getItem(this.visibleOrder[i]));\n\t\treturn ret;\n\t},\n\tgetItems: function(){\n\t\tvar res = [];\n\t\tfor(var i in this.pull){\n\t\t\tres.push(this.pull[i]);\n\t\t}\n\t/*\tfor(var i = 0; i < this.fullOrder.length; i++){\n\n\t\t}*/\n\t\treturn res;\n\t},\n\n\tgetIdByIndex: function(index){\n\t\treturn this.visibleOrder[index];\n\t},\n\tgetIndexById: function(id){\n\t\tvar res = this._searchVisibleOrder[id];\n\t\tif(res === undefined){\n\t\t\tres = -1;\n\t\t}\n\t\treturn res;\n\t},\n\t_getNullIfUndefined: function(value){\n\t\tif(value === undefined){\n\t\t\treturn null;\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t},\n\tgetFirst: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[0]);\n\t},\n\tgetLast: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1]);\n\t},\n\tgetNext: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) + 1]);\n\t},\n\tgetPrev: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) - 1]);\n\t},\n\tdestructor: function(){\n\t\tthis.detachAllEvents();\n\t\tthis.pull = null;\n\t\tthis.$initItem = null;\n\t\tthis.visibleOrder = null;\n\t\tthis.fullOrder = null;\n\t\tthis._skip_refresh = null;\n\t\tthis._filterRule = null;\n\t\tthis._searchVisibleOrder = null;\n\t}\n};\n\nmodule.exports = DataStore;","function createTaskRenderer(gantt){\n\n\tfunction _render_task_element(task, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar painters = config.type_renderers;\n\t\tvar renderer = painters[gantt.getTaskType(task.type)],\n\t\t\tdefaultRenderer = _task_default_render;\n\n\t\tif (!renderer) {\n\t\t\treturn defaultRenderer.call(gantt, task, view);\n\t\t}else{\n\t\t\treturn renderer.call(gantt, task, function(task){ return defaultRenderer.call(gantt, task, view);}, view);\n\t\t}\n\t}\n\n\tfunction _task_default_render(task, view) {\n\t\tif (gantt._isAllowedUnscheduledTask(task))\n\t\t\treturn;\n\n\n\t\tvar pos = view.getItemPosition(task);\n\n\t\tvar cfg = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\t\tvar height = view.getItemHeight();\n\n\t\tvar taskType = gantt.getTaskType(task.type);\n\n\t\tvar padd = Math.floor((gantt.config.row_height - height) / 2);\n\t\tif (taskType == cfg.types.milestone && cfg.link_line_width > 1) {\n\t\t\t//little adjust milestone position, so horisontal corners would match link arrow when thickness of link line is more than 1px\n\t\t\tpadd += 1;\n\t\t}\n\n\t\tif (taskType == cfg.types.milestone){\n\t\t\tpos.left -= Math.round(height / 2);\n\t\t\tpos.width = height;\n\t\t}\n\n\t\tvar div = document.createElement(\"div\");\n\n\t\tvar width = Math.round(pos.width);\n\n\t\tif(view.$config.item_attribute){\n\t\t\tdiv.setAttribute(view.$config.item_attribute, task.id);\n\t\t}\n\n\t\tif (cfg.show_progress && taskType != cfg.types.milestone) {\n\t\t\t_render_task_progress(task, div, width, cfg, templates);\n\t\t}\n\n\t\t//use separate div to display content above progress bar\n\t\tvar content = _render_task_content(task, width, templates);\n\t\tif (task.textColor) {\n\t\t\tcontent.style.color = task.textColor;\n\t\t}\n\t\tdiv.appendChild(content);\n\n\t\tvar css = _combine_item_class(\"gantt_task_line\",\n\t\t\ttemplates.task_class(task.start_date, task.end_date, task),\n\t\t\ttask.id,\n\t\t\tview);\n\t\tif (task.color || task.progressColor || task.textColor) {\n\t\t\tcss += \" gantt_task_inline_color\";\n\t\t}\n\t\tdiv.className = css;\n\n\t\tvar styles = [\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"top:\" + (padd + pos.top) + 'px',\n\t\t\t\"height:\" + height + 'px',\n\t\t\t\"line-height:\" + (Math.max(height < 30 ? height - 2 : height, 0)) + 'px',\n\t\t\t\"width:\" + width + 'px'\n\t\t];\n\t\tif (task.color) {\n\t\t\tstyles.push(\"background-color:\" + task.color);\n\t\t}\n\t\tif (task.textColor) {\n\t\t\tstyles.push(\"color:\" + task.textColor);\n\t\t}\n\n\t\tdiv.style.cssText = styles.join(\";\");\n\t\tvar side = _render_leftside_content(task, cfg, templates);\n\t\tif (side) div.appendChild(side);\n\n\t\tside = _render_rightside_content(task, cfg, templates);\n\t\tif (side) div.appendChild(side);\n\n\t\tgantt._waiAria.setTaskBarAttr(task, div);\n\n\t\tvar state = gantt.getState();\n\n\t\tif (!gantt.isReadonly(task)) {\n\t\t\tif (cfg.drag_resize && !gantt.isSummaryTask(task) && taskType != cfg.types.milestone) {\n\t\t\t\t_render_pair(div, \"gantt_task_drag\", task, function (css) {\n\t\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\t\tel.className = css;\n\t\t\t\t\treturn el;\n\t\t\t\t}, cfg);\n\t\t\t}\n\t\t\tif (cfg.drag_links && cfg.show_links) {\n\t\t\t\t_render_pair(div, \"gantt_link_control\", task, function (css) {\n\t\t\t\t\tvar outer = document.createElement(\"div\");\n\t\t\t\t\touter.className = css;\n\t\t\t\t\touter.style.cssText = [\n\t\t\t\t\t\t\"height:\" + height + 'px',\n\t\t\t\t\t\t\"line-height:\" + height + 'px'\n\t\t\t\t\t].join(\";\");\n\t\t\t\t\tvar inner = document.createElement(\"div\");\n\t\t\t\t\tinner.className = \"gantt_link_point\";\n\n\t\t\t\t\tvar showLinkPoints = false;\n\t\t\t\t\tif(state.link_source_id && cfg.touch){\n\t\t\t\t\t\tshowLinkPoints = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tinner.style.display = showLinkPoints ? \"block\" : \"\";\n\t\t\t\t\touter.appendChild(inner);\n\t\t\t\t\treturn outer;\n\t\t\t\t}, cfg);\n\t\t\t}\n\t\t}\n\t\treturn div;\n\t}\n\n\tfunction _render_side_content(task, template, cssClass) {\n\t\tif (!template) return null;\n\n\t\tvar text = template(task.start_date, task.end_date, task);\n\t\tif (!text) return null;\n\t\tvar content = document.createElement(\"div\");\n\t\tcontent.className = \"gantt_side_content \" + cssClass;\n\t\tcontent.innerHTML = text;\n\t\treturn content;\n\t}\n\n\tfunction _render_leftside_content(task, cfg, templates) {\n\t\tvar css = \"gantt_left \" + _get_link_crossing_css(!cfg.rtl ? true : false, task, cfg);\n\t\treturn _render_side_content(task, templates.leftside_text, css);\n\t}\n\n\tfunction _render_rightside_content(task, cfg, templates) {\n\t\tvar css = \"gantt_right \" + _get_link_crossing_css(!cfg.rtl ? false : true, task, cfg);\n\t\treturn _render_side_content(task, templates.rightside_text, css);\n\t}\n\n\tfunction _get_link_crossing_css(left, task) {\n\t\tvar cond = _get_conditions(left);\n\n\t\tfor (var i in cond) {\n\t\t\tvar links = task[i];\n\t\t\tfor (var ln = 0; ln < links.length; ln++) {\n\t\t\t\tvar link = gantt.getLink(links[ln]);\n\n\t\t\t\tfor (var tp = 0; tp < cond[i].length; tp++) {\n\t\t\t\t\tif (link.type == cond[i][tp]) {\n\t\t\t\t\t\treturn \"gantt_link_crossing\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\tfunction _render_task_content(task, width, templates) {\n\t\tvar content = document.createElement(\"div\");\n\t\tif (gantt.getTaskType(task.type) != gantt.config.types.milestone)\n\t\t\tcontent.innerHTML = templates.task_text(task.start_date, task.end_date, task);\n\t\tcontent.className = \"gantt_task_content\";\n\t\t//content.style.width = width + 'px';\n\t\treturn content;\n\t}\n\n\tfunction _render_task_progress(task, element, maxWidth, cfg, templates) {\n\t\tvar done = task.progress * 1 || 0;\n\n\t\tmaxWidth = Math.max(maxWidth - 2, 0);//2px for borders\n\t\tvar pr = document.createElement(\"div\");\n\t\tvar width = Math.round(maxWidth * done);\n\n\t\twidth = Math.min(maxWidth, width);\n\t\tif (task.progressColor) {\n\t\t\tpr.style.backgroundColor = task.progressColor;\n\t\t\tpr.style.opacity = 1;\n\t\t}\n\t\tpr.style.width = width + 'px';\n\t\tpr.className = \"gantt_task_progress\";\n\t\tpr.innerHTML = templates.progress_text(task.start_date, task.end_date, task);\n\n\t\tif(cfg.rtl){\n\t\t\tpr.style.position = \"absolute\";\n\t\t\tpr.style.right = \"0px\";\n\t\t}\n\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.className = \"gantt_task_progress_wrapper\";\n\t\twrapper.appendChild(pr);\n\t\telement.appendChild(wrapper);\n\n\t\tif (gantt.config.drag_progress && !gantt.isReadonly(task)) {\n\t\t\tvar drag = document.createElement(\"div\");\n\n\t\t\tvar markerPos = width;\n\t\t\tif(cfg.rtl){\n\t\t\t\tmarkerPos = maxWidth - width;\n\t\t\t}\n\n\t\t\tdrag.style.left = markerPos + 'px';\n\t\t\tdrag.className = \"gantt_task_progress_drag\";\n\t\t\tpr.appendChild(drag);\n\t\t\telement.appendChild(drag);\n\t\t}\n\t}\n\n\tfunction _get_conditions(leftside) {\n\t\tif (leftside) {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.start_to_start\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.start_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_start\n\t\t\t\t]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.finish_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction _combine_item_class(basic, template, itemId, view) {\n\t\tvar cfg = view.$getConfig();\n\t\tvar css = [basic];\n\t\tif (template)\n\t\t\tcss.push(template);\n\n\t\tvar state = gantt.getState();\n\n\t\tvar task = gantt.getTask(itemId);\n\n\t\tif (gantt.getTaskType(task.type) == cfg.types.milestone) {\n\t\t\tcss.push(\"gantt_milestone\");\n\t\t}else if (gantt.getTaskType(task.type) == cfg.types.project) {\n\t\t\tcss.push(\"gantt_project\");\n\t\t}\n\n\t\tcss.push(\"gantt_bar_\" + gantt.getTaskType(task.type));\n\n\n\t\tif (gantt.isSummaryTask(task))\n\t\t\tcss.push(\"gantt_dependent_task\");\n\n\t\tif (gantt.isSplitTask(task) && ((cfg.open_split_tasks && !task.$open) || !cfg.open_split_tasks)) {\n\t\t\tcss.push(\"gantt_split_parent\");\n\t\t}\n\n\t\tif (cfg.select_task && gantt.isSelectedTask(itemId)) {\n\t\t\tcss.push(\"gantt_selected\");\n\t\t}\n\n\t\tif (itemId == state.drag_id) {\n\t\t\tcss.push(\"gantt_drag_\" + state.drag_mode);\n\t\t\tif (state.touch_drag) {\n\t\t\t\tcss.push(\"gantt_touch_\" + state.drag_mode);\n\t\t\t}\n\t\t}\n\n\t\tif (state.link_source_id == itemId)\n\t\t\tcss.push(\"gantt_link_source\");\n\n\t\tif (state.link_target_id == itemId)\n\t\t\tcss.push(\"gantt_link_target\");\n\n\n\t\tif (cfg.highlight_critical_path && gantt.isCriticalTask) {\n\t\t\tif (gantt.isCriticalTask(task))\n\t\t\t\tcss.push(\"gantt_critical_task\");\n\t\t}\n\n\t\tif (state.link_landing_area &&\n\t\t\t(state.link_target_id && state.link_source_id) &&\n\t\t\t(state.link_target_id != state.link_source_id)) {\n\n\t\t\tvar from_id = state.link_source_id;\n\t\t\tvar from_start = state.link_from_start;\n\t\t\tvar to_start = state.link_to_start;\n\n\t\t\tvar allowDrag = gantt.isLinkAllowed(from_id, itemId, from_start, to_start);\n\n\t\t\tvar dragClass = \"\";\n\t\t\tif (allowDrag) {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_allow\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_allow\";\n\t\t\t} else {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_deny\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_deny\";\n\t\t\t}\n\t\t\tcss.push(dragClass);\n\t\t}\n\t\treturn css.join(\" \");\n\t}\n\n\tfunction _render_pair(parent, css, task, content, config) {\n\t\tvar state = gantt.getState();\n\t\tvar className, element;\n\t\tif (+task.start_date >= +state.min_date) {\n\t\t\tclassName = [css, config.rtl ? \"task_right\" : \"task_left\", \"task_start_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"start_date\");\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t\tif (+task.end_date <= +state.max_date){\n\t\t\tclassName = [css, config.rtl ? \"task_left\" : \"task_right\", \"task_end_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"end_date\");\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t}\n\n\treturn _render_task_element;\n}\n\nmodule.exports = createTaskRenderer;","var isRowInViewPort = require(\"./task_row_checker\");\n\nmodule.exports = function isInViewPort(item, view, viewport){\n\n\tif(!isRowInViewPort(item, view, viewport)){\n\t\treturn false;\n\t}\n\n\tif(!item.start_date || !item.end_date){\n\t\treturn false;\n\t}\n\tvar left = view.posFromDate(item.start_date);\n\tvar right = view.posFromDate(item.end_date);\n\t\n\tif(left > right){\n\t\t// rtl\n\t\tvar tmp = right;\n\t\tright = left;\n\t\tleft = tmp;\n\t}\n\n\tleft -= 200; // add buffer for custom elements\n\tright += 200;\n\n\tif(viewport.x > right || viewport.x_end < left){\n\t\treturn false;\n\t}\n\t\t\n\treturn true;\n};","var utils = require(\"../../../utils/utils\");\nvar Timeline = require(\"./timeline\");\nvar resourceStoreMixin = require(\"../resource_store_mixin\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceTimeline = (function (_super) {\n\n\tfunction ResourceTimeline(parent, config, factory, gantt) {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\tself.$config.bindLinks = null;\n\t\treturn self;\n\t}\n\n\t__extends(ResourceTimeline, _super);\n\n\tutils.mixin(ResourceTimeline.prototype, {\n\t\tinit: function(){\n\t\t\tif(this.$config.bind === undefined){\n\t\t\t\tthis.$config.bind = this.$getConfig().resource_store;\n\t\t\t}\n\t\t\t_super.prototype.init.apply(this, arguments);\n\t\t},\n\t\t_createLayerConfig: function() {\n\t\t\tvar self = this;\n\t\t\tvar taskFilter = function() {\n\t\t\t\treturn self.isVisible();\n\t\t\t};\n\n\t\t\tvar taskLayers = [\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.resourceRow(),\n\t\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg(),\n\t\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar linkLayers = [];\n\n\t\t\treturn {\n\t\t\t\ttasks: taskLayers,\n\t\t\t\tlinks: linkLayers\n\t\t\t};\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceTimeline.prototype, resourceStoreMixin(ResourceTimeline), true);\n\n\treturn ResourceTimeline;\n})(Timeline);\n\n\nmodule.exports = ResourceTimeline;\n\n\n","function createMixin(){\n\tvar topCache = {};\n\treturn {\n\t\t_resetTopPositionHeight: function(){\n\t\t\ttopCache = {};\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by row index (order)\n\t\t * @param {number} index\n\t\t */\n\t\tgetRowTop: function(index){\n\t\t\treturn index * this.$getConfig().row_height;\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by item id\n\t\t * @param {*} task_id\n\t\t */\n\t\tgetItemTop: function (taskId) {\n\t\t\tif(this.$config.rowStore){\n\t\t\t\tif(topCache[taskId] !== undefined){\n\t\t\t\t\treturn topCache[taskId];\n\t\t\t\t}\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return 0;\n\n\t\t\t\tvar itemIndex = store.getIndexById(taskId);\n\n\t\t\t\tif (itemIndex === -1 && store.getParent && store.exists(taskId)) {\n\t\t\t\t\tvar parentId = store.getParent(taskId);\n\t\t\t\t\tif (store.exists(parentId)) {\n\t\t\t\t\t\t// if task is not found in list - maybe it's parent is a split task and we should use parents index instead\n\t\t\t\t\t\tvar parent = store.getItem(parentId);\n\t\t\t\t\t\tif (this.$gantt.isSplitTask(parent)) {\n\t\t\t\t\t\t\treturn this.getRowTop(store.getIndexById(parent.id));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttopCache[taskId] = this.getRowTop(itemIndex);\n\t\t\t\treturn topCache[taskId];\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t}\n\t};\n}\n\nmodule.exports = createMixin;","var utils = require(\"../../../utils/utils\");\n\nfunction ScaleHelper(gantt){\n\tvar dateHelper = gantt.date;\n\tvar services = gantt.$services;\n\n\treturn {\n\t\tgetSum: function (sizes, from, to) {\n\t\t\tif (to === undefined)\n\t\t\t\tto = sizes.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\n\t\t\tvar summ = 0;\n\t\t\tfor (var i = from; i <= to; i++)\n\t\t\t\tsumm += sizes[i];\n\n\t\t\treturn summ;\n\t\t},\n\t\tsetSumWidth: function (sum_width, scale, from, to) {\n\t\t\tvar parts = scale.width;\n\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\t\t\tvar length = to - from + 1;\n\n\t\t\tif (from > parts.length - 1 || length <= 0 || to > parts.length - 1)\n\t\t\t\treturn;\n\n\t\t\tvar oldWidth = this.getSum(parts, from, to);\n\n\t\t\tvar diff = sum_width - oldWidth;\n\n\t\t\tthis.adjustSize(diff, parts, from, to);\n\t\t\tthis.adjustSize(-diff, parts, to + 1);\n\n\t\t\tscale.full_width = this.getSum(parts);\n\t\t},\n\t\tsplitSize: function (width, count) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i = 0; i < count; i++) arr[i] = 0;\n\n\t\t\tthis.adjustSize(width, arr);\n\t\t\treturn arr;\n\n\t\t},\n\t\tadjustSize: function (width, parts, from, to) {\n\t\t\tif (!from)\n\t\t\t\tfrom = 0;\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\n\t\t\tvar length = to - from + 1;\n\n\t\t\tvar full = this.getSum(parts, from, to);\n\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tvar share = Math.floor(width * (full ? (parts[i] / full) : (1 / length)));\n\n\t\t\t\tfull -= parts[i];\n\t\t\t\twidth -= share;\n\t\t\t\tlength--;\n\n\t\t\t\tparts[i] += share;\n\t\t\t}\n\t\t\tparts[parts.length - 1] += width;\n\t\t},\n\t\tsortScales: function (scales) {\n\t\t\tfunction cellSize(unit, step) {\n\t\t\t\tvar d = new Date(1970, 0, 1);\n\t\t\t\treturn dateHelper.add(d, step, unit) - d;\n\t\t\t}\n\n\t\t\tscales.sort(function (a, b) {\n\t\t\t\tif (cellSize(a.unit, a.step) < cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (cellSize(a.unit, a.step) > cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\t\tscales[i].index = i;\n\t\t\t}\n\t\t},\n\t\t_isLegacyMode: function(config){\n\t\t\tvar scaleConfig = config || services.config();\n\t\t\treturn scaleConfig.scale_unit || scaleConfig.date_scale || scaleConfig.subscales;\n\t\t},\n\t\t_prepareScaleObject: function(scale){\n\t\t\tvar format = scale.format;\n\t\t\tif(!format){\n\t\t\t\tformat = scale.template || scale.date || \"%d %M\";\n\t\t\t}\n\n\t\t\tif(typeof format === \"string\"){\n\t\t\t\tformat = gantt.date.date_to_str(format);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tunit: scale.unit || \"day\",\n\t\t\t\tstep: scale.step || 1,\n\t\t\t\tformat: format,\n\t\t\t\tcss: scale.css\n\t\t\t};\n\t\t},\n\t\tprimaryScale: function(config) {\n\t\t\tvar templates = services.getService(\"templateLoader\");\n\t\t\tvar legacyMode = this._isLegacyMode(config);\n\n\t\t\tvar scaleConfig = config || services.config();\n\n\t\t\tvar result;\n\t\t\tif(legacyMode){\n\t\t\t\ttemplates.initTemplate(\"date_scale\", undefined, undefined, scaleConfig, services.templates());\n\t\t\t\tresult = {\n\t\t\t\t\tunit: services.config().scale_unit,\n\t\t\t\t\tstep: services.config().step,\n\t\t\t\t\ttemplate: services.templates().date_scale,\n\t\t\t\t\tdate: services.config().date_scale,\n\t\t\t\t\tcss: services.templates().scale_cell_class\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\tvar primaryScale = scaleConfig.scales[0];\n\t\t\t\tresult = {\n\t\t\t\t\tunit: primaryScale.unit,\n\t\t\t\t\tstep: primaryScale.step,\n\t\t\t\t\ttemplate: primaryScale.template,\n\t\t\t\t\tformat: primaryScale.format,\n\t\t\t\t\tdate: primaryScale.date,\n\t\t\t\t\tcss: primaryScale.css || services.templates().scale_cell_class\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn this._prepareScaleObject(result);\n\t\t},\n\t\tgetSubScales: function(config) {\n\t\t\tvar legacyMode = this._isLegacyMode(config);\n\t\t\tvar scaleConfig = config || services.config();\n\t\t\tvar scales;\n\t\t\tif(legacyMode){\n\t\t\t\tscales = scaleConfig.subscales || [];\n\t\t\t}else{\n\t\t\t\tscales = scaleConfig.scales.slice(1);\n\t\t\t}\n\t\t\t\n\t\t\treturn scales.map(function(scale){\n\t\t\t\treturn this._prepareScaleObject(scale);\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tprepareConfigs: function (scales, min_coll_width, container_width, scale_height, minDate, maxDate, rtl) {\n\t\t\tvar heights = this.splitSize(scale_height, scales.length);\n\t\t\tvar full_width = container_width;\n\n\t\t\tvar configs = [];\n\t\t\tfor (var i = scales.length - 1; i >= 0; i--) {\n\t\t\t\tvar main_scale = (i == scales.length - 1);\n\t\t\t\tvar cfg = this.initScaleConfig(scales[i], minDate, maxDate);\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tthis.processIgnores(cfg);\n\t\t\t\t}\n\n\t\t\t\tthis.initColSizes(cfg, min_coll_width, full_width, heights[i]);\n\t\t\t\tthis.limitVisibleRange(cfg);\n\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tfull_width = cfg.full_width;\n\t\t\t\t}\n\n\t\t\t\tconfigs.unshift(cfg);\n\t\t\t}\n\n\n\t\t\tfor (var i = 0; i < configs.length - 1; i++) {\n\t\t\t\tthis.alineScaleColumns(configs[configs.length - 1], configs[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < configs.length; i++) {\n\n\t\t\t\tif(rtl){\n\t\t\t\t\tthis.reverseScale(configs[i]);\n\t\t\t\t}\n\t\t\t\tthis.setPosSettings(configs[i]);\n\t\t\t}\n\t\t\treturn configs;\n\n\t\t},\n\n\t\treverseScale: function(scale){\n\t\t\tscale.width = scale.width.reverse();\n\t\t\tscale.trace_x = scale.trace_x.reverse();\n\n\t\t\tvar indexes = scale.trace_indexes;\n\t\t\tscale.trace_indexes = {};\n\t\t\tscale.trace_index_transition = {};\n\t\t\tscale.rtl = true;\n\t\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\t\tscale.trace_indexes[scale.trace_x[i].valueOf()] = i;\n\t\t\t\tscale.trace_index_transition[indexes[scale.trace_x[i].valueOf()]] = i;\n\t\t\t}\n\t\t\treturn scale;\n\t\t},\n\n\t\tsetPosSettings: function (config) {\n\t\t\tfor (var i = 0, len = config.trace_x.length; i < len; i++) {\n\t\t\t\tconfig.left.push((config.width[i - 1] || 0) + (config.left[i - 1] || 0));\n\t\t\t}\n\t\t},\n\n\t\t_ignore_time_config: function (date, scale) {\n\n\t\t\tif (services.config().skip_off_time) {\n\t\t\t\tvar skip = true;\n\t\t\t\tvar probe = date;\n\n\t\t\t\t// check dates in case custom scale unit, e.g. {unit: \"month\", step: 3}\n\t\t\t\tfor (var i = 0; i < scale.step; i++) {\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tprobe = dateHelper.add(date, i, scale.unit);\n\t\t\t\t\t}\n\n\t\t\t\t\tskip = skip && !this.isWorkTime(probe, scale.unit);\n\t\t\t\t}\n\n\t\t\t\treturn skip;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t//defined in an extension\n\t\tprocessIgnores: function (config) {\n\t\t\tconfig.ignore_x = {};\n\t\t\tconfig.display_count = config.count;\n\t\t},\n\t\tinitColSizes: function (config, min_col_width, full_width, line_height) {\n\t\t\tvar cont_width = full_width;\n\n\t\t\tconfig.height = line_height;\n\n\t\t\tvar column_count = config.display_count === undefined ? config.count : config.display_count;\n\n\t\t\tif (!column_count)\n\t\t\t\tcolumn_count = 1;\n\n\t\t\tconfig.col_width = Math.floor(cont_width / column_count);\n\n\t\t\tif (min_col_width) {\n\t\t\t\tif (config.col_width < min_col_width) {\n\t\t\t\t\tconfig.col_width = min_col_width;\n\t\t\t\t\tcont_width = config.col_width * column_count;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconfig.width = [];\n\t\t\tvar ignores = config.ignore_x || {};\n\t\t\tfor (var i = 0; i < config.trace_x.length; i++) {\n\t\t\t\tif (ignores[config.trace_x[i].valueOf()] || (config.display_count == config.count)) {\n\t\t\t\t\tconfig.width[i] = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// width of month columns should be proportional month duration\n\t\t\t\t\tvar width = 1;\n\t\t\t\t\tif (config.unit == \"month\") {\n\t\t\t\t\t\tvar days = Math.round((dateHelper.add(config.trace_x[i], config.step, config.unit) - config.trace_x[i]) / (1000 * 60 * 60 * 24));\n\t\t\t\t\t\twidth = days;\n\t\t\t\t\t}\n\t\t\t\t\tconfig.width[i] = width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.adjustSize(cont_width - this.getSum(config.width)/* 1 width per column from the code above */, config.width);\n\t\t\tconfig.full_width = this.getSum(config.width);\n\t\t},\n\t\tinitScaleConfig: function (config, min_date, max_date) {\n\t\t\tvar cfg = utils.mixin({\n\t\t\t\tcount: 0,\n\t\t\t\tcol_width: 0,\n\t\t\t\tfull_width: 0,\n\t\t\t\theight: 0,\n\t\t\t\twidth: [],\n\t\t\t\tleft: [],\n\t\t\t\ttrace_x: [],\n\t\t\t\ttrace_indexes: {},\n\t\t\t\tmin_date: new Date(min_date),\n\t\t\t\tmax_date: new Date(max_date)\n\t\t\t}, config);\n\n\t\t\tthis.eachColumn(config.unit, config.step, min_date, max_date, function (date) {\n\t\t\t\tcfg.count++;\n\t\t\t\tcfg.trace_x.push(new Date(date));\n\t\t\t\tcfg.trace_indexes[date.valueOf()] = cfg.trace_x.length - 1;\n\t\t\t});\n\n\t\t\tcfg.trace_x_ascending = cfg.trace_x.slice();\n\t\t\treturn cfg;\n\t\t},\n\t\titerateScales: function (lower_scale, upper_scale, from, to, callback) {\n\t\t\tvar upper_dates = upper_scale.trace_x;\n\t\t\tvar lower_dates = lower_scale.trace_x;\n\n\t\t\tvar prev = from || 0;\n\t\t\tvar end = to || (lower_dates.length - 1);\n\t\t\tvar prevUpper = 0;\n\n\n\t\t\tfor (var up = 1; up < upper_dates.length; up++) {\n\t\t\t\tvar target_index = (lower_scale.trace_indexes[+upper_dates[up]]);\n\t\t\t\tif (target_index !== undefined && target_index <= end) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(this, [prevUpper, up, prev, target_index]);\n\t\t\t\t\t}\n\t\t\t\t\tprev = target_index;\n\t\t\t\t\tprevUpper = up;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\talineScaleColumns: function (lower_scale, upper_scale, from, to) {\n\t\t\tthis.iterateScales(lower_scale, upper_scale, from, to, function (upper_start, upper_end, lower_start, lower_end) {\n\t\t\t\tvar targetWidth = this.getSum(lower_scale.width, lower_start, lower_end - 1);\n\t\t\t\tvar actualWidth = this.getSum(upper_scale.width, upper_start, upper_end - 1);\n\t\t\t\tif (actualWidth != targetWidth) {\n\t\t\t\t\tthis.setSumWidth(targetWidth, upper_scale, upper_start, upper_end - 1);\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\n\t\teachColumn: function (unit, step, min_date, max_date, callback) {\n\t\t\tvar start = new Date(min_date),\n\t\t\t\tend = new Date(max_date);\n\t\t\tif (dateHelper[unit + \"_start\"]) {\n\t\t\t\tstart = dateHelper[unit + \"_start\"](start);\n\t\t\t}\n\n\t\t\tvar curr = new Date(start);\n\t\t\tif (+curr >= +end) {\n\t\t\t\tend = dateHelper.add(curr, step, unit);\n\t\t\t}\n\t\t\twhile (+curr < +end) {\n\t\t\t\tcallback.call(this, new Date(curr));\n\t\t\t\tvar tzOffset = curr.getTimezoneOffset();\n\t\t\t\tcurr = dateHelper.add(curr, step, unit);\n\t\t\t\tcurr = gantt._correct_dst_change(curr, tzOffset, step, unit);\n\t\t\t\tif (dateHelper[unit + '_start'])\n\t\t\t\t\tcurr = dateHelper[unit + \"_start\"](curr);\n\t\t\t}\n\t\t},\n\t\tlimitVisibleRange: function (cfg) {\n\t\t\tvar dates = cfg.trace_x;\n\n\t\t\tvar left = 0, right = cfg.width.length - 1;\n\t\t\tvar diff = 0;\n\t\t\tif (+dates[0] < +cfg.min_date && left != right) {\n\t\t\t\tvar width = Math.floor(cfg.width[0] * ((dates[1] - cfg.min_date) / (dates[1] - dates[0])));\n\t\t\t\tdiff += cfg.width[0] - width;\n\t\t\t\tcfg.width[0] = width;\n\n\t\t\t\tdates[0] = new Date(cfg.min_date);\n\t\t\t}\n\n\t\t\tvar last = dates.length - 1;\n\t\t\tvar lastDate = dates[last];\n\t\t\tvar outDate = dateHelper.add(lastDate, cfg.step, cfg.unit);\n\t\t\tif (+outDate > +cfg.max_date && last > 0) {\n\t\t\t\tvar width = cfg.width[last] - Math.floor(cfg.width[last] * ((outDate - cfg.max_date) / (outDate - lastDate)));\n\t\t\t\tdiff += cfg.width[last] - width;\n\t\t\t\tcfg.width[last] = width;\n\t\t\t}\n\n\t\t\tif (diff) {\n\t\t\t\tvar full = this.getSum(cfg.width);\n\t\t\t\tvar shared = 0;\n\t\t\t\tfor (var i = 0; i < cfg.width.length; i++) {\n\t\t\t\t\tvar share = Math.floor(diff * (cfg.width[i] / full));\n\t\t\t\t\tcfg.width[i] += share;\n\t\t\t\t\tshared += share;\n\t\t\t\t}\n\t\t\t\tthis.adjustSize(diff - shared, cfg.width);\n\t\t\t}\n\n\t\t}\n\t};\n}\n\nmodule.exports = ScaleHelper;\n","\nvar ScaleHelper = require(\"./scales\");\n\nfunction ScaleIgnoreHelper(gantt){\n\tvar helper = new ScaleHelper(gantt);\n\n\thelper.processIgnores = function (config) {\n\t\tvar display_count = config.count;\n\t\tconfig.ignore_x = {};\n\t\tif (gantt.ignore_time || gantt.config.skip_off_time) {\n\t\t\tvar ignore = gantt.ignore_time || function () {\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tdisplay_count = 0;\n\n\t\t\tfor (var i = 0; i < config.trace_x.length; i++) {\n\n\t\t\t\tif (ignore.call(gantt, config.trace_x[i]) || this._ignore_time_config.call(gantt, config.trace_x[i], config)) {\n\t\t\t\t\tconfig.ignore_x[config.trace_x[i].valueOf()] = true;\n\t\t\t\t\tconfig.ignored_colls = true;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay_count++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tconfig.display_count = display_count;\n\t};\n\n\treturn helper;\n}\n\nmodule.exports = ScaleIgnoreHelper;","var ScaleHelper = require(\"./scales_ignore\");\nvar eventable = require(\"../../../utils/eventable\");\nvar utils = require(\"../../../utils/utils\");\nvar topPositionMixin = require(\"../row_position_mixin\");\nvar canvasRender = require(\"./tasks_canvas_render\");\n\nvar Timeline = function(parent, config, factory, gantt){\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$scaleHelper = new ScaleHelper(gantt);\n\tthis.$gantt = gantt;\n\tthis._posFromDateCache = {};\n\tutils.mixin(this, topPositionMixin());\n\teventable(this);\n};\n\nTimeline.prototype = {\n\tinit: function(container){\n\t\tcontainer.innerHTML += \"<div class='gantt_task' style='width:inherit;height:inherit;'></div>\";\n\t\tthis.$task = container.childNodes[0];\n\n\t\tthis.$task.innerHTML = \"<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>\";\n\t\tthis.$task_scale = this.$task.childNodes[0];\n\n\t\tthis.$task_data = this.$task.childNodes[1];\n\t\tthis.$task_data.innerHTML = \"<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>\";\n\t\tthis.$task_bg = this.$task_data.childNodes[0];\n\t\tthis.$task_links = this.$task_data.childNodes[1];\n\t\tthis.$task_bars = this.$task_data.childNodes[2];\n\n\t\tthis._tasks = {\n\t\t\tcol_width: 0,\n\t\t\twidth: [], // width of each column\n\t\t\tfull_width: 0, // width of all columns\n\t\t\ttrace_x: [],\n\t\t\trendered: {}\n\t\t};\n\n\t\tvar config = this.$getConfig();\n\t\tvar attr = config[this.$config.bind + \"_attribute\"];\n\t\tvar linksAttr = config[this.$config.bindLinks + \"_attribute\"];\n\t\tif(!attr && this.$config.bind){\n\t\t\tattr = this.$config.bind + \"_id\";\n\t\t}\n\t\tif(!linksAttr && this.$config.bindLinks){\n\t\t\tlinksAttr = this.$config.bindLinks + \"_id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\t\tthis.$config.link_attribute = linksAttr || null;\n\n\t\tvar layers = this._createLayerConfig();\n\t\tif(!this.$config.layers){\n\t\t\tthis.$config.layers = layers.tasks;\n\t\t}\n\t\tif(!this.$config.linkLayers){\n\t\t\tthis.$config.linkLayers = layers.links;\n\t\t}\n\n\t\tthis._attachLayers(this.$gantt);\n\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t},\n\n\tsetSize: function(width, height){\n\t\tvar config = this.$getConfig();\n\n\t\tif(width*1 === width){\n\t\t\tthis.$config.width = width;\n\t\t}\n\t\tif(height*1 === height){\n\n\t\t\tthis.$config.height = height;\n\t\t\tvar dataHeight = Math.max(this.$config.height - config.scale_height);\n\t\t\tthis.$task_data.style.height = dataHeight + 'px';\n\t\t}\n\n\t\tthis.refresh();\n\t\tthis.$task_bg.style.backgroundImage = \"\";\n\n\t\tif(config.smart_rendering && this.$config.rowStore){\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tthis.$task_bg.style.height = config.row_height * store.countVisible() +\"px\";\n\t\t}else{\n\t\t\tthis.$task_bg.style.height = \"\";\n\t\t}\n\n\t\tvar scale = this._tasks;\n\t\t//timeline area layers\n\t\tvar data_els = this.$task_data.childNodes;\n\t\tfor(var i= 0, len = data_els.length; i < len; i++){\n\t\t\tvar el = data_els[i];\n\t\t\tif(el.hasAttribute(\"data-layer\") && el.style)\n\t\t\t\tel.style.width = scale.full_width + \"px\";\n\t\t}\n\t},\n\n\tisVisible: function(){\n\t\tif(this.$parent && this.$parent.$config){\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t}else{\n\t\t\treturn this.$task.offsetWidth;\n\t\t}\n\t},\n\n\tgetSize: function(){\n\t\tvar config = this.$getConfig();\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? config.row_height * store.countVisible() : 0,\n\t\t\tcontentWidth = this.isVisible() ? this._tasks.full_width : 0;\n\n\t\treturn {\n\t\t\tx: this.isVisible() ? this.$config.width : 0,\n\t\t\ty: this.isVisible() ? this.$config.height : 0,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\t},\n\n\tscrollTo: function(left, top){\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tvar scrolled = false;\n\n\t\tthis.$config.scrollTop = this.$config.scrollTop || 0;\n\t\tthis.$config.scrollLeft = this.$config.scrollLeft || 0;\n\t\tif(top*1 === top){\n\t\t\tthis.$config.scrollTop = top;\n\t\t\tthis.$task_data.scrollTop = this.$config.scrollTop;\n\t\t\tscrolled = true;\n\t\t}\n\t\tif (left*1 === left){\n\t\t\tthis.$task.scrollLeft = left;\n\t\t\tthis.$config.scrollLeft = this.$task.scrollLeft;\n\t\t\tthis._refreshScales();\n\t\t\tscrolled = true;\n\t\t}\n\n\t\tif(scrolled){\n\t\t\tthis.callEvent(\"onScroll\", [this.$config.scrollLeft, this.$config.scrollTop]);\n\t\t}\n\t},\n\n\t_refreshScales: function _refreshScales() {\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tvar config = this.$getConfig();\n\t\tif (!config.smart_scales) return;\n\n\t\tvar viewPort = this.getViewPort();\n\n\t\tvar scales = this._scales;\n\t\tthis.$task_scale.innerHTML = this._getScaleChunkHtml(scales, viewPort.x, viewPort.x_end);\n\t},\n\n\tgetViewPort: function(){\n\t\tvar scrollLeft = this.$config.scrollLeft || 0;\n\t\tvar scrollTop = this.$config.scrollTop || 0;\n\t\tvar height = this.$config.height || 0;\n\t\tvar width = this.$config.width || 0;\n\t\treturn {\n\t\t\ty: scrollTop,\n\t\t\ty_end: scrollTop + height,\n\t\t\tx: scrollLeft,\n\t\t\tx_end: scrollLeft + width,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\t_createLayerConfig: function(){\n\t\tvar self = this;\n\t\tvar taskFilter = function(){\n\t\t\treturn self.isVisible();\n\t\t};\n\n\t\tvar taskLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBar(),\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tfilter: [taskFilter]\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskSplitBar(),\n\t\t\t\tfilter: [taskFilter],\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tappend: true\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg(),\n\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\tfilter: [\n\t\t\t\t\t//function(){\n\t\t\t\t\t//\treturn !self.$getConfig().static_background;\n\t\t\t\t\t//},\n\t\t\t\t\ttaskFilter\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\n\t\tvar linkLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.link(),\n\t\t\t\tcontainer: this.$task_links,\n\t\t\t\tfilter: [taskFilter]\n\t\t\t}\n\t\t];\n\n\t\treturn {\n\t\t\ttasks: taskLayers,\n\t\t\tlinks: linkLayers\n\t\t};\n\n\t},\n\n\t_attachLayers: function(gantt){\n\t\tthis._taskLayers = [];\n\t\tthis._linkLayers = [];\n\n\t\tvar self = this;\n\t\tvar getViewPort = function(){\n\t\t\treturn self.getViewPort();\n\t\t};\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\n\t\tfunction subscribeSmartRender(layer){\n\t\t\tself.attachEvent(\"onScroll\", function(){\n\t\t\t\tif(layer.requestUpdate){\n\t\t\t\t\tlayer.requestUpdate();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.$config.bind){\n\n\t\t\tthis._bindStore();\n\t\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\t\tif(!taskRenderer){\n\t\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bind,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttaskRenderer.container = function(){ return self.$task_data;};\n\n\t\t\tvar taskLayers = this.$config.layers;\n\t\t\tfor(var i = 0; taskLayers && i < taskLayers.length; i++){\n\t\t\t\tvar layer = taskLayers[i];\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer]();\n\t\t\t\t}\n\n\t\t\t\tif(typeof layer == \"function\" || (layer && layer.render && layer.update)){\n\t\t\t\t\tlayer = {renderer: layer};\n\t\t\t\t}\n\n\t\t\t\tlayer.host = this;\n\t\t\t\tif(!layer.viewPort){\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tlayer.getViewPort = function(){\n\t\t\t\t\t\tif(!self.getViewPort){\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn self.getViewPort();\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tlayer.getViewPort = getViewPort;\n\t\t\t\tsubscribeSmartRender(layer);\n\t\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(bar_layer);\n\t\t\t\tif(layer.expose){\n\t\t\t\t\tthis._taskRenderer = taskRenderer.getLayer(bar_layer);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._initStaticBackgroundRender();\n\t\t}\n\n\t\tif(this.$config.bindLinks){\n\t\t\tself.$config.linkStore = self.$gantt.getDatastore(self.$config.bindLinks);\n\n\t\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\t\tif(!linkRenderer){\n\t\t\t\tlinkRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bindLinks,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar linkLayers = this.$config.linkLayers;\n\t\t\tfor(var i = 0; linkLayers && i < linkLayers.length; i++){\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer]();\n\t\t\t\t}\n\n\t\t\t\tvar layer = linkLayers[i];\n\t\t\t\tlayer.host = this;\n\t\t\t\tlayer.getViewPort = getViewPort;\n\t\t\t\tsubscribeSmartRender(layer);\n\t\t\t\tvar linkLayer = linkRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(linkLayer);\n\t\t\t\tif(linkLayers[i].expose){\n\t\t\t\t\tthis._linkRenderer = linkRenderer.getLayer(linkLayer);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_initStaticBackgroundRender: function(){\n\t\tvar self = this;\n\t\tvar staticRender = canvasRender.create();\n\t\tvar store = self.$config.rowStore;\n\t\tif(!store) return;\n\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", function(id, item, mode){\n\t\t\tif(id !== null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!self.isVisible())\n\t\t\t\treturn;\n\t\t\tvar config = self.$getConfig();\n\t\t\tif(config.static_background) {\n\t\t\t\tvar store = self.$gantt.getDatastore(self.$config.bind);\n\t\t\t\tvar staticBgContainer = self.$task_bg_static;\n\t\t\t\tif(!staticBgContainer){\n\t\t\t\t\tstaticBgContainer = document.createElement(\"div\");\n\t\t\t\t\tstaticBgContainer.className = \"gantt_task_bg\";\n\t\t\t\t\tself.$task_bg_static = staticBgContainer;\n\t\t\t\t\tif(self.$task_bg.nextSibling){\n\t\t\t\t\t\tself.$task_data.insertBefore(staticBgContainer, self.$task_bg.nextSibling);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.$task_data.appendChild(staticBgContainer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (store) {\n\t\t\t\t\tstaticRender.render(staticBgContainer, config, self.getScale(), config.row_height * store.countVisible());\n\t\t\t\t}\n\t\t\t}else if(config.static_background){\n\t\t\t\tif(self.$task_bg_static && self.$task_bg_static.parentNode){\n\t\t\t\t\tself.$task_bg_static.parentNode.removeChild(self.$task_bg_static);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.attachEvent(\"onDestroy\", function () {\n\t\t\tstaticRender.destroy();\n\t\t});\n\t\tthis._initStaticBackgroundRender = function(){};//init once\n\t},\n\n\t_clearLayers: function(gantt){\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor(var i = 0; i < this._taskLayers.length; i++){\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\t\tif (this._linkLayers) {\n\t\t\tfor(var i = 0; i < this._linkLayers.length; i++){\n\t\t\t\tlinkRenderer.removeLayer(this._linkLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._linkLayers = [];\n\t\tthis._taskLayers = [];\n\t},\n\n\t_render_tasks_scales: function _render_tasks_scales() {\n\t\tvar config = this.$getConfig();\n\n\t\tvar scales_html = \"\",\n\t\t\touter_width = 0,\n\t\t\tscale_height = 0;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (this.isVisible()) {\n\t\t\tvar helpers = this.$scaleHelper;\n\t\t\tvar scales = this._getScales();\n\t\t\tscale_height = config.scale_height;\n\n\t\t\tvar availWidth = this.$config.width;\n\t\t\tif(config.autosize == \"x\" || config.autosize == \"xy\"){\n\t\t\t\tavailWidth = Math.max(config.autosize_min_width, 0);\n\t\t\t}\n\n\t\t\tvar cfgs = helpers.prepareConfigs(scales, config.min_column_width, availWidth, scale_height - 1, state.min_date, state.max_date, config.rtl);\n\t\t\tvar cfg = this._tasks = cfgs[cfgs.length - 1];\n\t\t\tthis._scales = cfgs;\n\t\t\tthis._posFromDateCache = {};\n\n\t\t\tscales_html = this._getScaleChunkHtml(cfgs, 0, this.$config.width);\n\n\t\t\touter_width = cfg.full_width + \"px\";//cfg.full_width + (this._scroll_sizes().y ? scrollSizes.scroll_size : 0) + \"px\";\n\t\t\tscale_height += \"px\";\n\t\t}\n\n\t\tthis.$task_scale.style.height = scale_height;\n\n\t\tthis.$task_data.style.width =\n\t\t\tthis.$task_scale.style.width = outer_width;\n\n\t\tthis.$task_scale.innerHTML = scales_html;\n\n\t},\n\n\t_getScaleChunkHtml: function _get_scale_chunk_html (scales, fromPos, toPos) {\n\t\tvar templates = this.$gantt.$services.templates();\n\t\tvar html = [];\n\n\t\tvar css = templates.scale_row_class;\n\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\tvar cssClass = \"gantt_scale_line\";\n\t\t\tvar tplClass = css(scales[i]);\n\t\t\tif (tplClass) {\n\t\t\t\tcssClass += \" \" + tplClass;\n\t\t\t}\n\n\t\t\thtml.push(\"<div class=\\\"\" + cssClass + \"\\\" style=\\\"height:\" + (scales[i].height) +\n\t\t\t\t\"px;position:relative;line-height:\" + (scales[i].height) + \"px\\\">\" + this._prepareScaleHtml(scales[i], fromPos, toPos) + \"</div>\");\n\t\t}\n\n\t\treturn html.join(\"\");\n\t},\n\t_prepareScaleHtml: function _prepare_scale_html(config, fromPos, toPos) {\n\t\tvar globalConfig = this.$getConfig();\n\t\tvar globalTemplates = this.$gantt.$services.templates();\n\n\t\tvar cells = [];\n\t\tvar date = null, css = null;\n\n\t\tvar content = config.format || config.template || config.date;\n\n\t\tif(typeof content === \"string\"){\n\t\t\tcontent = this.$gantt.date.date_to_str(content);\n\t\t}\n\n\t\tvar startIndex = 0,\n\t\t\tendIndex = config.count;\n\n\t\tif (globalConfig.smart_scales && (!isNaN(fromPos) && !isNaN(toPos))) {\n\t\t\tstartIndex = _findBinary(config.left, fromPos);\n\t\t\tendIndex = _findBinary(config.left, toPos) + 1;\n\t\t}\n\n\t\tcss = config.css || function () {\n\t\t\t};\n\t\tif (!config.css && globalConfig.inherit_scale_class) {\n\t\t\tcss = globalTemplates.scale_cell_class;\n\t\t}\n\n\t\tfor (var i = startIndex; i < endIndex; i++) {\n\t\t\tif (!config.trace_x[i]) break;\n\n\t\t\tdate = new Date(config.trace_x[i]);\n\t\t\tvar value = content.call(this, date),\n\t\t\t\twidth = config.width[i],\n\t\t\t\theight = config.height,\n\t\t\t\tleft = config.left[i],\n\t\t\t\tstyle = \"\",\n\t\t\t\ttemplate = \"\",\n\t\t\t\tcssclass = \"\";\n\n\t\t\tif (width) {\n\t\t\t\tvar position = globalConfig.smart_scales ? (\"position:absolute;left:\" + left + \"px\") : \"\";\n\n\t\t\t\tstyle = \"width:\" + (width) + \"px;height:\" + height + \"px;\" + position;\n\t\t\t\tcssclass = \"gantt_scale_cell\" + (i == config.count - 1 ? \" gantt_last_cell\" : \"\");\n\n\t\t\t\ttemplate = css.call(this, date);\n\t\t\t\tif (template) cssclass += \" \" + template;\n\n\t\t\t\tvar ariaAttr = this.$gantt._waiAria.getTimelineCellAttr(value);\n\t\t\t\tvar cell = \"<div class='\" + cssclass + \"'\" + ariaAttr + \" style='\" + style + \"'>\" + value + \"</div>\";\n\t\t\t\tcells.push(cell);\n\t\t\t} else {\n\t\t\t\t//do not render ignored cells\n\t\t\t}\n\n\t\t}\n\t\treturn cells.join(\"\");\n\t},\n\tdateFromPos: function dateFromPos(x) {\n\t\tvar scale = this._tasks;\n\t\tif (x < 0 || x > scale.full_width || !scale.full_width) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar ind = _findBinary(this._tasks.left, x);\n\t\tvar summ = this._tasks.left[ind];\n\n\t\tvar col_width = scale.width[ind] || scale.col_width;\n\t\tvar part = 0;\n\t\tif (col_width) {\n\t\t\tpart = (x - summ) / col_width;\n\t\t\tif(scale.rtl){\n\t\t\t\tpart = 1 - part;\n\t\t\t}\n\n\t\t}\n\n\t\tvar unit = 0;\n\t\tif (part) {\n\t\t\tunit = this._getColumnDuration(scale, scale.trace_x[ind]);\n\t\t}\n\n\t\tvar date = new Date(scale.trace_x[ind].valueOf() + Math.round(part * unit));\n\t\treturn date;\n\t},\n\tposFromDate: function posFromDate(date) {\n\t\tif (!this.isVisible())\n\t\t\treturn 0;\n\n\t\tif(!date){\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar dateValue = String(date.valueOf());\n\n\t\tif(this._posFromDateCache[dateValue] !== undefined){\n\t\t\treturn this._posFromDateCache[dateValue];\n\t\t}\n\t\tvar ind = this.columnIndexByDate(date);\n\t\tthis.$gantt.assert(ind >= 0, \"Invalid day index\");\n\n\t\tvar wholeCells = Math.floor(ind);\n\t\tvar partCell = ind % 1;\n\n\t\tvar pos = this._tasks.left[Math.min(wholeCells, this._tasks.width.length - 1)];\n\t\tif (wholeCells == this._tasks.width.length)\n\t\t\tpos += this._tasks.width[this._tasks.width.length - 1];\n\t\t//for(var i=1; i <= wholeCells; i++)\n\t\t//\tpos += gantt._tasks.width[i-1];\n\n\t\tif (partCell) {\n\t\t\tif (wholeCells < this._tasks.width.length) {\n\t\t\t\tpos += this._tasks.width[wholeCells] * (partCell % 1);\n\t\t\t} else {\n\t\t\t\tpos += 1;\n\t\t\t}\n\n\t\t}\n\n\t\tvar roundPos = Math.round(pos);\n\t\tthis._posFromDateCache[dateValue] = roundPos;\n\t\treturn Math.round(roundPos);\n\t},\n\n\t_getNextVisibleColumn: function (startIndex, columns, ignores) {\n\t\t// iterate columns to the right\n\t\tvar date = +columns[startIndex];\n\t\tvar visibleDateIndex = startIndex;\n\t\twhile (ignores[date]) {\n\t\t\tvisibleDateIndex++;\n\t\t\tdate = +columns[visibleDateIndex];\n\t\t}\n\n\t\treturn visibleDateIndex;\n\t},\n\t_getPrevVisibleColumn: function (startIndex, columns, ignores) {\n\t\t// iterate columns to the left\n\t\tvar date = +columns[startIndex];\n\t\tvar visibleDateIndex = startIndex;\n\t\twhile (ignores[date]) {\n\t\t\tvisibleDateIndex--;\n\t\t\tdate = +columns[visibleDateIndex];\n\t\t}\n\t\treturn visibleDateIndex;\n\t},\n\t_getClosestVisibleColumn: function (startIndex, columns, ignores) {\n\t\tvar visibleDateIndex = this._getNextVisibleColumn(startIndex, columns, ignores);\n\t\tif (!columns[visibleDateIndex]) {\n\t\t\tvisibleDateIndex =  this._getPrevVisibleColumn(startIndex, columns, ignores);\n\t\t}\n\t\treturn visibleDateIndex;\n\t},\n\tcolumnIndexByDate: function columnIndexByDate(date) {\n\t\tvar pos = new Date(date).valueOf();\n\t\tvar days = this._tasks.trace_x_ascending,\n\t\t\tignores = this._tasks.ignore_x;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (pos <= state.min_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn days.length;\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif (pos >= state.max_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn days.length;\n\t\t\t}\n\t\t}\n\n\t\tvar dateIndex = _findBinary(days, pos);\n\n\t\tvar visibleIndex = this._getClosestVisibleColumn(dateIndex, days, ignores);\n\t\tvar visibleDate = days[visibleIndex];\n\t\tvar transition = this._tasks.trace_index_transition;\n\n\t\tif(!visibleDate){\n\t\t\tif(transition){\n\t\t\t\treturn transition[0];\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tvar part = ((date - days[visibleIndex]) / this._getColumnDuration(this._tasks, days[visibleIndex]));\n\t\tif(transition){\n\t\t\treturn transition[visibleIndex] + (1 - part);\n\t\t}else{\n\t\t\treturn visibleIndex + part;\n\t\t}\n\t},\n\tgetItemPosition:function (task, start_date, end_date) {\n\t\tvar xLeft, xRight, width;\n\t\tif(this._tasks.rtl){\n\t\t\txRight = this.posFromDate(start_date || task.start_date);\n\t\t\txLeft = this.posFromDate(end_date || task.end_date);\n\t\t}else{\n\t\t\txLeft = this.posFromDate(start_date || task.start_date);\n\t\t\txRight = this.posFromDate(end_date || task.end_date);\n\t\t}\n\t\twidth =  Math.max((xRight - xLeft), 0);\n\n\t\tvar y = this.getItemTop(task.id);\n\t\tvar height = this.getItemHeight();\n\t\treturn {\n\t\t\tleft: xLeft,\n\t\t\ttop: y,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\tgetItemHeight: function(){\n\t\tvar config = this.$getConfig();\n\n\t\t// height of the bar item\n\t\tvar height = config.task_height;\n\n\t\tif (height == \"full\") {\n\t\t\tvar offset = config.task_height_offset || 5;\n\t\t\theight = config.row_height - offset;\n\t\t}\n\t\t//item height cannot be bigger than row height\n\t\theight = Math.min(height, config.row_height);\n\t\treturn Math.max(height, 0);\n\t},\n\n\tgetScale: function(){\n\t\treturn this._tasks;\n\t},\n\n\t_getScales: function _get_scales() {\n\t\tvar config = this.$getConfig();\n\t\tvar helpers = this.$scaleHelper;\n\t\tvar scales = [helpers.primaryScale(config)].concat(helpers.getSubScales(config));\n\n\t\thelpers.sortScales(scales);\n\t\treturn scales;\n\t},\n\n\t_getColumnDuration: function _get_coll_duration(scale, date) {\n\t\treturn this.$gantt.date.add(date, scale.step, scale.unit) - date;\n\t},\n\t_bindStore: function () {\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tthis.$config.rowStore = rowStore;\n\t\t\tif(rowStore && !rowStore._timelineCacheAttached){\n\t\t\t\tvar self = this;\n\t\t\t\trowStore._timelineCacheAttached = true;\n\t\t\t\trowStore.attachEvent(\"onBeforeFilter\", function(){\n\t\t\t\t\tself._resetTopPositionHeight();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\trefresh: function(){\n\t\tthis._bindStore();\n\n\t\tif(this.$config.bindLinks) {\n\t\t\tthis.$config.linkStore = this.$gantt.getDatastore(this.$config.bindLinks);\n\t\t}\n\n\t\tthis._resetTopPositionHeight();\n\t\tthis._initStaticBackgroundRender();\n\t\tthis._render_tasks_scales();\n\t},\n\n\tdestructor: function(){\n\t\tvar gantt = this.$gantt;\n\t\tthis._clearLayers(gantt);\n\n\t\tthis.$task = null;\n\t\tthis.$task_scale = null;\n\t\tthis.$task_data = null;\n\t\tthis.$task_bg = null;\n\t\tthis.$task_links = null;\n\t\tthis.$task_bars = null;\n\n\t\tthis.$gantt = null;\n\n\t\tif(this.$config.rowStore){\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\t\tif(this.$config.linkStore){\n\t\t\tthis.$config.linkStore = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t}\n};\n\nmodule.exports = Timeline;\n\nfunction _findBinary(array, target) {\n\t// modified binary search, target value not exactly match array elements, looking for closest one\n\n\tvar low = 0, high = array.length - 1, i, item, prev;\n\twhile (low <= high) {\n\n\t\ti = Math.floor((low + high) / 2);\n\t\titem = +array[i];\n\t\tprev = +array[i - 1];\n\t\tif (item < target) {\n\t\t\tlow = i + 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (item > target) {\n\t\t\tif (!(!isNaN(prev) && prev < target)) {\n\t\t\t\thigh = i - 1;\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\t// if target is between 'i' and 'i-1' return 'i - 1'\n\t\t\t\treturn i - 1;\n\t\t\t}\n\n\t\t}\n\t\twhile (+array[i] == +array[i + 1]) i++;\n\n\t\treturn i;\n\t}\n\treturn array.length - 1;\n}\n\n","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tCell = require(\"./cell\");\n\nvar Layout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(Layout, _super);\n\tfunction Layout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(parent)\n\t\t\t_this.$root = true;\n\n\t\t_this._parseConfig(config);\n\t\t_this.$name = \"layout\";\n\t\treturn _this;\n\t}\n\n\tLayout.prototype.destructor = function () {\n\t\tif (this.$container && this.$view) {\n\t\t\tdomHelpers.removeNode(this.$view);\n\t\t}\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tchild.destructor();\n\t\t}\n\t\tthis.$cells = [];\n\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tLayout.prototype._resizeScrollbars = function(autosize, scrollbars){\n\t\tvar scrollChanged = false;\n\t\tvar visibleScrollbars = [],\n\t\t\thiddenSrollbars = [];\n\n\t\tfunction showScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.show();\n\t\t\tscrollChanged = true;\n\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t}\n\t\tfunction hideScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.hide();\n\t\t\tscrollChanged = true;\n\t\t\thiddenSrollbars.push(scrollbar);\n\t\t}\n\n\t\tvar scrollbar;\n\t\tfor(var i = 0; i < scrollbars.length; i++){\n\t\t\tscrollbar = scrollbars[i];\n\n\t\t\tif(autosize[scrollbar.$config.scroll]) {\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldHide()){\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldShow()){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t}else{\n\t\t\t\tif(scrollbar.isVisible()){\n\t\t\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t\t\t}else{\n\t\t\t\t\thiddenSrollbars.push(scrollbar);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar visibleGroups = {};\n\t\tfor(var i = 0; i < visibleScrollbars.length; i++){\n\t\t\tif(visibleScrollbars[i].$config.group){\n\t\t\t\tvisibleGroups[visibleScrollbars[i].$config.group] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor(var i = 0; i < hiddenSrollbars.length; i++){\n\t\t\tscrollbar = hiddenSrollbars[i];\n\n\t\t\tif(scrollbar.$config.group && visibleGroups[scrollbar.$config.group]){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t}\n\t\t}\n\n\t\treturn scrollChanged;\n\t};\n\n\tLayout.prototype._syncCellSizes = function(groupName, newSize){\n\t\tif(!groupName)\n\t\t\treturn;\n\n\t\tvar groups = {};\n\n\t\tthis._eachChild(function(cell){\n\t\t\tif(cell.$config.group && cell.$name != \"scrollbar\" && cell.$name != \"resizer\"){\n\t\t\t\tif(!groups[cell.$config.group]){\n\t\t\t\t\tgroups[cell.$config.group] = [];\n\t\t\t\t}\n\t\t\t\tgroups[cell.$config.group].push(cell);\n\t\t\t}\n\t\t});\n\n\t\tif(groups[groupName]){\n\t\t\tthis._syncGroupSize(groups[groupName], newSize);\n\t\t}\n\t\treturn groups[groupName];\n\t};\n\n\tLayout.prototype._syncGroupSize = function(cells, newSize){\n\t\tif(!cells.length) return;\n\n\t\tvar property = cells[0].$parent._xLayout ? \"width\" : \"height\";\n\t\tvar direction = cells[0].$parent.getNextSibling(cells[0].$id) ? 1 : -1;\n\n\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\tvar ownSize = cells[i].getSize();\n\n\t\t\tvar resizeSibling = direction > 0 ? cells[i].$parent.getNextSibling(cells[i].$id) : cells[i].$parent.getPrevSibling(cells[i].$id);\n\t\t\tif(resizeSibling.$name == \"resizer\"){\n\t\t\t\tresizeSibling = direction > 0 ? resizeSibling.$parent.getNextSibling(resizeSibling.$id) : resizeSibling.$parent.getPrevSibling(resizeSibling.$id);\n\t\t\t}\n\t\t\tvar siblingSize = resizeSibling.getSize();\n\n\t\t\tif(resizeSibling[property]){\n\t\t\t\tvar totalGravity = ownSize.gravity + siblingSize.gravity;\n\t\t\t\tvar totalSize = ownSize[property] + siblingSize[property];\n\t\t\t\tvar k = totalGravity / totalSize;\n\t\t\t\tcells[i].$config.gravity = k * newSize;\n\n\t\t\t\tresizeSibling.$config[property] = totalSize - newSize;\n\t\t\t\tresizeSibling.$config.gravity = totalGravity - k * newSize;\n\t\t\t}else{\n\n\n\t\t\t\tcells[i].$config[property] = newSize;\n\t\t\t}\n\n\t\t\tvar mainGrid = this.$gantt.$ui.getView(\"grid\");\n\t\t\tif(mainGrid && cells[i].$content === mainGrid && !mainGrid.$config.scrollable){\n\t\t\t\tthis.$gantt.config.grid_width = newSize;\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.resize = function(startStage){\n\t\tvar mainCall = false;\n\t\tif(this.$root && !this._resizeInProgress){\n\t\t\tthis.callEvent(\"onBeforeResize\", []);\n\t\t\tmainCall = true;\n\t\t\tthis._resizeInProgress = true;\n\t\t}\n\n\t\t_super.prototype.resize.call(this, true);\n\t\t_super.prototype.resize.call(this, false);\n\n\t\tif(mainCall){\n\n\t\t\tvar contentViews = [];\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewCell\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewLayout\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"hostCell\"));\n\n\t\t\tvar scrollbars = this.getCellsByType(\"scroller\");\n\n\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t}\n\n\t\t\tvar autosize = this._getAutosizeMode(this.$config.autosize);\n\n\t\t\tvar scrollChanged = this._resizeScrollbars(autosize, scrollbars);\n\n\t\t\tif(this.$config.autosize){\n\t\t\t\tthis.autosize(this.$config.autosize);\n\t\t\t\tscrollChanged = true;\n\t\t\t}\n\n\t\t\tif(scrollChanged){\n\t\t\t\tthis.resize();\n\t\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onResize\", []);\n\t\t}\n\t\tif(mainCall){\n\t\t\tthis._resizeInProgress = false;\n\t\t}\n\t};\n\n\tLayout.prototype._eachChild = function(code, cell){\n\t\tcell = cell || this;\n\t\tcode(cell);\n\t\tif(cell.$cells){\n\t\t\tfor(var i = 0; i < cell.$cells.length; i++){\n\t\t\t\tthis._eachChild(code, cell.$cells[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.isChild = function(view){\n\t\tvar res = false;\n\t\tthis._eachChild(function(child){\n\t\t\tif(child === view || child.$content === view){\n\t\t\t\tres = true;\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getCellsByType = function(type){\n\t\tvar res = [];\n\t\tif(type === this.$name){\n\t\t\tres.push(this);\n\t\t}\n\n\t\tif(this.$content && this.$content.$name == type){\n\t\t\tres.push(this.$content);\n\t\t}\n\n\t\tif(this.$cells){\n\t\t\tfor(var i = 0; i < this.$cells.length; i++){\n\t\t\t\tvar children = Layout.prototype.getCellsByType.call(this.$cells[i], type);\n\t\t\t\tif(children.length){\n\t\t\t\t\tres.push.apply(res, children);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getNextSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index + 1]){\n\t\t\treturn this.$cells[index + 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tLayout.prototype.getPrevSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index - 1]){\n\t\t\treturn this.$cells[index - 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\n\tLayout.prototype.cell = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tif (child.$id === id) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t\tvar sub = child.cell(id);\n\t\t\tif (sub) {\n\t\t\t\treturn sub;\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.cellIndex = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tif (this.$cells[i].$id === id) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\tLayout.prototype.moveView = function (view, ind) {\n\t\tif (this.$cells[ind] !== view) {\n\t\t\treturn window.alert(\"Not implemented\");\n\t\t}\n\t\telse {\n\t\t\tind += this.$config.header ? 1 : 0;\n\t\t\tvar node = this.$view;\n\t\t\tif (ind >= node.childNodes.length) {\n\t\t\t\tnode.appendChild(view.$view);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnode.insertBefore(view.$view, node.childNodes[ind]);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype._parseConfig = function (config) {\n\t\tthis.$cells = [];\n\t\tthis._xLayout = !config.rows;\n\t\tvar cells = config.rows || config.cols || config.views;\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tvar cell = cells[i];\n\t\t\tcell.mode = this._xLayout ? \"x\" : \"y\";\n\t\t\tvar $content = this.$factory.initUI(cell, this);\n\t\t\tif(!$content){\n\t\t\t\tcells.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}else{\n\t\t\t\t$content.$parent = this;\n\t\t\t\tthis.$cells.push($content);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.getCells = function () {\n\t\treturn this.$cells;\n\t};\n\tLayout.prototype.render = function () {\n\t\tvar view = domHelpers.insertNode(this.$container, this.$toHTML());\n\t\tthis.$fill(view, null);\n\t\tthis.callEvent(\"onReady\", []);\n\t\tthis.resize();\n\n\t\t// do simple repaint after the first call\n\t\tthis.render = this.resize;\n\t};\n\tLayout.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tvar cells = domHelpers.getChildNodes(node, \"gantt_layout_cell\");\n\t\tfor (var i = cells.length - 1; i >= 0; i--) {\n\t\t\tvar sub = this.$cells[i];\n\t\t\tsub.$fill(cells[i], this);\n\t\t\t// initially hidden cell\n\t\t\tif (sub.$config.hidden) {\n\t\t\t\tsub.$view.parentNode.removeChild(sub.$view);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.$toHTML = function () {\n\t\tvar mode = this._xLayout ? \"x\" : \"y\";\n\t\tvar html = [];\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\thtml.push(this.$cells[i].$toHTML());\n\t\t}\n\t\treturn _super.prototype.$toHTML.call(this, html.join(\"\"), (this.$root ? \"gantt_layout_root \" : \"\") + \"gantt_layout gantt_layout_\" + mode);\n\t};\n\n\tLayout.prototype.getContentSize = function(mode){\n\t\tvar contentWidth = 0,\n\t\t\tcontentHeight = 0;\n\n\t\tvar cellSize, cell, borders;\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\t\t\tif(cell.$config.hidden)\n\t\t\t\tcontinue;\n\n\t\t\tcellSize = cell.getContentSize(mode);\n\n\t\t\tif(cell.$config.view === \"scrollbar\" && mode[cell.$config.scroll]){\n\t\t\t\tcellSize.height = 0;\n\t\t\t\tcellSize.width = 0;\n\t\t\t}\n\n\t\t\tif(cell.$config.resizer){\n\t\t\t\tif(this._xLayout){\n\t\t\t\t\tcellSize.height = 0;\n\t\t\t\t}else{\n\t\t\t\t\tcellSize.width = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tborders = cell._getBorderSizes();\n\n\t\t\tif(this._xLayout){\n\t\t\t\tcontentWidth += (cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight = Math.max(contentHeight, (cellSize.height + borders.vertical));\n\t\t\t}else{\n\t\t\t\tcontentWidth = Math.max(contentWidth, cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight += cellSize.height + borders.vertical;\n\t\t\t}\n\t\t}\n\n\t\tborders = this._getBorderSizes();\n\t\tcontentWidth += borders.horizontal;\n\t\tcontentHeight += borders.vertical;\n\n\t\tif(this.$root){\n\t\t\tcontentWidth += 1;\n\t\t\tcontentHeight += 1;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: contentWidth,\n\t\t\theight: contentHeight\n\t\t};\n\t};\n\n\tLayout.prototype._cleanElSize = function(value){\n\t\treturn ((value || \"\").toString().replace(\"px\", \"\") * 1 || 0);\n\t};\n\tLayout.prototype._getBoxStyles = function(div){\n\t\tvar computed = null;\n\t\tif(window.getComputedStyle){\n\t\t\tcomputed = window.getComputedStyle(div, null);\n\t\t}else{\n\t\t\t//IE with elem.currentStyle does not calculate sizes from %, so will use the default approach\n\t\t\tcomputed = {\n\t\t\t\t\"width\":div.clientWidth,\n\t\t\t\t\"height\":div.clientHeight\n\t\t\t};\n\t\t}\n\t\tvar properties = [\n\t\t\t\"width\",\n\t\t\t\"height\",\n\n\t\t\t\"paddingTop\",\n\t\t\t\"paddingBottom\",\n\t\t\t\"paddingLeft\",\n\t\t\t\"paddingRight\",\n\n\t\t\t\"borderLeftWidth\",\n\t\t\t\"borderRightWidth\",\n\t\t\t\"borderTopWidth\",\n\t\t\t\"borderBottomWidth\"\n\t\t];\n\t\tvar styles = {\n\t\t\tboxSizing:(computed.boxSizing == \"border-box\")\n\t\t};\n\n\t\tif(computed.MozBoxSizing){\n\t\t\tstyles.boxSizing = (computed.MozBoxSizing == \"border-box\");\n\t\t}\n\t\tfor(var i =0; i < properties.length; i++){\n\t\t\tstyles[properties[i]] = computed[properties[i]] ? this._cleanElSize(computed[properties[i]]) : 0;\n\t\t}\n\n\n\t\tvar box = {\n\t\t\thorPaddings : (styles.paddingLeft + styles.paddingRight + styles.borderLeftWidth + styles.borderRightWidth),\n\t\t\tvertPaddings : (styles.paddingTop + styles.paddingBottom + styles.borderTopWidth + styles.borderBottomWidth),\n\t\t\tborderBox: styles.boxSizing,\n\t\t\tinnerWidth : styles.width,\n\t\t\tinnerHeight : styles.height,\n\t\t\touterWidth : styles.width,\n\t\t\touterHeight : styles.height\n\t\t};\n\n\n\t\tif(box.borderBox){\n\t\t\tbox.innerWidth -= box.horPaddings;\n\t\t\tbox.innerHeight -= box.vertPaddings;\n\t\t}else{\n\t\t\tbox.outerWidth += box.horPaddings;\n\t\t\tbox.outerHeight += box.vertPaddings;\n\t\t}\n\n\t\treturn box;\n\t};\n\n\tLayout.prototype._getAutosizeMode = function(config){\n\t\tvar res = {x:false, y:false};\n\t\tif(config === \"xy\"){\n\t\t\tres.x = res.y = true;\n\t\t}else if(config === \"y\" || config === true){\n\t\t\tres.y = true;\n\t\t}else if(config === \"x\"){\n\t\t\tres.x = true;\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.autosize = function(mode) {\n\t\tvar res = this._getAutosizeMode(mode);\n\t\tvar boxSizes = this._getBoxStyles(this.$container);\n\t\tvar contentSizes = this.getContentSize(mode);\n\n\t\tvar node = this.$container;\n\t\tif(res.x){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.width += boxSizes.horPaddings;\n\t\t\t}\n\t\t\tnode.style.width = contentSizes.width + \"px\";\n\t\t}\n\t\tif(res.y){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.height += boxSizes.vertPaddings;\n\t\t\t}\n\t\t\tnode.style.height = contentSizes.height + \"px\";\n\t\t}\n\t};\n\n\tLayout.prototype.getSize = function () {\n\t\tthis._sizes = [];\n\t\tvar width = 0;\n\t\tvar minWidth = 0;\n\t\tvar maxWidth = 100000;\n\t\tvar height = 0;\n\t\tvar maxHeight = 100000;\n\t\tvar minHeight = 0;\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\n\t\t\tvar size = this._sizes[i] = this.$cells[i].getSize();\n\t\t\tif (this.$cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width && size.minWidth) {\n\t\t\t\t\twidth += size.minWidth;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\twidth += size.width;\n\t\t\t\t}\n\t\t\t\tmaxWidth += size.maxWidth;\n\t\t\t\tminWidth += size.minWidth;\n\t\t\t\theight = Math.max(height, size.height);\n\t\t\t\tmaxHeight = Math.min(maxHeight, size.maxHeight); // min of maxHeight\n\t\t\t\tminHeight = Math.max(minHeight, size.minHeight); // max of minHeight\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height && size.minHeight) {\n\t\t\t\t\theight += size.minHeight;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\theight += size.height;\n\t\t\t\t}\n\t\t\t\tmaxHeight += size.maxHeight;\n\t\t\t\tminHeight += size.minHeight;\n\t\t\t\twidth = Math.max(width, size.width);\n\t\t\t\tmaxWidth = Math.min(maxWidth, size.maxWidth); // min of maxWidth\n\t\t\t\tminWidth = Math.max(minWidth, size.minWidth); // max of minWidth\n\t\t\t}\n\t\t}\n\t\tvar self = _super.prototype.getSize.call(this);\n\t\t// maxWidth\n\t\tif (self.maxWidth >= 100000) {\n\t\t\tself.maxWidth = maxWidth;\n\t\t}\n\t\t// maxHeight\n\t\tif (self.maxHeight >= 100000) {\n\t\t\tself.maxHeight = maxHeight;\n\t\t}\n\t\t// minWidth\n\t\tself.minWidth = self.minWidth !== self.minWidth ? 0 : self.minWidth;// || self.width || Math.max(minWidth, width);\n\t\t// minHeight\n\t\tself.minHeight = self.minHeight !== self.minHeight ? 0 : self.minHeight;//self.minHeight || self.height || Math.max(minHeight, height);\n\t\t// sizes with paddings and margins\n\t\tif (this._xLayout) {\n\t\t\tself.minWidth += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minWidth += this.$config.padding * 2 || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\telse {\n\t\t\tself.minHeight += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\t\n\t\treturn self;\n\t};\n\t// calc total gravity and free space\n\tLayout.prototype._calcFreeSpace = function (s, cell, xLayout) {\n\t\tvar min = xLayout ? cell.minWidth : cell.minHeight;\n\t\tvar max = xLayout ? cell.maxWidth : cell.maxWidth;\n\t\tvar side = s;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * cell.gravity);\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t}\n\t\t\tthis._free -= side;\n\t\t}\n\t\treturn side;\n\t};\n\tLayout.prototype._calcSize = function (s, size, xLayout) {\n\t\tvar side = s;\n\t\tvar min = xLayout ? size.minWidth : size.minHeight;\n\t\tvar max = xLayout ? size.maxWidth : size.maxHeight;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * size.gravity);\n\t\t}\n\t\tif (side > max) {\n\t\t\tside = max;\n\t\t}\n\t\tif (side < min) {\n\t\t\tside = min;\n\t\t}\n\t\treturn side;\n\t};\n\n\tLayout.prototype._configureBorders = function(){\n\t\tif(this.$root){\n\t\t\tthis._setBorders([\n\t\t\t\tthis._borders.left,\n\t\t\t\tthis._borders.top,\n\t\t\t\tthis._borders.right,\n\t\t\t\tthis._borders.bottom\n\t\t\t],\n\t\t\tthis);\n\t\t}\n\n\t\tvar borderClass = this._xLayout ? this._borders.right : this._borders.bottom;\n\n\t\tvar cells = this.$cells;\n\n\t\tvar lastVisibleIndex = cells.length - 1;\n\t\tfor(var i = lastVisibleIndex; i >= 0; i--){\n\t\t\tif (!cells[i].$config.hidden) {\n\t\t\t\tlastVisibleIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tif (cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar lastCell = i >= lastVisibleIndex;\n\t\t\tvar borderColorClass = \"\";\n\t\t\tif(!lastCell && cells[i + 1]){\n\t\t\t\tif(cells[i + 1].$config.view == \"scrollbar\"){\n\t\t\t\t\tif(this._xLayout){\n\t\t\t\t\t\tlastCell = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tborderColorClass = \"gantt_layout_cell_border_transparent\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tthis._setBorders(lastCell ? [] : [borderClass, borderColorClass], cells[i]);\n\t\t}\n\t};\n\n\tLayout.prototype._updateCellVisibility = function(){\n\t\tvar oldVisibleCells = this._visibleCells || {};\n\t\tvar firstCall = !this._visibleCells;\n\t\tvar visibleCells = {};\n\t\tvar cell;\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (!firstCall && cell.$config.hidden && oldVisibleCells[cell.$id]) {\n\t\t\t\tcell._hide(true);\n\t\t\t}else if(!cell.$config.hidden && !oldVisibleCells[cell.$id]){\n\t\t\t\tcell._hide(false);\n\t\t\t}\n\n\t\t\tif(!cell.$config.hidden){\n\t\t\t\tvisibleCells[cell.$id] = true;\n\t\t\t}\n\t\t}\n\t\tthis._visibleCells = visibleCells;\n\t};\n\n\tLayout.prototype.setSize = function (x, y) {\n\t\tthis._configureBorders();\n\t\t_super.prototype.setSize.call(this, x, y);\n\t\ty = this.$lastSize.contentY;\n\t\tx = this.$lastSize.contentX;\n\n\t\tvar padding = (this.$config.padding || 0);\n\t\tthis.$view.style.padding = padding + \"px\";\n\t\tthis._gravity = 0;\n\t\tthis._free = this._xLayout ? x : y;\n\t\tthis._free -= padding * 2;\n\t\t// calc all gravity\n\n\t\tvar cell,\n\t\t\tsize;\n\n\t\tthis._updateCellVisibility();\n\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar margin = (this.$config.margin || 0);\n\t\t\tif(cell.$name == \"resizer\" && !margin){\n\t\t\t\tmargin = -1;\n\t\t\t}\n\n\t\t\t// set margins to child cell\n\t\t\tvar cellView = cell.$view;\n\n\t\t\tvar marginSide = this._xLayout ? \"marginRight\" : \"marginBottom\";\n\t\t\tif (i !== this.$cells.length - 1) {\n\t\t\t\tcellView.style[marginSide] = margin + \"px\";\n\t\t\t\tthis._free -= margin; // calc free space without margin\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar width = size.width;\n\t\t\tvar height = size.height;\n\t\t\tif (this._xLayout) {\n\t\t\t\tthis._calcFreeSpace(width, size, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._calcFreeSpace(height, size, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar dx = void 0;\n\t\t\tvar dy = void 0;\n\t\t\tif (this._xLayout) {\n\t\t\t\tdx = this._calcSize(size.width, size, true);\n\t\t\t\tdy = y - padding * 2; // layout height without paddings\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdx = x - padding * 2; // layout width without paddings\n\t\t\t\tdy = this._calcSize(size.height, size, false);\n\t\t\t}\n\n\t\t\tcell.setSize(dx, dy);\n\t\t}\n\n\t};\n\n\treturn Layout;\n}(Cell));\n\nmodule.exports = Layout;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","function checkTimeout(host, updPerSecond){\n\tif (!updPerSecond)\n\t\treturn true;\n\t\n\tif (host._on_timeout)\n\t\treturn false;\n\t\n\tvar timeout = Math.ceil(1000/updPerSecond);\n\tif (timeout < 2) return true;\n\n\tsetTimeout(function(){\n\t\tdelete host._on_timeout;\n\t}, timeout);\n\n\thost._on_timeout = true;\n\treturn true;\n}\n\nmodule.exports = checkTimeout;","function extend(gantt){\n\n\tgantt.destructor = function(){\n\t\tgantt.callEvent(\"onDestroy\", []);\n\t\tthis.clearAll();\n\n\t\tif(this.$root){\n\t\t\tdelete this.$root.gantt;\n\t\t}\n\n\t\tthis._eventRemoveAll();\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t}\n\n\t\tthis.resetLightbox();\n\n\t\tif(this._dp && this._dp.destructor){\n\t\t\tthis._dp.destructor();\n\t\t}\n\t\tthis.$services.destructor();\n\n\t\t// detachAllEvents should be called last, because in components may be attached events\n\t\tthis.detachAllEvents();\n\n\t\tfor(var i in this){\n\t\t\tif(i.indexOf(\"$\") === 0){\n\t\t\t\tdelete this[i];\n\t\t\t}\n\t\t}\n\t\tgantt.$destroyed = true;\n\t};\n}\n\nmodule.exports = extend;\n","/*\n \tasserts will be removed in final code, so you can place them anythere\n\twithout caring about performance impacts\n*/\n\nmodule.exports = function(gantt){\n\treturn function assert(check, message){\n\t\tif (!check){\n\t\t\tif(gantt.config.show_errors && gantt.callEvent(\"onError\",[message]) !== false) {\n\t\t\t\tgantt.message({type: \"error\", text: message, expire: -1});\n\n\t\t\t\t// eslint-disable-next-line no-debugger\n\t\t\t\tdebugger;\n\t\t\t}\n\t\t}\n\t};\n};","var domHelpers = require(\"../utils/dom_helpers\"),\n\thelpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt){\n\tvar calculateScaleRange = require(\"./gantt_data_range\");\n\n\tgantt.assert = require(\"./common/assert\")(gantt);\n\n//initial initialization\n\tgantt.init = function(node, from, to){\n\t\tif(from && to){\n\t\t\tthis.config.start_date = this._min_date = new Date(from);\n\t\t\tthis.config.end_date = this._max_date = new Date(to);\n\t\t}\n\t\tthis.date.init();\n\n\t\tif (!this.config.scroll_size)\n\t\t\tthis.config.scroll_size = domHelpers.getScrollSize() || 1;\n\n\t\t//can be called only once\n\t\tthis.init = function(node){\n\t\t\tif (this.$container && this.$container.parentNode){\n\t\t\t\tthis.$container.parentNode.removeChild(this.$container);\n\t\t\t\tthis.$container = null;\n\t\t\t}\n\n\t\t\tif(this.$layout){\n\t\t\t\tthis.$layout.clear();\n\t\t\t}\n\t\t\tthis._reinit(node);\n\t\t};\n\n\t\tthis._reinit(node);\n\t};\n\n\tgantt._reinit = function(node){\n\t\tthis.callEvent(\"onBeforeGanttReady\", []);\n\n\t\t// detach listeners before clearing old DOM, possible IE errors when accessing detached nodes\n\t\tthis._eventRemoveAll();\n\t\tthis.$mouseEvents.reset();\n\n\t\tthis.resetLightbox();\n\t\tthis._update_flags();\n\n\n\t\tvar config = this.$services.getService(\"templateLoader\");\n\t\tconfig.initTemplates(this);\n\n\t\tthis._clearTaskLayers();\n\t\tthis._clearLinkLayers();\n\n\t\t//this.clear\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t\tthis.$ui.reset();\n\t\t}\n\n\t\tthis.$root = domHelpers.toNode(node);\n\t\tif(this.$root){\n\t\t\tthis.$root.innerHTML = \"\";\n\t\t}\n\t\tthis.$root.gantt = this;\n\t\tcalculateScaleRange(this);\n\t\tthis.config.layout.id = \"main\";\n\t\tthis.$layout = this.$ui.createView(\"layout\", node, this.config.layout);\n\n\t\tthis.$layout.attachEvent(\"onBeforeResize\", function(){\n\t\t\tvar storeNames = gantt.$services.getService(\"datastores\");\n\t\t\tfor(var i = 0; i < storeNames.length; i++){\n\t\t\t\tgantt.getDatastore(storeNames[i]).filter();\n\t\t\t}\n\t\t});\n\n\t\tthis.$layout.attachEvent(\"onResize\", function(){\n\t\t\tgantt.refreshData();\n\t\t});\n\n\t\tthis.callEvent(\"onGanttLayoutReady\", []);\n\t\tthis.$layout.render();\n\n\t\tgantt.$container = this.$layout.$container.firstChild;\n\n\t\taddResizeListener(gantt);\n\n\t\tthis.callEvent(\"onTemplatesReady\",[]);\n\t\tthis.$mouseEvents.reset(this.$root);\n\t\tthis.callEvent(\"onGanttReady\", []);\n\n\t\tthis.render();\n\t};\n\n\tfunction addResizeListener(gantt){\n\t\tvar containerStyles = window.getComputedStyle(gantt.$root);\n\t\tif(containerStyles.getPropertyValue(\"position\") == \"static\"){\n\t\t\tgantt.$root.style.position = \"relative\";\n\t\t}\n\n\t\tvar resizeWatcher = document.createElement('iframe');\n\t\tresizeWatcher.className = \"gantt_container_resize_watcher\";\n\t\tresizeWatcher.tabIndex = -1;\n\n\t\t// in some environments (namely, in SalesForce) iframe.contentWindow is not available\n\t\tgantt.$root.appendChild(resizeWatcher);\n\t\tif (resizeWatcher.contentWindow) {\n\t\t\tlistenWindowResize(gantt, resizeWatcher.contentWindow);\n\t\t} else {\n\t\t\t// if so - ditch the iframe and fallback to listening the main window resize\n\t\t\tgantt.$root.removeChild(resizeWatcher);\n\t\t\tlistenWindowResize(gantt, window);\n\t\t}\n\t}\n\n\tfunction listenWindowResize(gantt, window){\n\t\tvar resizeDelay;\n\t\tgantt.event(window, \"resize\", function(){\n\t\t\tclearTimeout(resizeDelay);\n\t\t\tresizeDelay = setTimeout(function(){\n\t\t\t\tgantt.render();\n\t\t\t}, 300);\n\t\t});\n\t}\n\n\tgantt.$click={\n\t\tbuttons:{\n\t\t\t\"edit\":function(id){\n\t\t\t\tgantt.showLightbox(id);\n\t\t\t},\n\t\t\t\"delete\":function(id){\n\t\t\t\tvar question = gantt.locale.labels.confirm_deleting;\n\t\t\t\tvar title = gantt.locale.labels.confirm_deleting_title;\n\n\t\t\t\tgantt._dhtmlx_confirm(question, title, function(){\n\t\t\t\t\tif(!gantt.isTaskExists(id)){\n\t\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\t\tif(task.$new){\n\t\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\t\tgantt.deleteTask(id, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgantt.refreshData();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tgantt.deleteTask(id);\n\t\t\t\t\t}\n\n\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n//renders self\n\tgantt.render = function(){\n\t\tthis.callEvent(\"onBeforeGanttRender\", []);\n\n\t\tif (!this.config.sort && this._sort) {\n\t\t\tthis._sort = undefined;\n\t\t}\n\n\t\tvar pos = this.getScrollState();\n\t\tvar posX = pos ? pos.x : 0;\n\t\tif(this._getHorizontalScrollbar()){\n\t\t\tvar scrollbar = this._getHorizontalScrollbar();\n\t\t\tposX = scrollbar.$config.codeScrollLeft || posX || 0;\n\t\t}\n\n\n\t\tvar visible_date = null;\n\t\tif(posX){\n\t\t\tvisible_date = gantt.dateFromPos(posX + this.config.task_scroll_offset);\n\t\t}\n\t\tcalculateScaleRange(this);\n\n\t\tthis.$layout.$config.autosize = this.config.autosize;\n\t\tthis.$layout.resize();\n\n\t\tif(this.config.preserve_scroll && pos){\n\n\t\t\tif(posX){\n\t\t\t\tvar new_pos = gantt.getScrollState();\n\t\t\t\tvar new_date = gantt.dateFromPos(new_pos.x);\n\t\t\t\tif(!(+visible_date == +new_date && new_pos.y == pos.y)){\n\t\t\t\t\tif(visible_date){\n\t\t\t\t\t\tthis.showDate(visible_date);\n\t\t\t\t\t}\n\t\t\t\t\tif(pos.y)\n\t\t\t\t\t\tgantt.scrollTo(undefined, pos.y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.callEvent(\"onGanttRender\", []);\n\t};\n\n\t//TODO: add layout.resize method that wouldn't trigger data repaint\n\tgantt.setSizes = gantt.render;\n\n\tgantt.locate = function(e) {\n\t\tvar trg = domHelpers.getTargetNode(e);\n\n\t\t//ignore empty cells\n\t\tvar className = domHelpers.getClassName(trg);\n\t\tif ((className || \"\").indexOf(\"gantt_task_cell\") >= 0) return null;\n\n\t\tvar targetAttribute = arguments[1] || this.config.task_attribute;\n\n\t\tvar node = domHelpers.locateAttribute(trg, targetAttribute);\n\t\tif(node){\n\t\t\treturn node.getAttribute(targetAttribute);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tgantt._locate_css = function(e, classname, strict){\n\t\treturn domHelpers.locateClassName(e, classname, strict);\n\t};\n\n\tgantt._locateHTML = function(e, attribute) {\n\t\treturn domHelpers.locateAttribute(e, attribute || this.config.task_attribute);\n\t};\n\n\tgantt.getTaskRowNode = function(id) {\n\t\tvar els = this.$grid_data.childNodes;\n\t\tvar attribute = this.config.task_attribute;\n\t\tfor (var i = 0; i < els.length; i++) {\n\t\t\tif (els[i].getAttribute) {\n\t\t\t\tvar value = els[i].getAttribute(attribute);\n\t\t\t\tif (value == id) return els[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\n\tgantt.changeLightboxType = function(type){\n\t\tif(this.getLightboxType() == type)\n\t\t\treturn true;\n\t\tgantt._silent_redraw_lightbox(type);\n\t};\n\n\n\tgantt._get_link_type = function (from_start, to_start) {\n\t\tvar type = null;\n\t\tif (from_start && to_start) {\n\t\t\ttype = gantt.config.links.start_to_start;\n\t\t} else if (!from_start && to_start) {\n\t\t\ttype = gantt.config.links.finish_to_start;\n\t\t} else if (!from_start && !to_start) {\n\t\t\ttype = gantt.config.links.finish_to_finish;\n\t\t} else if (from_start && !to_start) {\n\t\t\ttype = gantt.config.links.start_to_finish;\n\t\t}\n\t\treturn type;\n\t};\n\n\tgantt.isLinkAllowed = function (from, to, from_start, to_start) {\n\t\tvar link = null;\n\t\tif (typeof(from) == \"object\") {\n\t\t\tlink = from;\n\t\t} else {\n\t\t\tlink = {source: from, target: to, type: this._get_link_type(from_start, to_start)};\n\t\t}\n\n\t\tif (!link) return false;\n\t\tif (!(link.source && link.target && link.type)) return false;\n\t\tif (link.source == link.target) return false;\n\n\t\tvar res = true;\n\t\t//any custom rules\n\t\tif (this.checkEvent(\"onLinkValidation\"))\n\t\t\tres = this.callEvent(\"onLinkValidation\", [link]);\n\n\t\treturn res;\n\t};\n\n\n\tgantt._correct_dst_change = function(date, prevOffset, step, unit){\n\t\tvar time_unit = helpers.getSecondsInUnit(unit) * step;\n\t\tif(time_unit > 60*60 && time_unit < 60*60*24){\n\t\t\t//correct dst change only if current unit is more than one hour and less than day (days have own checking), e.g. 12h\n\t\t\tvar offsetChanged = date.getTimezoneOffset() - prevOffset;\n\t\t\tif(offsetChanged){\n\t\t\t\tdate = gantt.date.add(date, offsetChanged, \"minute\");\n\t\t\t}\n\t\t}\n\t\treturn date;\n\t};\n\n\tgantt.isSplitTask = function(task){\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSplitTask. Task object was expected\");\n\t\treturn this.$data.tasksStore._isSplitItem(task);\n\t};\n\n\tgantt._is_icon_open_click = function(e) {\n\t\tif (!e)\n\t\t\treturn false;\n\t\tvar target = e.target || e.srcElement;\n\t\tif (!(target && target.className))\n\t\t\treturn false;\n\t\tvar className = domHelpers.getClassName(target);\n\t\tif (className.indexOf(\"gantt_tree_icon\") !== -1 && (className.indexOf(\"gantt_close\") !== -1 || className.indexOf(\"gantt_open\") !== -1))\n\t\t\treturn true;\n\t\treturn false;\n\t};\n\n};","// default locale\n// load locale definition and wrap it into module build-time\nmodule.exports = function (gantt) {\n\tgantt.locale = {\n\tdate: {\n\t\tmonth_full: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\tday_short: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"New task\",\n\t\ticon_save: \"Save\",\n\t\ticon_cancel: \"Cancel\",\n\t\ticon_details: \"Details\",\n\t\ticon_edit: \"Edit\",\n\t\ticon_delete: \"Delete\",\n\t\tconfirm_closing: \"\",//Your changes will be lost, are you sure?\n\t\tconfirm_deleting: \"Task will be deleted permanently, are you sure?\",\n\t\tsection_description: \"Description\",\n\t\tsection_time: \"Time period\",\n\t\tsection_type: \"Type\",\n\n\t\t/* grid columns */\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Cancel\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n};","module.exports = function(gantt) {\n\n\tgantt.config.touch_drag = 500; //nearly immediate dnd\n\tgantt.config.touch = true;\n\tgantt.config.touch_feedback = true;\n\tgantt.config.touch_feedback_duration = 1;\n\tgantt._prevent_touch_scroll = false;\n\n\n\tgantt._touch_feedback = function () {\n\t\tif (gantt.config.touch_feedback) {\n\t\t\tif (navigator.vibrate)\n\t\t\t\tnavigator.vibrate(gantt.config.touch_feedback_duration);\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onGanttReady\", gantt.bind(function(){\n\t\tif (this.config.touch != \"force\")\n\t\t\tthis.config.touch = this.config.touch &&\n\t\t\t\t((navigator.userAgent.indexOf(\"Mobile\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"iPad\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Android\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Touch\") != -1));\n\n\t\tif (this.config.touch) {\n\n\t\t\tvar touchEventsSupported = true;\n\t\t\ttry {\n\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t} catch (e) {\n\t\t\t\ttouchEventsSupported = false;\n\t\t\t}\n\n\t\t\tif (touchEventsSupported) {\n\t\t\t\tthis._touch_events([\"touchmove\", \"touchstart\", \"touchend\"], function (ev) {\n\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttarget: ev.target,\n\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn ev;\n\t\t\t\t}, function () {\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t} else if (window.navigator.pointerEnabled) {\n\t\t\t\tthis._touch_events([\"pointermove\", \"pointerdown\", \"pointerup\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || (ev.pointerType == \"mouse\" ));\n\t\t\t\t});\n\t\t\t} else if (window.navigator.msPointerEnabled) {\n\t\t\t\tthis._touch_events([\"MSPointerMove\", \"MSPointerDown\", \"MSPointerUp\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || ev.pointerType == ev.MSPOINTER_TYPE_MOUSE);\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t}, gantt));\n\n\n\tfunction getTaskDND(){\n\t\tvar _tasks_dnd;\n\t\tif(gantt.$ui.getView(\"timeline\")){\n\t\t\t_tasks_dnd = gantt.$ui.getView(\"timeline\")._tasks_dnd;\n\t\t}\n\t\treturn _tasks_dnd;\n\t}\n\n\tvar touchHandlers = [];\n\n//we can't use native scrolling, as we need to sync momentum between different parts\n//so we will block native scroll and use the custom one\n//in future we can add custom momentum\n\tgantt._touch_events = function (names, accessor, ignore) {\n\t\t//webkit on android need to be handled separately\n\t\tvar dblclicktime = 0;\n\t\tvar action_mode = false;\n\t\tvar scroll_mode = false;\n\t\tvar action_start = null;\n\t\tvar scroll_state;\n\t\tvar long_tap_timer = null;\n\t\tvar current_target = null;\n\n\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.eventRemove(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\t\ttouchHandlers = [];\n\n\t\t//touch move\n\t\ttouchHandlers.push([gantt.$container, names[0], function (e) {\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\t\tif (ignore(e)) return;\n\n\t\t\t\t//ignore common and scrolling moves\n\t\t\t\tif (!action_mode) return;\n\n\t\t\t\tif (long_tap_timer) clearTimeout(long_tap_timer);\n\n\t\t\t\tvar source = accessor(e);\n\t\t\t\tif (_tasks_dnd && (_tasks_dnd.drag.id || _tasks_dnd.drag.start_drag)) {\n\t\t\t\t\t_tasks_dnd.on_mouse_move(source);\n\t\t\t\t\tif (e.preventDefault)\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.cancelBubble = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!gantt._prevent_touch_scroll) {\n\t\t\t\t\tif (source && action_start) {\n\t\t\t\t\t\tvar dx = action_start.pageX - source.pageX;\n\t\t\t\t\t\tvar dy = action_start.pageY - source.pageY;\n\t\t\t\t\t\tif (!scroll_mode && (Math.abs(dx) > 5 || Math.abs(dy) > 5)) {\n\t\t\t\t\t\t\tgantt._touch_scroll_active = scroll_mode = true;\n\t\t\t\t\t\t\tdblclicktime = 0;\n\t\t\t\t\t\t\tscroll_state = gantt.getScrollState();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (scroll_mode) {\n\t\t\t\t\t\t\tgantt.scrollTo(scroll_state.x + dx, scroll_state.y + dy);\n\t\t\t\t\t\t\tvar new_scroll_state = gantt.getScrollState();\n\n\t\t\t\t\t\t\tif ((scroll_state.x != new_scroll_state.x && dy > 2 * dx) ||\n\t\t\t\t\t\t\t\t(scroll_state.y != new_scroll_state.y && dx > 2 * dy )) {\n\t\t\t\t\t\t\t\treturn block_action(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn block_action(e);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}]);\n\n\n\t\t//block touch context menu in IE10\n\t\ttouchHandlers.push([this.$container, \"contextmenu\", function (e) {\n\t\t\tif (action_mode)\n\t\t\t\treturn block_action(e);\n\t\t}]);\n\n\t\t//touch start\n\t\ttouchHandlers.push([this.$container, names[1], function (e) {\n\t\t\tif (ignore(e)) return;\n\t\t\tif (e.touches && e.touches.length > 1) {\n\t\t\t\taction_mode = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taction_start = accessor(e);\n\t\t\tif (!gantt._locate_css(action_start, \"gantt_hor_scroll\") && !gantt._locate_css(action_start, \"gantt_ver_scroll\")) {\n\t\t\t\taction_mode = true;\n\t\t\t}\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\t//long tap\n\t\t\tlong_tap_timer = setTimeout(function () {\n\t\t\t\tvar taskId = gantt.locate(action_start);\n\t\t\t\tif (_tasks_dnd && (taskId && !gantt._locate_css(action_start, \"gantt_link_control\") && !gantt._locate_css(action_start, \"gantt_grid_data\"))) {\n\t\t\t\t\t_tasks_dnd.on_mouse_down(action_start);\n\n\t\t\t\t\tif (_tasks_dnd.drag && _tasks_dnd.drag.start_drag) {\n\t\t\t\t\t\tcloneTaskRendered(taskId);\n\t\t\t\t\t\t_tasks_dnd._start_dnd(action_start);\n\t\t\t\t\t\tgantt._touch_drag = true;\n\n\t\t\t\t\t\tgantt.refreshTask(taskId);\n\n\t\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tlong_tap_timer = null;\n\t\t\t}, gantt.config.touch_drag);\n\t\t}]);\n\n\t\t//touch end\n\t\ttouchHandlers.push([this.$container, names[2], function (e) {\n\t\t\tif (ignore(e)) return;\n\t\t\tif (long_tap_timer) clearTimeout(long_tap_timer);\n\t\t\tgantt._touch_drag = false;\n\t\t\taction_mode = false;\n\t\t\tvar source = accessor(e);\n\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\tif(_tasks_dnd)\n\t\t\t\t_tasks_dnd.on_mouse_up(source);\n\n\t\t\tif (current_target) {\n\t\t\t\tgantt.refreshTask(gantt.locate(current_target));\n\t\t\t\tif (current_target.parentNode) {\n\t\t\t\t\tcurrent_target.parentNode.removeChild(current_target);\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgantt._touch_scroll_active = action_mode = scroll_mode = false;\n\t\t\tcurrent_target = null;\n\n\t\t\t//dbl-tap handling\n\t\t\tif (action_start && dblclicktime) {\n\t\t\t\tvar now = new Date();\n\t\t\t\tif ((now - dblclicktime) < 500) {\n\n\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\tmouseEvents.onDoubleClick(action_start);\n\t\t\t\t\tblock_action(e);\n\t\t\t\t} else\n\t\t\t\t\tdblclicktime = now;\n\t\t\t} else {\n\t\t\t\tdblclicktime = new Date();\n\t\t\t}\n\t\t}]);\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.event(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\n\t\t//common helper, prevents event\n\t\tfunction block_action(e) {\n\t\t\tif (e && e.preventDefault)\n\t\t\t\te.preventDefault();\n\t\t\t(e || event).cancelBubble = true;\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction cloneTaskRendered(taskId) {\n\t\t\tvar renders = gantt._getTaskLayers();\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\tif (task && gantt.isTaskVisible(taskId)) {\n\t\t\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\t\t\ttask = renders[i].rendered[taskId];\n\t\t\t\t\tif (task && task.getAttribute(gantt.config.task_attribute) && task.getAttribute(gantt.config.task_attribute) == taskId) {\n\t\t\t\t\t\tvar copy = task.cloneNode(true);\n\t\t\t\t\t\tcurrent_target = task;\n\t\t\t\t\t\trenders[i].rendered[taskId] = copy;\n\t\t\t\t\t\ttask.style.display = \"none\";\n\t\t\t\t\t\tcopy.className += \" gantt_drag_move \";\n\t\t\t\t\t\ttask.parentNode.appendChild(copy);\n\t\t\t\t\t\t//return copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_white\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_black\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\n\tgantt.skins.material = {\n\t\tconfig: {\n\t\t\tgrid_width: 411,\n\t\t\trow_height: 34,\n\t\t\ttask_height_offset: 6,\n\t\t\tscale_height: 36,\n\t\t\tlink_line_width: 2,\n\t\t\tlink_arrow_size: 6,\n\t\t\tlightbox_additional_height: 80\n\t\t},\n\t\t_second_column_width: 110,\n\t\t_third_column_width: 75,\n\t\t_redefine_lightbox_buttons: {\n\t\t\t\"buttons_left\": [\"dhx_delete_btn\"],\n\t\t\t\"buttons_right\": [\"dhx_save_btn\", \"dhx_cancel_btn\"]\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onAfterTaskDrag\", function (id) {\n\t\tvar t = gantt.getTaskNode(id);\n\t\tif (t) {\n\t\t\tt.className += \" gantt_drag_animation\";\n\t\t\tsetTimeout(function () {\n\t\t\t\tvar indx = t.className.indexOf(\" gantt_drag_animation\");\n\t\t\t\tif (indx > -1) {\n\t\t\t\t\tt.className = t.className.slice(0, indx);\n\t\t\t\t}\n\t\t\t}, 200);\n\t\t}\n\t});\n\n};","module.exports = function(gantt) {\n\tgantt.skins.broadway = {\n\t\tconfig: {\n\t\t\tgrid_width: 360,\n\t\t\trow_height: 35,\n\t\t\tscale_height: 35,\n\t\t\tlink_line_width: 1,\n\t\t\tlink_arrow_size: 7,\n\t\t\tlightbox_additional_height: 86\n\t\t},\n\t\t_second_column_width: 90,\n\t\t_third_column_width: 80,\n\n\t\t_lightbox_template: \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>\",\n\t\t_config_buttons_left: {},\n\t\t_config_buttons_right: {\n\t\t\t\"gantt_delete_btn\": \"icon_delete\",\n\t\t\t\"gantt_save_btn\": \"icon_save\"\n\t\t}\n\t};\n};","module.exports = function(gantt) {\ngantt.skins.terrace = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:90,\n\t_third_column_width:70\t\t\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.meadow = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 30,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:72\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.skyblue = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 27,\n\t\tlink_line_width:1,\n\t\tlink_arrow_size:8,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","function _configure(col, data, force) {\n\tfor (var key in data)\n\t\tif (typeof col[key] == \"undefined\" || force)\n\t\t\tcol[key] = data[key];\n}\n\nfunction _get_skin(force, gantt) {\n\tvar skin = gantt.skin;\n\tif (!skin || force) {\n\t\tvar links = document.getElementsByTagName(\"link\");\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar res = links[i].href.match(\"dhtmlxgantt_([a-z_]+).css\");\n\t\t\tif (res) {\n\t\t\t\tif (gantt.skins[res[1]] || !skin) {\n\t\t\t\t\tskin = res[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgantt.skin = skin || \"terrace\";\n\tvar skinset = gantt.skins[gantt.skin] || gantt.skins[\"terrace\"];\n\n\t//apply skin related settings\n\t_configure(gantt.config, skinset.config, force);\n\n\tvar config = gantt.getGridColumns();\n\tif (config[1] && !gantt.defined(config[1].width))\n\t\tconfig[1].width = skinset._second_column_width;\n\tif (config[2] && !gantt.defined(config[2].width))\n\t\tconfig[2].width = skinset._third_column_width;\n\t\n\tfor (var i=0; i<config.length; i++) {\n\t\tvar column = config[i];\n\t\tif (column.name == \"add\") {\n\t\t\tif(!column.width){\n\t\t\t\tcolumn.width = 44;\n\t\t\t}\n\t\t\tif (!(gantt.defined(column.min_width) && gantt.defined(column.max_width))) {\n\t\t\t\tcolumn.min_width = column.min_width || column.width;\n\t\t\t\tcolumn.max_width = column.max_width || column.width;\n\t\t\t}\n\t\t\tif (column.min_width)\n\t\t\t\tcolumn.min_width = +column.min_width;\n\t\t\tif (column.max_width)\n\t\t\t\tcolumn.max_width = +column.max_width;\n\t\t\tif (column.width) {\n\t\t\t\tcolumn.width = +column.width;\n\t\t\t\tcolumn.width = (column.min_width && column.min_width > column.width) ? column.min_width : column.width;\n\t\t\t\tcolumn.width = (column.max_width && column.max_width < column.width) ? column.max_width : column.width;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (skinset.config.task_height)\n\t\tgantt.config.task_height = skinset.config.task_height || \"full\"; \n\n\tif (skinset._lightbox_template)\n\t\tgantt._lightbox_template = skinset._lightbox_template;\n\n\tif (skinset._redefine_lightbox_buttons) {\n\t\tgantt.config.buttons_right = skinset._redefine_lightbox_buttons[\"buttons_right\"];\n\t\tgantt.config.buttons_left = skinset._redefine_lightbox_buttons[\"buttons_left\"];\n\t}\n\n\n\tgantt.resetLightbox();\n}\n\nmodule.exports = function(gantt) {\n\tif(!gantt.resetSkin){\n\t\tgantt.resetSkin = function () {\n\t\t\tthis.skin = \"\";\n\t\t\t_get_skin(true, this);\n\t\t};\n\t\tgantt.skins = {};\n\n\t\tgantt.attachEvent(\"onGanttLayoutReady\", function(){\n\t\t\t_get_skin(false, this);\n\t\t});\n\t}\n};","/*\n reuse results of functions that can be recalculated during rendering\n greatly increases the rendering speed when critical path enabled\n Sample - 94_dev/critical_path.html\n\n */\nmodule.exports = function(gantt){\n\ngantt._cached_functions = {\n\tcache: {},\n\tmode: false,\n\tcritical_path_mode: false,\n\twrap_methods : function(methods, object){\n\t\tif(object._prefetch_originals){\n\t\t\tfor(var i in object._prefetch_originals){\n\t\t\t\tobject[i] = object._prefetch_originals[i];\n\t\t\t}\n\t\t}\n\t\tobject._prefetch_originals = {};\n\t\tfor(var i = 0; i < methods.length; i++)\n\t\t\tthis.prefetch(methods[i], object);\n\n\t},\n\tprefetch : function(methodname, host){\n\t\tvar original = host[methodname];\n\t\tif(original){\n\t\t\tvar optimizer = this;\n\n\t\t\thost._prefetch_originals[methodname] = original;\n\t\t\thost[methodname] = function get_prefetched_value(){\n\n\t\t\t\tvar argumentsArray = new Array(arguments.length);\n\t\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\t\targumentsArray[i] = arguments[i];\n\t\t\t\t}\n\n\t\t\t\tif(optimizer.active){\n\t\t\t\t\tvar args = optimizer.get_arguments_hash(Array.prototype.slice.call(argumentsArray));\n\t\t\t\t\tif(!optimizer.cache[methodname]){\n\t\t\t\t\t\toptimizer.cache[methodname] = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar cached_values = optimizer.cache[methodname];\n\n\t\t\t\t\tif(optimizer.has_cached_value(cached_values, args)){\n\t\t\t\t\t\treturn optimizer.get_cached_value(cached_values, args);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar value = original.apply(this, argumentsArray);\n\t\t\t\t\t\toptimizer.cache_value(cached_values, args, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn original.apply(this, argumentsArray);\n\t\t\t};\n\t\t}\n\t\treturn original;\n\t},\n\tcache_value: function(cache, arguments_hash, value){\n\t\tif(this.is_date(value))\n\t\t\tvalue = new Date(value);\n\t\tcache[arguments_hash] = value;\n\t},\n\thas_cached_value: function(cache, arguments_hash){\n\t\treturn cache.hasOwnProperty(arguments_hash);\n\t},\n\tget_cached_value: function(cache, arguments_hash){\n\t\tvar data = cache[arguments_hash];\n\n\t\t//for cached dates - return copy\n\t\tif(this.is_date(data)){\n\t\t\tdata = new Date(data);\n\t\t}\n\t\treturn data;\n\t},\n\tis_date: function(value){\n\t\treturn (value && value.getUTCDate);\n\t},\n\tget_arguments_hash:function(args){\n\t\tvar values = [];\n\t\tfor(var i = 0; i < args.length; i++){\n\t\t\tvalues.push(this.stringify_argument(args[i]));\n\t\t}\n\t\treturn \"(\" + values.join(\";\") + \")\";\n\t},\n\tstringify_argument: function(value){\n\t\t//expecting task or link, or any other data entries, dates and primitive values\n\t\tvar ret = \"\";\n\t\tif(value.id){\n\t\t\tret = value.id;\n\t\t}else if(this.is_date(value)){\n\t\t\tret = value.valueOf();\n\t\t}else{\n\t\t\tret = value;\n\t\t}\n\t\treturn ret + \"\";\n\t},\n\tactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = true;\n\t},\n\tdeactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = false;\n\t},\n\tclear: function(){\n\t\tthis.cache = {};\n\t},\n\n\tsetup: function(gantt){\n\t\tvar override_gantt = [];\n\n\t\tvar gantt_methods  = [\n\t\t\t'_isProjectEnd',\n\t\t\t'_getProjectEnd',\n\t\t\t'_getSlack'\n\t\t];\n\n\n\n\t\tif(this.mode == 'auto'){\n\t\t\tif(gantt.config.highlight_critical_path){\n\t\t\t\toverride_gantt = gantt_methods;\n\t\t\t}\n\t\t}else if(this.mode === true){\n\t\t\toverride_gantt = gantt_methods;\n\t\t}\n\n\t\tthis.wrap_methods(override_gantt, gantt);\n\n\t},\n\tupdate_if_changed: function(gantt){\n\t\tvar changed = (this.critical_path_mode != gantt.config.highlight_critical_path ||\n\t\t\t\t\t\tthis.mode !== gantt.config.optimize_render);\n\t\tif(changed){\n\t\t\tthis.critical_path_mode = gantt.config.highlight_critical_path;\n\t\t\tthis.mode = gantt.config.optimize_render;\n\t\t\tthis.setup(gantt);\n\t\t}\n\t}\n};\n\nfunction activate(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\tif(!gantt._cached_functions.active){\n\t\tgantt._cached_functions.activate();\n\t}\n\treturn true;\n}\ngantt.attachEvent(\"onBeforeGanttRender\", activate);\ngantt.attachEvent(\"onBeforeDataRender\", activate);\ngantt.attachEvent(\"onBeforeSmartRender\",  function(){\n\tactivate();\n});\ngantt.attachEvent(\"onBeforeParse\", activate);\ngantt.attachEvent(\"onDataRender\", function(){\n\tgantt._cached_functions.deactivate();\n});\nvar deactivTimeout = null;\ngantt.attachEvent(\"onSmartRender\", function(){\n\tif(deactivTimeout)\n\t\tclearTimeout(deactivTimeout);\n\tdeactivTimeout = setTimeout(function(){\n\t\tgantt._cached_functions.deactivate();\n\t}, 1000);\n});\n\ngantt.attachEvent(\"onBeforeGanttReady\", function(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\treturn true;\n});\n\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./select_control\")(gantt);\n\n\tfunction TypeselectControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(TypeselectControl, _super);\n\n\tTypeselectControl.prototype.render = function(sns) {\n\t\tvar types = gantt.config.types,\n\t\t\tlocale = gantt.locale.labels,\n\t\t\toptions = [];\n\n\t\tvar filter = sns.filter || function (typeKey, typeValue) {\n\t\t\tif (!types.placeholder || typeValue !== types.placeholder) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tfor (var i in types) {\n\t\t\tif (!filter(i, types[i]) === false) {\n\t\t\t\toptions.push({ key: types[i], label: locale[\"type_\" + i] });\n\t\t\t}\n\t\t}\n\t\tsns.options = options;\n\n\t\tvar oldOnChange = sns.onchange;\n\t\tsns.onchange = function () {\n\t\t\tgantt.changeLightboxType(this.value);\n\t\t\tif (typeof oldOnChange == 'function') {\n\t\t\t\toldOnChange.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\treturn _super.prototype.render.apply(this, arguments);\n\t};\n\n\treturn TypeselectControl;\n};\n","module.exports = function(gantt) {\n\tvar TypeselectControl = require(\"./lightbox/controls/typeselect_control\")(gantt);\n\n\tgantt.getTaskType = function (type) {\n\t\tvar checkType = type;\n\t\tif(type && typeof type == \"object\"){\n\t\t\tcheckType = type.type;\n\t\t}\n\n\t\tfor (var i in this.config.types) {\n\t\t\tif (this.config.types[i] == checkType) {\n\t\t\t\treturn checkType;\n\t\t\t}\n\t\t}\n\t\treturn gantt.config.types.task;\n\t};\n\n\tgantt.form_blocks.typeselect = new TypeselectControl();\n\n};","module.exports = function(gantt) {\n\n\tgantt._extend_to_optional = function (lightbox_block) {\n\n\t\tvar duration = lightbox_block;\n\t\tvar optional_time = {\n\t\t\trender: duration.render,\n\t\t\tfocus: duration.focus,\n\t\t\tset_value: function (node, value, task, section) {\n\t\t\t\tvar mapping = gantt._resolve_default_mapping(section);\n\t\t\t\tif (!task[mapping.start_date] || (mapping.start_date == \"start_date\" && this._isAllowedUnscheduledTask(task))) {\n\t\t\t\t\toptional_time.disable(node, section);\n\t\t\t\t\tvar val = {};\n\n\t\t\t\t\tfor (var i in mapping) {\n\t\t\t\t\t\t//take default values from the time control from task start/end dates\n\t\t\t\t\t\tval[mapping[i]] = task[i];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, val, section);//set default value\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.enable(node, section);\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget_value: function (node, task, section) {\n\t\t\t\tif (section.disabled) {\n\t\t\t\t\treturn {start_date: null};\n\t\t\t\t} else {\n\t\t\t\t\treturn duration.get_value.call(gantt, node, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate_block: function (node, section) {\n\t\t\t\tgantt.callEvent(\"onSectionToggle\", [gantt._lightbox_id, section]);\n\t\t\t\tnode.style.display = section.disabled ? \"none\" : \"block\";\n\n\t\t\t\tif (section.button) {\n\t\t\t\t\tvar button = node.previousSibling.querySelector(\".gantt_custom_button_label\"),\n\t\t\t\t\t\tlabels = gantt.locale.labels;\n\n\t\t\t\t\tvar button_text = section.disabled ? labels[section.name + \"_enable_button\"] : labels[section.name + \"_disable_button\"];\n\n\t\t\t\t\tbutton.innerHTML = button_text;\n\t\t\t\t}\n\t\t\t\tgantt.resizeLightbox();\n\t\t\t},\n\t\t\tdisable: function (node, section) {\n\t\t\t\tsection.disabled = true;\n\t\t\t\toptional_time.update_block(node, section);\n\n\t\t\t},\n\t\t\tenable: function (node, section) {\n\t\t\t\tsection.disabled = false;\n\t\t\t\toptional_time.update_block(node, section);\n\t\t\t},\n\t\t\tbutton_click: function (index, el, section, container) {\n\t\t\t\tif (gantt.callEvent(\"onSectionButton\", [gantt._lightbox_id, section]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar config = gantt._get_typed_lightbox_config()[index];\n\t\t\t\tif (config.disabled) {\n\t\t\t\t\toptional_time.enable(container, config);\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.disable(container, config);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn optional_time;\n\t};\n\n\tgantt.form_blocks.duration_optional = gantt._extend_to_optional(gantt.form_blocks.duration);\n\tgantt.form_blocks.time_optional = gantt._extend_to_optional(gantt.form_blocks.time);\n\n};","var __extends = require(\"../../../utils/extends\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction ConstraintControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(ConstraintControl, _super);\n\n\tfunction isNonTimedConstraint(value) {\n\t\tif (!value || value === gantt.config.constraint_types.ASAP || value === gantt.config.constraint_types.ALAP) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction toggleTimeSelect(timeSelects, typeValue) {\n\t\tvar isNonTimed = isNonTimedConstraint(typeValue);\n\t\tfor (var i = 0; i < timeSelects.length; i++) {\n\t\t\ttimeSelects[i].disabled = isNonTimed;\n\t\t}\n\t}\n\n\tConstraintControl.prototype.render = function (sns) {\n\t\tvar height = (sns.height || 30) + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext gantt_section_\" + sns.name + \"' style='height:\" + height + \";'>\";\n\n\t\tvar options = [];\n\t\tfor (var i in gantt.config.constraint_types) {\n\t\t\toptions.push({ key: gantt.config.constraint_types[i], label: gantt.locale.labels[gantt.config.constraint_types[i]] });\n\t\t}\n\n\t\tsns.options = sns.options || options;\n\n\t\thtml += \"<span data-constraint-type-select>\" + htmlHelpers.getHtmlSelect(sns.options, [{ key: \"data-type\", value: \"constraint-type\" }]) + \"</span>\";\n\n\t\tvar timeLabel = gantt.locale.labels[\"constraint_date\"] || \"Constraint date\";\n\t\thtml += \"<label data-constraint-time-select>\" + timeLabel + \": \" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</label>\";\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tConstraintControl.prototype.set_value = function (node, value, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\t\tvar map = config._time_format_order;\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (!typeSelect._eventsInitialized) {\n\t\t\ttypeSelect.addEventListener(\"input\", function (e) {\n\t\t\t\ttoggleTimeSelect(timeSelects, e.target.value);\n\t\t\t});\n\t\t\ttypeSelect._eventsInitialized = true;\n\t\t}\n\n\t\tvar constraintDate = task[mapping.constraint_date] || new Date();\n\t\tgantt.form_blocks._fill_lightbox_select(timeSelects, 0, constraintDate, map, config);\n\n\t\tvar constraintType = task[mapping.constraint_type] || gantt.getConstraintType(task);\n\t\ttypeSelect.value = constraintType;\n\t\ttoggleTimeSelect(timeSelects, constraintType);\n\t};\n\n\tConstraintControl.prototype.get_value = function (node, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\n\t\tvar constraintType = typeSelect.value;\n\t\tvar constraintDate = null;\n\t\tif (!isNonTimedConstraint(constraintType)) {\n\t\t\tconstraintDate = gantt.form_blocks.getTimePickerValue(timeSelects, config);\n\t\t}\n\n\t\treturn {\n\t\t\tconstraint_type: constraintType,\n\t\t\tconstraint_date: constraintDate\n\t\t};\n\t};\n\n\tConstraintControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.querySelector(\"select\"));\n\t};\n\n\treturn ConstraintControl;\n};","var helpers = require(\"../../../utils/helpers\");\nvar domHelpers = require(\"../../../utils/dom_helpers\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\nvar __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\tvar localCache = {\n\t\tresources: {},\n\t\tresourcesValues: {},\n\t\tfilter: {},\n\t\teventsInitialized: {}\n\t};\n\n\tgantt.attachEvent(\"onAfterLightbox\", _clearCached);\n\n\tfunction ResourcesControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(ResourcesControl, _super);\n\n\tResourcesControl.prototype.render = function(sns) {\n\t\tvar html;\n\t\tvar resourceFilterPlaceholder = gantt.locale.labels.resources_filter_placeholder || sns.filter_placeholder || \"type to filter\";\n\t\tvar resourceFilterLabel = gantt.locale.labels.resources_filter_label || \"hide empty\";\n\t\t// if set fixed height for this element, then resize of lightbox will be calculated improperly\n\t\thtml = \"<div\" + (!isNaN(sns.height) ? \" style='height: \" + sns.height + \"px;'\" : \"\") + \">\";\n\t\thtml += \"<div class='gantt_cal_ltext gantt_resources_filter'><input type='text' class='gantt_resources_filter_input' placeholder='\" + resourceFilterPlaceholder + \"'> <label><input class='switch_unsetted' type='checkbox'><span class='matherial_checkbox_icon'></span>\" + resourceFilterLabel + \"</label></div>\";\n\t\thtml += \"<div class='gantt_cal_ltext gantt_resources' data-name='\" + sns.name + \"'></div>\";\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tResourcesControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar resourcesElement = _setResourcesElement(node, sns);\n\t\tvar htmlResourceRow = \"\";\n\t\tvar data;\n\n\t\t_setFilterCache(node, sns);\n\t\t_initEvents(node, ev, sns, this);\n\n\t\thelpers.forEach(sns.options, function(entry, index) {\n\t\t\tif (sns.unassigned_value == entry.key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata = _getDisplayValues(sns, value, entry);\n\n\t\t\thtmlResourceRow += [\n\t\t\t\t\"<label class='gantt_resource_row' data-item-id='\" + entry.key + \"' data-checked=\"+(data.value ? 'true' : 'false')+\">\",\n\t\t\t\t\"<input class='gantt_resource_toggle' type='checkbox'\", data.value ? \" checked='checked'\" : \"\", \"><div class='gantt_resource_cell gantt_resource_cell_checkbox'><span class='matherial_checkbox_icon'></span></div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_label'>\", entry.label, \"</div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_value'>\", _getAmountInput(entry, data.value, !data.value),\"</div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_unit'>\", entry.unit,\"</div>\",\n\t\t\t\t\"</label>\"\n\t\t\t].join(\"\");\n\t\t});\n\t\tresourcesElement.innerHTML = htmlResourceRow;\n\t\t// weird element sizes in ie11 when display empty resource list, use zoom to force repaint\n\t\tresourcesElement.style.zoom = \"1\";\n\t\tresourcesElement._offsetSizes = resourcesElement.offsetHeight;\n\t\tresourcesElement.style.zoom = \"\";\n\n\t\tgantt.resizeLightbox();\n\t\tgantt._center_lightbox(gantt.getLightbox());\n\t};\n\n\tResourcesControl.prototype.get_value = function(node, ev, sns) {\n\t\tvar amountElement = _getResourcesElement(sns);\n\t\tvar result = [];\n\t\tvar selectorAdd = _getInputElementSelector(true);\n\t\tvar selectorSub = _getInputElementSelector(false);\n\t\tvar filterCache = _getFilterCache(sns);\n\t\tvar settedValues = ev[sns.map_to] || [];\n\t\tvar settedValuesHash = {};\n\n\t\tif (filterCache.filterApplied && settedValues && settedValues.length > 0) {\n\t\t\thelpers.forEach(settedValues, function(entry) {\n\t\t\t\tsettedValuesHash[String(entry.resource_id)] = entry;\n\t\t\t});\n\t\t}\n\n\t\tvar itemsAdd = amountElement.querySelectorAll(selectorAdd);\n\t\tvar itemsSub = amountElement.querySelectorAll(selectorSub);\n\n\t\tfor (var i = 0; i < itemsSub.length; i++) {\n\t\t\tdelete settedValuesHash[itemsSub[i].getAttribute(\"data-item-id\")];\n\t\t}\n\n\t\tfor (var i = 0; i < itemsAdd.length; i++) {\n\t\t\tvar resourceId = itemsAdd[i].getAttribute(\"data-item-id\");\n\t\t\tvar amount = itemsAdd[i].value.trim();\n\n\t\t\tif (amount !== \"\" && amount !== \"0\") {\n\t\t\t\tdelete settedValuesHash[resourceId];\n\t\t\t\tresult[result.length] = { resource_id: resourceId, value: amount };\n\t\t\t}\n\t\t}\n\n\t\tfor (var item in settedValuesHash) {\n\t\t\tif (!localCache.resourcesValues[sns.id]) {\n\t\t\t\tresult[result.length] = settedValuesHash[item];\n\t\t\t} else {\n\t\t\t\tresult[result.length] = localCache.resourcesValues[sns.id][item] || settedValuesHash[item];\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tResourcesControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\".gantt_resources\"));\n\t};\n\n\tfunction _getAmountInput(item, value, disabled) {\n\t\tvar _attributes;\n\t\tvar innerHTML = \"\";\n\n\t\tif (!item) return;\n\n\t\t_attributes = [{ key: \"data-item-id\", value: item.key }, { key: \"class\", value: \"gantt_resource_amount_input\"}];\n\t\tif (disabled) {\n\t\t\t_attributes.push({ key: \"disabled\", value: \"disabled\" });\n\t\t}\n\n\t\tif (item.options) {\n\t\t\tinnerHTML += htmlHelpers.getHtmlSelect(item.options, _attributes, value);\n\t\t} else {\n\t\t\t_attributes[_attributes.length] = { key: \"value\", value: value || \"\" };\n\t\t\tinnerHTML += htmlHelpers.getHtmlInput(_attributes);\n\t\t}\n\t\treturn innerHTML;\n\t}\n\n\tfunction _getValue(el) {\n\t\treturn el.value.trim();\n\t}\n\n\tfunction _initEvents(node, ev, sns, context) {\n\t\tif (localCache.eventsInitialized[sns.id]) return;\n\n\t\tvar _applyFilter = function(e) {\n\t\t\tvar resultSns;\n\t\t\tvar value = ev[sns.map_to];\n\t\t\tvar query;\n\t\t\tvar hideUnsetted;\n\t\t\tvar input;\n\t\t\tvar checkbox;\n\t\t\tvar filterCache = _getFilterCache(sns);\n\n\t\t\tcheckbox = filterCache.checkbox;\n\t\t\tinput = filterCache.input;\n\n\t\t\thideUnsetted = checkbox.checked;\n\t\t\tquery = _getValue(input);\n\t\t\tresultSns = _getSnsToHideUnsetted(sns, ev, query, hideUnsetted);\n\t\t\tfilterCache.filterApplied = true;\n\t\t\tcontext.form_blocks.resources.set_value(node, value, ev, resultSns);\n\t\t};\n\n\t\tfunction _resourceChangeListener(e) {\n\t\t\tvar target = e.target;\n\t\t\tvar parent;\n\t\t\tvar input;\n\n\t\t\tif (e.target.type === \"checkbox\") {\n\t\t\t\tparent = target.parentNode;\n\t\t\t\tinput = parent.querySelector(_getInputElementSelector());\n\t\t\t\tinput.disabled = !target.checked;\n\t\t\t\tvar itemId = input.getAttribute(\"data-item-id\");\n\t\t\t\tvar row = domHelpers.locateClassName(e, \"gantt_resource_row\");\n\t\t\t\tvar valueInput = row.querySelector(\".gantt_resource_amount_input\");\n\t\t\t\trow.setAttribute(\"data-checked\", target.checked);\n\t\t\t\tif (target.checked) {\n\t\t\t\t\tif (input.nodeName.toLowerCase() === \"select\") {\n\t\t\t\t\t\tgantt.callEvent(\"onResourcesSelectActivated\", [{ target: input }]);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar resId = itemId;\n\t\t\t\t\tvar defaultValue = sns.default_value;\n\t\t\t\t\tsns.options.forEach(function(option){\n\t\t\t\t\t\tif(option.key == resId && option.default_value){\n\t\t\t\t\t\t\tdefaultValue = option.default_value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif(valueInput && !valueInput.value && defaultValue !== undefined){\n\t\t\t\t\t\tvalueInput.value = defaultValue;\n\t\t\t\t\t\t_saveValues(sns, this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(valueInput.select) {\n\t\t\t\t\t\tvalueInput.select();\n\t\t\t\t\t}else if(valueInput.focus){\n\t\t\t\t\t\tvalueInput.focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\n\t\t\t\t\tif (localCache.resourcesValues[sns.id]) {\n\t\t\t\t\t\tdelete localCache.resourcesValues[sns.id][itemId];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (e.target.type === \"text\" || e.target.nodeName.toLowerCase() === \"select\") {\n\t\t\t\tparent = target.parentNode.parentNode;\n\n\t\t\t\tinput = e.target;\n\t\t\t\t_saveValues(sns, this);\n\t\t\t}\n\t\t}\n\n\t\tfunction _saveValues(sns, domElement) {\n\t\t\tvar selector = _getInputElementSelector();\n\t\t\tvar inputs = domElement.querySelectorAll(selector);\n\n\t\t\tlocalCache.resourcesValues[sns.id] = localCache.resourcesValues[sns.id] || {};\n\n\t\t\tfor (var i = 0; i < inputs.length; i++) {\n\t\t\t\tvar key = inputs[i].getAttribute(\"data-item-id\");\n\n\t\t\t\tif (!inputs[i].disabled) {\n\t\t\t\t\tlocalCache.resourcesValues[sns.id][key] = inputs[i].value;\n\t\t\t\t} else {\n\t\t\t\t\tdelete localCache.resourcesValues[sns.id][key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_applyFilter = helpers.throttle(_applyFilter, 100);\n\n\t\t_getFilterCache(sns).container.addEventListener(\"keyup\", _applyFilter);\n\t\t_getFilterCache(sns).container.addEventListener(\"input\", _applyFilter, true);\n\t\t_getFilterCache(sns).container.addEventListener(\"change\", _applyFilter, true);\n\t\t_getResourcesElement(sns).addEventListener(\"input\", _resourceChangeListener);\n\t\t_getResourcesElement(sns).addEventListener(\"change\", _resourceChangeListener);\n\t\tgantt.attachEvent(\"onResourcesSelectActivated\", gantt.bind(_resourceChangeListener, _getResourcesElement(sns)));\n\t\tlocalCache.eventsInitialized[sns.id] = true;\n\t}\n\n\tfunction _getSnsToHideUnsetted(sns, ev, query, hideUnsetted) {\n\t\tvar comparison;\n\t\tvar resultSns;\n\n\t\tif (!hideUnsetted) {\n\t\t\tif (query === \"\") {// show all\n\t\t\t\treturn sns;\n\t\t\t}\n\n\t\t\tcomparison = function(entry) {// show matching labels only\n\t\t\t\tif (entry.label.toLowerCase().indexOf(query.toLowerCase()) >= 0) {\n\t\t\t\t\treturn entry;\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\tvar collection = ev[sns.map_to] || [];\n\n\t\t\tif (!helpers.isArray(collection)) {\n\t\t\t\tcollection = [collection];\n\t\t\t}\n\t\t\t\n\t\t\t// copy section array in order not to modify ev[sns.map_to]\n\t\t\tcollection = collection.slice();\n\n\t\t\tif (collection.length === 0) {//nothing setted\n\t\t\t\tcollection = [];\n\t\t\t\tresultSns = gantt.copy(sns);\n\t\t\t\tresultSns.options = [];\n\t\t\t\tfor (var key in localCache.resourcesValues[sns.id]) {\n\t\t\t\t\tcollection.push({resource_id: key, value: localCache.resourcesValues[sns.id][key]});\n\t\t\t\t}\n\n\t\t\t\tif (collection.length === 0) {\n\t\t\t\t\treturn resultSns;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var key in localCache.resourcesValues[sns.id]) {\n\t\t\t\t\tvar searchResult = helpers.arrayFind(collection, function(entry) {\n\t\t\t\t\t\treturn entry.id == key;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!searchResult) {\n\t\t\t\t\t\tcollection.push({resource_id: key, value: localCache.resourcesValues[sns.id][key]});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar itemIds = {};\n\n\t\t\tfor (var i=0; i < collection.length; i++) {\n\t\t\t\titemIds[collection[i].resource_id] = true;\n\t\t\t}\n\t\t\tcomparison = function(entry) {//show setted and filtered if field is filled\n\t\t\t\tif (itemIds[String(entry.key)] && (query === \"\" || entry.label.toLowerCase().indexOf(query.toLowerCase()) >= 0)) {\n\t\t\t\t\treturn entry;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tresultSns = gantt.copy(sns);\n\t\tresultSns.options = helpers.arrayFilter(resultSns.options, comparison);\n\t\treturn resultSns;\n\t}\n\n\tfunction _getInputElementSelector(isChecked) {\n\t\tif(isChecked === undefined){\n\t\t\treturn \".gantt_resource_amount_input\";\n\t\t}else{\n\t\t\treturn \"[data-checked='\"+(isChecked ? \"true\" : \"false\") + \"'] .gantt_resource_amount_input\";\n\t\t}\n\t}\n\n\tfunction _setResourcesElement(node, sns) {\n\t\tif (!localCache.resources[sns.id]) {\n\t\t\tlocalCache.resources[sns.id] = node.querySelector(\".gantt_resources\");\n\t\t}\n\t\treturn localCache.resources[sns.id];\n\t}\n\n\tfunction _getResourcesElement(sns) {\n\t\treturn localCache.resources[sns.id];\n\t}\n\n\tfunction _setFilterCache(node, sns) {\n\t\tif (!localCache.filter[sns.id]) {\n\t\t\tvar container = node.querySelector(\".gantt_resources_filter\");\n\t\t\tvar input = container.querySelector(\".gantt_resources_filter_input\");\n\t\t\tvar checkbox = container.querySelector(\".switch_unsetted\");\n\n\t\t\tlocalCache.filter[sns.id] = {\n\t\t\t\tcontainer: container,\n\t\t\t\tinput: input,\n\t\t\t\tcheckbox: checkbox,\n\t\t\t\tfilterApplied: false\n\t\t\t};\n\t\t}\n\t\treturn localCache.filter[sns.id];\n\t}\n\n\tfunction _getFilterCache(sns) {\n\t\treturn localCache.filter[sns.id];\n\t}\n\n\tfunction _clearCached() {\n\t\tfor (var key in localCache.filter) {\n\t\t\tlocalCache.filter[key].checkbox.checked = false;\n\t\t\tlocalCache.filter[key].input.value = \"\";\n\t\t\tlocalCache.filter[key].filterApplied = false;\n\t\t}\n\t\tlocalCache.resourcesValues = {};\n\t}\n\n\tfunction _getDisplayValues(sns, value, option) {\n\t\tvar data = {};\n\n\t\tif (value) {\n\t\t\tvar searchResult;\n\n\t\t\tif (helpers.isArray(value)) {\n\t\t\t\tsearchResult = helpers.arrayFind(value, function(val) {\n\t\t\t\t\treturn (val.resource_id == option.key);\n\t\t\t\t});\n\t\t\t} else if (value.resource_id == option.key) {\n\t\t\t\tsearchResult = value;\n\t\t\t}\n\n\t\t\tif (searchResult) {\n\t\t\t\tdata.value = searchResult.value;\n\t\t\t}\n\t\t}\n\t\tif (localCache.resourcesValues[sns.id] && localCache.resourcesValues[sns.id][option.key]) {\n\t\t\tdata.value = localCache.resourcesValues[sns.id][option.key];\n\t\t}\n\t\treturn data;\n\t}\n\n\treturn ResourcesControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./select_control\")(gantt);\n\n\tfunction ParentControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\t__extends(ParentControl, _super);\n\n\n\tParentControl.prototype.render = function(sns) {\n\t\treturn _display(sns, false);\n\t};\n\n\tParentControl.prototype.set_value = function(node, value, ev, config) {\n\t\tvar tmpDom = document.createElement(\"div\");\n\t\ttmpDom.innerHTML = _display(config, ev.id);\n\t\tvar newOptions = tmpDom.removeChild(tmpDom.firstChild);\n\t\tnode.onselect = null;\n\t\tnode.parentNode.replaceChild(newOptions, node);\n\n\t\treturn gantt.form_blocks.select.set_value.apply(gantt, [newOptions, value, ev, config]);\n\t};\n\n\tfunction _display(config, item_id) {\n\t\tvar tasks = [],\n\t\t\toptions = [];\n\t\tif (item_id) {\n\t\t\ttasks = gantt.getTaskByTime();\n\t\t\tif (config.allow_root) {\n\t\t\t\ttasks.unshift({id: gantt.config.root_id, text: config.root_label || \"\"});\n\t\t\t}\n\t\t\ttasks = _filter(tasks, config, item_id);\n\t\t\tif (config.sort) {\n\t\t\t\ttasks.sort(config.sort);\n\t\t\t}\n\t\t}\n\t\tvar text = config.template || gantt.templates.task_text;\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tvar label = text.apply(gantt, [tasks[i].start_date, tasks[i].end_date, tasks[i]]);\n\t\t\tif (label === undefined) {\n\t\t\t\tlabel = \"\";\n\t\t\t}\n\t\t\toptions.push({\n\t\t\t\tkey: tasks[i].id,\n\t\t\t\tlabel: label\n\t\t\t});\n\t\t}\n\t\tconfig.options = options;\n\t\tconfig.map_to = config.map_to || \"parent\";\n\t\treturn gantt.form_blocks.select.render.apply(this, arguments);\n\t}\n\n\tfunction _filter(options, config, item_id) {\n\t\tvar filter = config.filter || function() {\n\t\t\treturn true;\n\t\t};\n\n\t\toptions = options.slice(0);\n\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tvar task = options[i];\n\t\t\tif (task.id == item_id || gantt.isChildOf(task.id, item_id) || filter(task.id, task) === false) {\n\t\t\t\toptions.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t}\n\treturn ParentControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction DurationControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\t__extends(DurationControl, _super);\n\n\tDurationControl.prototype.render = function(sns) {\n\t\tvar time = \"<div class='gantt_time_selects'>\" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</div>\";\n\t\tvar label = gantt.locale.labels[gantt.config.duration_unit + \"s\"];\n\t\tvar singleDate = sns.single_date ? \" style='display:none'\" : \"\";\n\t\tvar readonly = sns.readonly ? \" disabled='disabled'\" : \"\";\n\t\tvar ariaAttr = gantt._waiAria.lightboxDurationInputAttrString(sns);\n\t\tvar duration = \"<div class='gantt_duration' \" + singleDate + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_dec' value='−'\" + readonly + \">\" +\n\t\t\t\"<input type='text' value='5' class='gantt_duration_value'\" + readonly + \" \" + ariaAttr + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_inc' value='+'\" + readonly + \"> \" + label + \" <span></span>\" +\n\t\t\t\"</div>\";\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>\" + time + \" \" + duration + \"</div>\";\n\t\treturn html;\n\t};\n\n\tDurationControl.prototype.set_value = function(node, value, ev, config) {\n\t\tvar cfg = config;\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar inps = node.getElementsByTagName(\"input\");\n\t\tvar duration = inps[1];\n\t\tvar btns = [inps[0], inps[2]];\n\t\tvar endspan = node.getElementsByTagName(\"span\")[0];\n\t\tvar map = config._time_format_order;\n\t\tvar mapping;\n\t\tvar start_date;\n\t\tvar end_date;\n\t\tvar duration_val;\n\n\t\tfunction _calc_date() {\n\t\t\tvar start_date = _getStartDate.call(gantt, node, config);\n\t\t\tvar duration = _getDuration.call(gantt, node, config);\n\t\t\tvar end_date = gantt.calculateEndDate({start_date: start_date, duration: duration, task: ev});\n\n\t\t\tendspan.innerHTML = gantt.templates.task_date(end_date);\n\t\t}\n\n\t\tfunction _change_duration(step) {\n\t\t\tvar value = duration.value;\n\n\t\t\tvalue = parseInt(value, 10);\n\t\t\tif (window.isNaN(value))\n\t\t\t\tvalue = 0;\n\t\t\tvalue += step;\n\t\t\tif (value < 1) value = 1;\n\t\t\tduration.value = value;\n\t\t\t_calc_date();\n\t\t}\n\n\t\tbtns[0].onclick = gantt.bind(function() {\n\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t}, this);\n\t\tbtns[1].onclick = gantt.bind(function() {\n\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t}, this);\n\t\ts[0].onchange = _calc_date;\n\t\ts[1].onchange = _calc_date;\n\t\ts[2].onchange = _calc_date;\n\t\tif (s[3]) s[3].onchange = _calc_date;\n\n\t\tduration.onkeydown = gantt.bind(function(e) {\n\t\t\tvar code; \n\n\t\t\te = e || window.event;\n\t\t\tcode = (e.charCode || e.keyCode || e.which);\n\t\t\t\n\t\t\tif (code == gantt.constants.KEY_CODES.DOWN) {\n\t\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (code == gantt.constants.KEY_CODES.UP) {\n\t\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\twindow.setTimeout(_calc_date, 1);\n\t\t}, this);\n\n\t\tduration.onchange = gantt.bind(_calc_date, this);\n\n\t\tmapping = gantt._resolve_default_mapping(config);\n\t\tif (typeof(mapping) === \"string\") mapping = {start_date: mapping};\n\n\t\tstart_date = ev[mapping.start_date] || new Date();\n\t\tend_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\t\tduration_val = Math.round(ev[mapping.duration]) || gantt.calculateDuration({\n\t\t\tstart_date: start_date,\n\t\t\tend_date: end_date,\n\t\t\ttask: ev\n\t\t});\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, cfg);\n\t\tduration.value = duration_val;\n\t\t_calc_date();\n\t};\n\n\tDurationControl.prototype.get_value = function(node, ev, config) {\n\t\tvar startDate = _getStartDate(node, config);\n\t\tvar duration = _getDuration(node, config);\n\t\tvar endDate = gantt.calculateEndDate({start_date: startDate, duration: duration, task: ev});\n\n\t\tif (typeof gantt._resolve_default_mapping(config) == \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: endDate,\n\t\t\tduration: duration\n\t\t};\n\t};\n\n\tDurationControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\n\tfunction _getStartDate(node, config) {\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\t\tvar hours = 0;\n\t\tvar minutes = 0;\n\n\t\tif (gantt.defined(map[3])) {\n\t\t\tvar input = s[map[3]];\n\t\t\tvar time = parseInt(input.value, 10);\n\t\t\tif (isNaN(time) && input.hasAttribute(\"data-value\")) {\n\t\t\t\ttime = parseInt(input.getAttribute(\"data-value\"), 10);\n\t\t\t}\n\n\t\t\thours = Math.floor(time / 60);\n\t\t\tminutes = time % 60;\n\t\t}\n\t\treturn new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, hours, minutes);\n\t}\n\n\tfunction _getDuration(node) {\n\t\tvar duration = node.getElementsByTagName(\"input\")[1];\n\n\t\tduration = parseInt(duration.value, 10);\n\t\tif (!duration || window.isNaN(duration)) duration = 1;\n\t\tif (duration < 0) duration *= -1;\n\t\treturn duration;\n\t}\n\n\n\treturn DurationControl; \n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction RadioControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(RadioControl, _super);\n\n\tRadioControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='radio' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tRadioControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar radio;\n\n\t\tif (!sns.options || !sns.options.length) return;\n\n\t\tradio = node.querySelector(\"input[type=radio][value='\" + value + \"']\") ||\n\t\t\t\tnode.querySelector(\"input[type=radio][value='\" + sns.default_value + \"']\");\n\n\t\tif (!radio) return;\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\tradio.checked = true;\n\t};\n\n\tRadioControl.prototype.get_value = function(node, ev) {\n\t\tvar result = node.querySelector(\"input[type=radio]:checked\");\n\n\t\treturn result ? result.value : \"\";\n\t};\n\n\tRadioControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=radio]\"));\n\t};\n\n\treturn RadioControl;\n};","var helpers = require(\"../../../utils/helpers\");\nvar __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction CheckboxControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(CheckboxControl, _super);\n\n\tCheckboxControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='checkbox' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tCheckboxControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar checkboxes = Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]\"));\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\thelpers.forEach(checkboxes, function(entry) {\n\t\t\tentry.checked = value ? value.indexOf(entry.value) >= 0 : false;\n\t\t});\n\t};\n\n\tCheckboxControl.prototype.get_value = function(node) {\n\t\treturn helpers.arrayMap(Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]:checked\")), function(entry) {\n\t\t\treturn entry.value;\n\t\t});\n\t};\n\n\tCheckboxControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=checkbox]\"));\n\t};\n\n\treturn CheckboxControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TimeControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(TimeControl, _super);\n\n\tTimeControl.prototype.render = function (sns) {\n\t\tvar time = gantt.form_blocks.getTimePicker.call(this, sns);\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>\";\n\t\thtml += time;\n\n\t\tif (sns.single_date) {\n\t\t\ttime = gantt.form_blocks.getTimePicker.call(this, sns, true);\n\t\t\thtml += \"<span></span>\";\n\t\t} else {\n\t\t\thtml += \"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>\";\n\t\t}\n\n\t\thtml += time;\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tTimeControl.prototype.set_value = function (node, value, ev, config) {\n\t\tvar cfg = config;\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\n\t\tif (cfg.auto_end_date) {\n\t\t\tvar _update_lightbox_select = function () {\n\t\t\t\tstart_date = new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, 0, 0);\n\t\t\t\tend_date = gantt.calculateEndDate({ start_date: start_date, duration: 1, task: ev });\n\t\t\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t\t\t};\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\ts[i].onchange = _update_lightbox_select;\n\t\t\t}\n\t\t}\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (typeof (mapping) === \"string\") mapping = { start_date: mapping };\n\n\t\tvar start_date = ev[mapping.start_date] || new Date();\n\t\tvar end_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, cfg);\n\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t};\n\n\tTimeControl.prototype.get_value = function (node, ev, config) {\n\t\tvar selects = node.getElementsByTagName(\"select\");\n\t\tvar startDate;\n\t\tvar map = config._time_format_order;\n\t\tfunction _getEndDate(selects, map, startDate) {\n\t\t\tvar endDate = gantt.form_blocks.getTimePickerValue(selects, config, map.size);\n\n\t\t\tif (endDate <= startDate) {\n\t\t\t\treturn gantt.date.add(startDate, gantt._get_timepicker_step(), \"minute\");\n\t\t\t}\n\t\t\treturn endDate;\n\t\t}\n\n\t\tstartDate = gantt.form_blocks.getTimePickerValue(selects, config);\n\n\t\tif (typeof gantt._resolve_default_mapping(config) === \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: _getEndDate(selects, map, startDate)\n\t\t};\n\t};\n\n\tTimeControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\treturn TimeControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TextareaControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(TextareaControl, _super);\n\n\tTextareaControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"130\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext' style='height:\" + height + \";'><textarea></textarea></div>\";\n\t};\n\n\tTextareaControl.prototype.set_value = function(node, value) {\n\t\tgantt.form_blocks.textarea._get_input(node).value = value || \"\";\n\t};\n\n\tTextareaControl.prototype.get_value = function(node) {\n\t\treturn gantt.form_blocks.textarea._get_input(node).value;\n\t};\n\n\tTextareaControl.prototype.focus = function(node) {\n\t\tvar a = gantt.form_blocks.textarea._get_input(node);\n\t\tgantt._focus(a, true);\n\t};\n\n\tTextareaControl.prototype._get_input = function(node) {\n\t\treturn node.querySelector(\"textarea\");\n\t};\n\n\treturn TextareaControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TemplateControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\t\treturn self; \n\t}\n\n\t__extends(TemplateControl, _super);\n\n\n\tTemplateControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"30\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext gantt_cal_template' style='height:\" + height + \";'></div>\";\n\t};\n\n\tTemplateControl.prototype.set_value = function(node, value) {\n\t\tnode.innerHTML = value || \"\";\n\t};\n\n\tTemplateControl.prototype.get_value = function(node) {\n\t\treturn node.innerHTML || \"\";\n\t};\n\n\tTemplateControl.prototype.focus = function() {};\n\n\treturn TemplateControl;\n};","module.exports = function (gantt) {\n\tvar domHelpers = require(\"../../utils/dom_helpers\");\n\tvar helpers = require(\"../../utils/helpers\");\n\n\tvar TemplateControl = require(\"./controls/template_control\")(gantt);\n\tvar TextareaControl = require(\"./controls/textarea_control\")(gantt);\n\tvar TimeControl = require(\"./controls/time_control\")(gantt);\n\tvar SelectControl = require(\"./controls/select_control\")(gantt);\n\tvar CheckboxControl = require(\"./controls/checkbox_control\")(gantt);\n\tvar RadioControl = require(\"./controls/radio_control\")(gantt);\n\tvar DurationControl = require(\"./controls/duration_control\")(gantt);\n\tvar ParentControl = require(\"./controls/parent_control\")(gantt);\n\tvar ResourcesControl = require(\"./controls/resources_control\")(gantt);\n\tvar ConstraintControl = require(\"./controls/constraint_control\")(gantt);\n\n\n\tgantt._lightbox_methods = {};\n\tgantt._lightbox_template = \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>\";\n\n\n\t//TODO: gantt._lightbox_id is changed from data.js and accessed from autoscheduling, check if it can be removed from gantt object\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"lightbox\", function () {\n\t\treturn {\n\t\t\tlightbox: gantt._lightbox_id\n\t\t};\n\t});\n\n\tgantt.showLightbox = function (id) {\n\t\tif (!id || gantt.isReadonly(this.getTask(id))) return;\n\t\tif (!this.callEvent(\"onBeforeLightbox\", [id])) return;\n\n\t\tvar task = this.getTask(id);\n\n\t\tvar box = this.getLightbox(this.getTaskType(task.type));\n\t\tthis._center_lightbox(box);\n\t\tthis.showCover();\n\t\tthis._fill_lightbox(id, box);\n\n\t\tthis._waiAria.lightboxVisibleAttr(box);\n\n\t\tthis.callEvent(\"onLightbox\", [id]);\n\t};\n\n\tfunction _is_chart_visible(gantt) {\n\t\tvar timeline = gantt.$ui.getView(\"timeline\");\n\t\tif (timeline && timeline.isVisible()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgantt._get_timepicker_step = function () {\n\t\tif (this.config.round_dnd_dates) {\n\t\t\tvar step;\n\t\t\tif (_is_chart_visible(this)) {\n\t\t\t\tvar scale = gantt.getScale();\n\t\t\t\tstep = (helpers.getSecondsInUnit(scale.unit) * scale.step) / 60;//timepicker step is measured in minutes\n\t\t\t}\n\n\t\t\tif (!step || step >= 60 * 24) {\n\t\t\t\tstep = this.config.time_step;\n\t\t\t}\n\t\t\treturn step;\n\t\t}\n\t\treturn this.config.time_step;\n\t};\n\tgantt.getLabel = function (property, key) {\n\t\tvar sections = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sections.length; i++) {\n\t\t\tif (sections[i].map_to == property) {\n\t\t\t\tvar options = sections[i].options;\n\t\t\t\tfor (var j = 0; j < options.length; j++) {\n\t\t\t\t\tif (options[j].key == key) {\n\t\t\t\t\t\treturn options[j].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tgantt.updateCollection = function (list_name, collection) {\n\t\tcollection = collection.slice(0);\n\t\tvar list = gantt.serverList(list_name);\n\t\tif (!list) return false;\n\t\tlist.splice(0, list.length);\n\t\tlist.push.apply(list, collection || []);\n\t\tgantt.resetLightbox();\n\t};\n\tgantt.getLightboxType = function () {\n\t\treturn this.getTaskType(this._lightbox_type);\n\t};\n\tgantt.getLightbox = function (type) {\n\t\tvar lightboxDiv;\n\t\tvar fullWidth;\n\t\tvar html;\n\t\tvar sns;\n\t\tvar ds;\n\t\tvar classNames = \"\";\n\n\t\tif (type === undefined)\n\t\t\ttype = this.getLightboxType();\n\n\t\tif (!this._lightbox || this.getLightboxType() != this.getTaskType(type)) {\n\t\t\tthis._lightbox_type = this.getTaskType(type);\n\t\t\tlightboxDiv = document.createElement(\"div\");\n\t\t\tclassNames = \"gantt_cal_light\";\n\t\t\tfullWidth = this._is_lightbox_timepicker();\n\n\t\t\tif (gantt.config.wide_form || fullWidth)\n\t\t\t\tclassNames += \" gantt_cal_light_wide\";\n\n\t\t\tif (fullWidth) {\n\t\t\t\tgantt.config.wide_form = true;\n\t\t\t\tclassNames += \" gantt_cal_light_full\";\n\t\t\t}\n\n\t\t\tlightboxDiv.className = classNames;\n\n\t\t\tlightboxDiv.style.visibility = \"hidden\";\n\t\t\thtml = this._lightbox_template;\n\n\t\t\thtml += getHtmlButtons(this.config.buttons_left);\n\t\t\thtml += getHtmlButtons(this.config.buttons_right, true);\n\n\t\t\tlightboxDiv.innerHTML = html;\n\n\t\t\tgantt._waiAria.lightboxAttr(lightboxDiv);\n\n\t\t\tif (gantt.config.drag_lightbox) {\n\t\t\t\tlightboxDiv.firstChild.onmousedown = gantt._ready_to_dnd;\n\t\t\t\tlightboxDiv.firstChild.onselectstart = function () {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\tlightboxDiv.firstChild.style.cursor = \"pointer\";\n\t\t\t\tgantt._init_dnd_events();\n\t\t\t}\n\n\t\t\tdocument.body.insertBefore(lightboxDiv, document.body.firstChild);\n\t\t\tthis._lightbox = lightboxDiv;\n\n\t\t\tsns = this._get_typed_lightbox_config(type);\n\t\t\thtml = this._render_sections(sns);\n\n\t\t\tds = lightboxDiv.querySelector(\"div.gantt_cal_larea\");\n\t\t\tds.innerHTML = html;\n\n\t\t\tbindLabelsToInputs(sns);\n\n\t\t\t//sizes\n\t\t\tthis.resizeLightbox();\n\n\t\t\tthis._init_lightbox_events(this);\n\t\t\tlightboxDiv.style.display = \"none\";\n\t\t\tlightboxDiv.style.visibility = \"visible\";\n\t\t}\n\t\treturn this._lightbox;\n\t};\n\n\tgantt._render_sections = function (sns) {\n\t\tvar html = \"\";\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue; //ignore incorrect blocks\n\t\t\tsns[i].id = \"area_\" + this.uid();\n\n\t\t\tvar display = sns[i].hidden ? \" style='display:none'\" : \"\";\n\t\t\tvar button = \"\";\n\t\t\tif (sns[i].button) {\n\t\t\t\tbutton = \"<div class='gantt_custom_button' data-index='\" + i + \"'><div class='gantt_custom_button_\" + sns[i].button + \"'></div><div class='gantt_custom_button_label'>\" + this.locale.labels[\"button_\" + sns[i].button] + \"</div></div>\";\n\t\t\t}\n\t\t\tif (this.config.wide_form) {\n\t\t\t\thtml += \"<div class='gantt_wrap_section' \" + display + \">\";\n\t\t\t}\n\t\t\thtml += \"<div id='\" + sns[i].id + \"' class='gantt_cal_lsection'><label>\" + button + this.locale.labels[\"section_\" + sns[i].name] + \"</label></div>\" + block.render.call(this, sns[i]);\n\t\t\thtml += \"</div>\";\n\t\t}\n\t\treturn html;\n\t};\n\n\n\tgantt.resizeLightbox = function () {\n\t\tif (!this._lightbox) return;\n\n\t\tvar con = this._lightbox.childNodes[1];\n\t\tcon.style.height = \"0px\";\n\t\tcon.style.height = con.scrollHeight + \"px\";\n\t\tthis._lightbox.style.height = con.scrollHeight + this.config.lightbox_additional_height + \"px\";\n\t\tcon.style.height = con.scrollHeight + \"px\"; //it is incredible , how ugly IE can be\n\t};\n\n\tgantt._center_lightbox = function (box) {\n\t\tif (box) {\n\t\t\tbox.style.display = \"block\";\n\n\t\t\tvar scroll_top = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\t\t\tvar scroll_left = window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft;\n\n\t\t\tvar view_height = window.innerHeight || document.documentElement.clientHeight;\n\n\t\t\tif (scroll_top) // if vertical scroll on window\n\t\t\t\tbox.style.top = Math.round(scroll_top + Math.max((view_height - box.offsetHeight) / 2, 0)) + \"px\";\n\t\t\telse // vertical scroll on body\n\t\t\t\tbox.style.top = Math.round(Math.max(((view_height - box.offsetHeight) / 2), 0) + 9) + \"px\"; // +9 for compatibility with auto tests\n\n\t\t\t// not quite accurate but used for compatibility reasons\n\t\t\tif (document.documentElement.scrollWidth > document.body.offsetWidth) // if horizontal scroll on the window\n\t\t\t\tbox.style.left = Math.round(scroll_left + (document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t\telse // horizontal scroll on the body\n\t\t\t\tbox.style.left = Math.round((document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t}\n\t};\n\tgantt.showCover = function () {\n\t\tif (this._cover) return;\n\n\t\tthis._cover = document.createElement(\"DIV\");\n\t\tthis._cover.className = \"gantt_cal_cover\";\n\t\tvar _document_height = ((document.height !== undefined) ? document.height : document.body.offsetHeight);\n\t\tvar _scroll_height = ((document.documentElement) ? document.documentElement.scrollHeight : 0);\n\t\tthis._cover.style.height = Math.max(_document_height, _scroll_height) + \"px\";\n\t\tdocument.body.appendChild(this._cover);\n\t};\n\n\n\tgantt._init_lightbox_events = function () {\n\t\tgantt.lightbox_events = {};\n\n\n\t\tgantt.lightbox_events.gantt_save_btn = function () {\n\t\t\tgantt._save_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_delete_btn = function () {\n\t\t\tif (!gantt.callEvent(\"onLightboxDelete\", [gantt._lightbox_id]))\n\t\t\t\treturn;\n\n\t\t\tif (gantt.isTaskExists(gantt._lightbox_id)) {\n\t\t\t\tgantt.$click.buttons[\"delete\"](gantt._lightbox_id);\n\t\t\t} else {\n\t\t\t\tgantt.hideLightbox();\n\t\t\t}\n\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_cancel_btn = function () {\n\t\t\tgantt._cancel_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events[\"default\"] = function (e, src) {\n\t\t\tif (src.getAttribute(\"data-dhx-button\")) {\n\t\t\t\tgantt.callEvent(\"onLightboxButton\", [src.className, src, e]);\n\t\t\t} else {\n\t\t\t\tvar index, block, sec;\n\n\t\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\t\tif (className.indexOf(\"gantt_custom_button\") != -1) {\n\t\t\t\t\tif (className.indexOf(\"gantt_custom_button_\") != -1) {\n\t\t\t\t\t\tindex = src.parentNode.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src;\n\t\t\t\t\t\twhile (sec && domHelpers.getClassName(sec).indexOf(\"gantt_cal_lsection\") == -1) {\n\t\t\t\t\t\t\tsec = sec.parentNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = src.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src.parentNode;\n\t\t\t\t\t\tsrc = src.firstChild;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar sections = gantt._get_typed_lightbox_config();\n\n\t\t\t\tif (index) {\n\t\t\t\t\tindex = index * 1;\n\t\t\t\t\tblock = gantt.form_blocks[sections[index * 1].type];\n\t\t\t\t\tblock.button_click(index, src, sec, sec.nextSibling);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthis.event(gantt.getLightbox(), \"click\", function (e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target ? e.target : e.srcElement;\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tif (!className) {\n\t\t\t\tsrc = src.previousSibling;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className && className.indexOf(\"gantt_btn_set\") === 0) {\n\t\t\t\tsrc = src.firstChild;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className) {\n\t\t\t\tvar func = gantt.defined(gantt.lightbox_events[src.className]) ? gantt.lightbox_events[src.className] : gantt.lightbox_events[\"default\"];\n\t\t\t\treturn func(e, src);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tgantt.getLightbox().onkeydown = function (e) {\n\t\t\tvar event = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\t\t\tvar buttonTarget = domHelpers.getClassName(target).indexOf(\"gantt_btn_set\") > -1;\n\n\t\t\tswitch ((e || event).keyCode) {\n\t\t\t\tcase gantt.constants.KEY_CODES.SPACE: {\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt._save_lightbox();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tgantt._cancel_lightbox();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t};\n\n\tgantt._cancel_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tthis.callEvent(\"onLightboxCancel\", [this._lightbox_id, task.$new]);\n\t\tif (gantt.isTaskExists(task.id) && task.$new) {\n\t\t\tthis.silent(function () {\n\t\t\t\tgantt.$data.tasksStore.removeItem(task.id);\n\t\t\t\tgantt._update_flags(task.id, null);\n\t\t\t});\n\t\t}\n\n\t\tthis.refreshData();\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._save_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tif (!this.callEvent(\"onLightboxSave\", [this._lightbox_id, task, !!task.$new]))\n\t\t\treturn;\n\n\t\tif (task.$new) {\n\t\t\tdelete task.$new;\n\t\t\tthis.addTask(task, task.parent, this.getTaskIndex(task.id));\n\t\t} else if (this.isTaskExists(task.id)) {\n\t\t\tthis.mixin(this.getTask(task.id), task, true);\n\t\t\tthis.refreshTask(task.id);\n\t\t\tthis.updateTask(task.id);\n\t\t}\n\t\tthis.refreshData();\n\n\t\t// TODO: do we need any blockable events here to prevent closing lightbox?\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._resolve_default_mapping = function (section) {\n\t\tvar mapping = section.map_to;\n\t\tvar time_controls = { \"time\": true, \"time_optional\": true, \"duration\": true, \"duration_optional\": true };\n\t\tif (time_controls[section.type]) {\n\t\t\tif (section.map_to == \"auto\") {\n\t\t\t\tmapping = { start_date: \"start_date\", end_date: \"end_date\", duration: \"duration\" };\n\t\t\t} else if (typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { start_date: section.map_to };\n\t\t\t}\n\t\t} else if (section.type === \"constraint\") {\n\t\t\tif (!section.map_to || typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { constraint_type: \"constraint_type\", constraint_date: \"constraint_date\" };\n\t\t\t}\n\t\t}\n\n\t\treturn mapping;\n\t};\n\n\tgantt.getLightboxValues = function () {\n\t\tvar task = {};\n\n\t\tif (gantt.isTaskExists(this._lightbox_id)) {\n\t\t\ttask = this.mixin({}, this.getTask(this._lightbox_id));\n\t\t}\n\n\t\tvar sns = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar node = document.getElementById(sns[i].id);\n\t\t\tnode = (node ? node.nextSibling : node);\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue;\n\t\t\tvar res = block.get_value.call(this, node, task, sns[i]);\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tif (typeof map_to == \"string\" && map_to != \"auto\") {\n\t\t\t\ttask[map_to] = res;\n\t\t\t} else if (typeof map_to == \"object\") {\n\t\t\t\tfor (var property in map_to) {\n\t\t\t\t\tif (map_to[property])\n\t\t\t\t\t\ttask[map_to[property]] = res[property];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn task;\n\t};\n\n\n\tgantt.hideLightbox = function () {\n\t\tvar box = this.getLightbox();\n\t\tif (box) box.style.display = \"none\";\n\n\t\tthis._waiAria.lightboxHiddenAttr(box);\n\t\tthis._lightbox_id = null;\n\n\t\tthis.hideCover();\n\t\tthis.callEvent(\"onAfterLightbox\", []);\n\t};\n\tgantt.hideCover = function () {\n\t\tif (this._cover)\n\t\t\tthis._cover.parentNode.removeChild(this._cover);\n\t\tthis._cover = null;\n\t};\n\n\tgantt.resetLightbox = function () {\n\t\tif (gantt._lightbox && !gantt._custom_lightbox)\n\t\t\tgantt._lightbox.parentNode.removeChild(gantt._lightbox);\n\t\tgantt._lightbox = null;\n\t\tgantt.hideCover();\n\t};\n\tgantt._set_lightbox_values = function (data, box) {\n\t\tvar task = data;\n\t\tvar s = box.getElementsByTagName(\"span\");\n\t\tvar lightboxHeader = [];\n\t\tif (gantt.templates.lightbox_header) {\n\t\t\tlightboxHeader.push(\"\");\n\t\t\tlightboxHeader.push(gantt.templates.lightbox_header(task.start_date, task.end_date, task));\n\t\t\ts[1].innerHTML = \"\";\n\t\t\ts[2].innerHTML = gantt.templates.lightbox_header(task.start_date, task.end_date, task);\n\t\t} else {\n\t\t\tlightboxHeader.push(this.templates.task_time(task.start_date, task.end_date, task));\n\t\t\tlightboxHeader.push(String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70)); //IE6 fix\n\t\t\ts[1].innerHTML = this.templates.task_time(task.start_date, task.end_date, task);\n\t\t\ts[2].innerHTML = String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70); //IE6 fix\n\t\t}\n\t\ts[1].innerHTML = lightboxHeader[0];\n\t\ts[2].innerHTML = lightboxHeader[1];\n\n\t\tgantt._waiAria.lightboxHeader(box, lightboxHeader.join(\" \"));\n\n\t\tvar sns = this._get_typed_lightbox_config(this.getLightboxType());\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar section = sns[i];\n\n\t\t\tif (!this.form_blocks[section.type]) {\n\t\t\t\tcontinue;//skip incorrect sections, same check is done during rendering\n\t\t\t}\n\n\n\t\t\tvar node = document.getElementById(section.id).nextSibling;\n\t\t\tvar block = this.form_blocks[section.type];\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tvar value = this.defined(task[map_to]) ? task[map_to] : section.default_value;\n\t\t\tblock.set_value.call(gantt, node, value, task, section);\n\n\t\t\tif (section.focus)\n\t\t\t\tblock.focus.call(gantt, node);\n\t\t}\n\t\tif (data.id)\n\t\t\tgantt._lightbox_id = data.id;\n\t};\n\tgantt._fill_lightbox = function (id, box) {\n\t\tvar task = this.getTask(id);\n\t\tthis._set_lightbox_values(task, box);\n\t};\n\n\n\tgantt.getLightboxSection = function (name) {\n\t\tvar config = this._get_typed_lightbox_config();\n\t\tvar i = 0;\n\t\tfor (i; i < config.length; i++)\n\t\t\tif (config[i].name == name)\n\t\t\t\tbreak;\n\t\tvar section = config[i];\n\t\tif (!section)\n\t\t\treturn null;\n\n\t\tif (!this._lightbox)\n\t\t\tthis.getLightbox();\n\t\tvar header = document.getElementById(section.id);\n\t\tvar node = header.nextSibling;\n\n\t\tvar result = {\n\t\t\tsection: section,\n\t\t\theader: header,\n\t\t\tnode: node,\n\t\t\tgetValue: function (ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].get_value.call(gantt, node, (ev || {}), section);\n\t\t\t},\n\t\t\tsetValue: function (value, ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].set_value.call(gantt, node, value, (ev || {}), section);\n\t\t\t}\n\t\t};\n\n\t\tvar handler = this._lightbox_methods[\"get_\" + section.type + \"_control\"];\n\t\treturn handler ? handler(result) : result;\n\t};\n\n\tgantt._lightbox_methods.get_template_control = function (result) {\n\t\tresult.control = result.node;\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_select_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_textarea_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"textarea\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_time_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\"); // array\n\t\treturn result;\n\t};\n\n\n\tgantt._init_dnd_events = function () {\n\t\tthis.event(document.body, \"mousemove\", gantt._move_while_dnd);\n\t\tthis.event(document.body, \"mouseup\", gantt._finish_dnd);\n\t\tgantt._init_dnd_events = function () {\n\t\t};\n\t};\n\tgantt._move_while_dnd = function (e) {\n\t\tif (gantt._dnd_start_lb) {\n\t\t\tif (!document.gantt_unselectable) {\n\t\t\t\tdocument.body.className += \" gantt_unselectable\";\n\t\t\t\tdocument.gantt_unselectable = true;\n\t\t\t}\n\t\t\tvar lb = gantt.getLightbox();\n\t\t\tvar now = (e && e.target) ? [e.pageX, e.pageY] : [event.clientX, event.clientY];\n\t\t\tlb.style.top = gantt._lb_start[1] + now[1] - gantt._dnd_start_lb[1] + \"px\";\n\t\t\tlb.style.left = gantt._lb_start[0] + now[0] - gantt._dnd_start_lb[0] + \"px\";\n\t\t}\n\t};\n\tgantt._ready_to_dnd = function (e) {\n\t\tvar lb = gantt.getLightbox();\n\t\tgantt._lb_start = [parseInt(lb.style.left, 10), parseInt(lb.style.top, 10)];\n\t\tgantt._dnd_start_lb = (e && e.target) ? [e.pageX, e.pageY] : [event.clientX, event.clientY];\n\t};\n\tgantt._finish_dnd = function () {\n\t\tif (gantt._lb_start) {\n\t\t\tgantt._lb_start = gantt._dnd_start_lb = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_unselectable\", \"\");\n\t\t\tdocument.gantt_unselectable = false;\n\t\t}\n\t};\n\n\n\tgantt._focus = function (node, select) {\n\t\tif (node && node.focus) {\n\t\t\tif (gantt.config.touch) {\n\t\t\t\t//do not focus editor, to prevent auto-zoom\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tif (select && node.select) node.select();\n\t\t\t\t\tnode.focus();\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// silent errors\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\tgantt.form_blocks = {\n\t\tgetTimePicker: function (sns, hidden) {\n\t\t\tvar html = \"\";\n\t\t\tvar cfg = this.config;\n\t\t\tvar i;\n\t\t\tvar options;\n\t\t\tvar ariaAttrs;\n\t\t\tvar readonly;\n\t\t\tvar display;\n\t\t\tvar settings = {\n\t\t\t\tfirst: 0,\n\t\t\t\tlast: 24 * 60,\n\t\t\t\tdate: this.date.date_part(new Date(gantt._min_date.valueOf())),\n\t\t\t\ttimeFormat: getTimeFormat(sns)\n\t\t\t};\n\n\t\t\t// map: default order => real one\n\t\t\tsns._time_format_order = { size: 0 };\n\n\t\t\tif (gantt.config.limit_time_select) {\n\t\t\t\tsettings.first = 60 * cfg.first_hour;\n\t\t\t\tsettings.last = 60 * cfg.last_hour + 1;\n\t\t\t\tsettings.date.setHours(cfg.first_hour);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < settings.timeFormat.length; i++) {\n\t\t\t\t// adding spaces between selects\n\t\t\t\tif (i > 0) {\n\t\t\t\t\thtml += \" \";\n\t\t\t\t}\n\n\t\t\t\toptions = getHtmlTimePickerOptions(sns, i, settings);\n\n\t\t\t\tif (options) {\n\t\t\t\t\tariaAttrs = gantt._waiAria.lightboxSelectAttrString(settings.timeFormat[i]);\n\t\t\t\t\treadonly = sns.readonly ? \"disabled='disabled'\" : \"\";\n\t\t\t\t\tdisplay = hidden ? \" style='display:none' \" : \"\";\n\t\t\t\t\thtml += \"<select \" + readonly + display + ariaAttrs + \">\" + options + \"</select>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\tgetTimePickerValue: function (selects, config, offset) {\n\t\t\tvar map = config._time_format_order;\n\t\t\tvar needSetTime = gantt.defined(map[3]);\n\n\t\t\tvar time;\n\t\t\tvar hours = 0;\n\t\t\tvar minutes = 0;\n\n\t\t\tvar mapOffset = offset || 0;\n\n\t\t\tif (needSetTime) {\n\t\t\t\ttime = parseInt(selects[map[3] + mapOffset].value, 10);\n\t\t\t\thours = Math.floor(time / 60);\n\t\t\t\tminutes = time % 60;\n\t\t\t}\n\t\t\treturn new Date(selects[map[2] + mapOffset].value, selects[map[1] + mapOffset].value, selects[map[0] + mapOffset].value, hours, minutes);\n\t\t},\n\n\t\t_fill_lightbox_select: function (s, i, d, map) {\n\t\t\ts[i + map[0]].value = d.getDate();\n\t\t\ts[i + map[1]].value = d.getMonth();\n\t\t\ts[i + map[2]].value = d.getFullYear();\n\t\t\tif (gantt.defined(map[3])) {\n\t\t\t\tvar v = d.getHours() * 60 + d.getMinutes();\n\t\t\t\tv = Math.round(v / gantt._get_timepicker_step()) * gantt._get_timepicker_step();\n\t\t\t\tvar input = s[i + map[3]];\n\t\t\t\tinput.value = v;\n\t\t\t\t//in case option not shown\n\t\t\t\tinput.setAttribute(\"data-value\", v);\n\t\t\t}\n\t\t},\n\t\ttemplate: new TemplateControl(),\n\t\ttextarea: new TextareaControl(),\n\t\tselect: new SelectControl(),\n\t\ttime: new TimeControl(),\n\t\tduration: new DurationControl(),\n\t\tparent: new ParentControl(),\n\t\tradio: new RadioControl(),\n\t\tcheckbox: new CheckboxControl(),\n\t\tresources: new ResourcesControl(),\n\t\tconstraint: new ConstraintControl()\n\t};\n\n\tgantt._is_lightbox_timepicker = function () {\n\t\tvar s = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < s.length; i++)\n\t\t\tif (s[i].name == \"time\" && s[i].type == \"time\")\n\t\t\t\treturn true;\n\t\treturn false;\n\t};\n\n\tgantt._dhtmlx_confirm = function (message, title, callback, ok) {\n\t\tif (!message)\n\t\t\treturn callback();\n\t\tvar opts = { text: message };\n\t\tif (title)\n\t\t\topts.title = title;\n\t\tif (ok) {\n\t\t\topts.ok = ok;\n\t\t}\n\t\tif (callback) {\n\t\t\topts.callback = function (result) {\n\t\t\t\tif (result)\n\t\t\t\t\tcallback();\n\t\t\t};\n\t\t}\n\t\tgantt.confirm(opts);\n\t};\n\n\tfunction _get_type_name(type_value) {\n\t\tfor (var i in this.config.types) {\n\t\t\tif (this.config.types[i] == type_value) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn \"task\";\n\t}\n\n\tgantt._get_typed_lightbox_config = function (type) {\n\t\tif (type === undefined) {\n\t\t\ttype = this.getLightboxType();\n\t\t}\n\n\t\tvar field = _get_type_name.call(this, type);\n\n\t\tif (gantt.config.lightbox[field + \"_sections\"]) {\n\t\t\treturn gantt.config.lightbox[field + \"_sections\"];\n\t\t} else {\n\t\t\treturn gantt.config.lightbox.sections;\n\t\t}\n\t};\n\n\tgantt._silent_redraw_lightbox = function (type) {\n\t\tvar oldType = this.getLightboxType();\n\n\t\tif (this.getState().lightbox) {\n\t\t\tvar taskId = this.getState().lightbox;\n\t\t\tvar formData = this.getLightboxValues(),\n\t\t\t\ttask = this.copy(this.getTask(taskId));\n\n\t\t\tthis.resetLightbox();\n\n\t\t\tvar updTask = this.mixin(task, formData, true);\n\t\t\tvar box = this.getLightbox(type ? type : undefined);\n\t\t\tthis._center_lightbox(this.getLightbox());\n\t\t\tthis._set_lightbox_values(updTask, box);\n\t\t\tthis.showCover();\n\t\t} else {\n\t\t\tthis.resetLightbox();\n\t\t\tthis.getLightbox(type ? type : undefined);\n\t\t}\n\t\tthis.callEvent(\"onLightboxChange\", [oldType, this.getLightboxType()]);\n\t};\n\n\tfunction bindLabelsToInputs(sns) {\n\t\tvar section;\n\t\tvar label;\n\t\tvar labelBlock;\n\t\tvar inputBlock;\n\t\tvar input;\n\t\tvar i;\n\n\t\tfor (i = 0; i < sns.length; i++) {\n\t\t\tsection = sns[i];\n\t\t\tlabelBlock = document.getElementById(section.id);\n\n\t\t\tif (!section.id || !labelBlock) continue;\n\n\t\t\tlabel = labelBlock.querySelector(\"label\");\n\t\t\tinputBlock = labelBlock.nextSibling;\n\n\t\t\tif (!inputBlock) continue;\n\n\t\t\tinput = inputBlock.querySelector(\"input, select, textarea\");\n\t\t\tif (input) {\n\t\t\t\tinput.id = input.id || \"input_\" + gantt.uid();\n\t\t\t\tsection.inputId = input.id;\n\t\t\t\tlabel.setAttribute(\"for\", section.inputId);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getHtmlButtons(buttons, floatRight) {\n\t\tvar button;\n\t\tvar ariaAttr;\n\t\tvar html = \"\";\n\t\tvar i;\n\n\t\tfor (i = 0; i < buttons.length; i++) {\n\t\t\t// needed to migrate from 'dhx_something' to 'gantt_something' naming in a lightbox\n\t\t\tbutton = gantt.config._migrate_buttons[buttons[i]] ? gantt.config._migrate_buttons[buttons[i]] : buttons[i];\n\n\t\t\tariaAttr = gantt._waiAria.lightboxButtonAttrString(button);\n\t\t\thtml += \"<div \" + ariaAttr + \" class='gantt_btn_set gantt_left_btn_set \" + button + \"_set'\" + (floatRight ? \" style='float:right;'\" : \"\") + \"><div dhx_button='1' data-dhx-button='1' class='\" + button + \"'></div><div>\" + gantt.locale.labels[button] + \"</div></div>\";\n\t\t}\n\t\treturn html;\n\t}\n\n\tfunction getTimeFormat(sns) {\n\t\tvar scale;\n\t\tvar unit;\n\t\tvar result;\n\n\t\tif (sns.time_format) return sns.time_format;\n\n\t\t// default order\n\t\tresult = [\"%d\", \"%m\", \"%Y\"];\n\t\tscale = gantt.getScale();\n\t\tunit = scale ? scale.unit : gantt.config.duration_unit;\n\t\tif (helpers.getSecondsInUnit(unit) < helpers.getSecondsInUnit(\"day\")) {\n\t\t\tresult.push(\"%H:%i\");\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction getHtmlTimePickerOptions(sns, index, settings) {\n\t\tvar range;\n\t\tvar offset;\n\t\tvar start_year;\n\t\tvar end_year;\n\t\tvar i;\n\t\tvar time;\n\t\tvar diff;\n\t\tvar tdate;\n\t\tvar html = \"\";\n\n\t\tswitch (settings.timeFormat[index]) {\n\t\t\tcase \"%Y\":\n\t\t\t\tsns._time_format_order[2] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//year\n\n\t\t\t\tif (sns.year_range) {\n\t\t\t\t\tif (!isNaN(sns.year_range)) {\n\t\t\t\t\t\trange = sns.year_range;\n\t\t\t\t\t} else if (sns.year_range.push) {\n\t\t\t\t\t\t// if\n\t\t\t\t\t\tstart_year = sns.year_range[0];\n\t\t\t\t\t\tend_year = sns.year_range[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trange = range || 10;\n\t\t\t\toffset = offset || Math.floor(range / 2);\n\t\t\t\tstart_year = start_year || settings.date.getFullYear() - offset;\n\t\t\t\tend_year = end_year || start_year + range;\n\n\t\t\t\tfor (i = start_year; i < end_year; i++)\n\t\t\t\t\thtml += \"<option value='\" + (i) + \"'>\" + (i) + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%m\":\n\t\t\t\tsns._time_format_order[1] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//month\n\t\t\t\tfor (i = 0; i < 12; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + gantt.locale.date.month_full[i] + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%d\":\n\t\t\t\tsns._time_format_order[0] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//days\n\t\t\t\tfor (i = 1; i < 32; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + i + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%H:%i\":\n\t\t\t\t//  var last = 24*60, first = 0;\n\t\t\t\tsns._time_format_order[3] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//hours\n\t\t\t\ti = settings.first;\n\t\t\t\ttdate = settings.date.getDate();\n\t\t\t\tsns._time_values = [];\n\n\t\t\t\twhile (i < settings.last) {\n\t\t\t\t\ttime = gantt.templates.time_picker(settings.date);\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + time + \"</option>\";\n\t\t\t\t\tsns._time_values.push(i);\n\t\t\t\t\tsettings.date.setTime(settings.date.valueOf() + gantt._get_timepicker_step() * 60 * 1000);\n\t\t\t\t\tdiff = (settings.date.getDate() != tdate) ? 1 : 0; // moved or not to the next day\n\t\t\t\t\ti = diff * 24 * 60 + settings.date.getHours() * 60 + settings.date.getMinutes();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn html;\n\t}\n};","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.isUnscheduledTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isUnscheduledTask. Task object was expected\");\n\t\treturn (!!task.unscheduled || !task.start_date);\n\t};\n\n\tgantt._isAllowedUnscheduledTask = function (task) {\n\t\treturn !!(task.unscheduled && gantt.config.show_unscheduled);\n\t};\n\n\tgantt.isTaskVisible = function (id) {\n\t\tif (!this.isTaskExists(id))\n\t\t\treturn false;\n\n\t\tvar task = this.getTask(id);\n\n\t\tvar taskStart = task.start_date ? task.start_date.valueOf() : null;\n\t\tvar taskEnd = task.end_date ? task.end_date.valueOf() : null;\n\n\t\tif (!(gantt._isAllowedUnscheduledTask(task) || (taskStart && taskEnd && taskStart <= this._max_date.valueOf() && taskEnd >= this._min_date.valueOf()))){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!(gantt.getGlobalTaskIndex(id) >= 0);\n\t};\n\n\tgantt._getProjectEnd = function() {\n\t\tif(gantt.config.project_end){\n\t\t\treturn gantt.config.project_end;\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskByTime();\n\t\t\ttasks = tasks.sort(function (a, b) {\n\t\t\t\treturn +a.end_date > +b.end_date ? 1 : -1;\n\t\t\t});\n\t\t\treturn tasks.length ? tasks[tasks.length - 1].end_date : null;\n\t\t}\n\t};\n\tgantt._getProjectStart = function() {\n\t\tif (gantt.config.project_start) {\n\t\t\treturn gantt.config.project_start;\n\t\t}\n\n\t\t// use timeline start if project start is not specified\n\t\tif (gantt.config.start_date) {\n\t\t\treturn gantt.config.start_date;\n\t\t}\n\t\tif (gantt.getState().min_date) {\n\t\t\treturn gantt.getState().min_date;\n\t\t}\n\n\t\t// earliest task start if neither project start nor timeline are specified\n\t\tvar tasks = gantt.getTaskByTime();\n\t\ttasks = tasks.sort(function (a, b) {\n\t\t\treturn +a.start_date > +b.start_date ? 1 : -1;\n\t\t});\n\t\treturn tasks.length ? tasks[0].start_date : null;\n\t};\n\n\tgantt._defaultTaskDate = function (item, parent_id) {\n\t\tvar parent = (parent_id && parent_id != gantt.config.root_id) ? gantt.getTask(parent_id) : false,\n\t\t\tstartDate = null;\n\t\tif (parent) {\n\t\t\tif(gantt.config.schedule_from_end){\n\t\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\t\tstart_date: parent.end_date,\n\t\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\t\ttask:item\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tstartDate = parent.start_date;\n\t\t\t}\n\n\t\t} else if(gantt.config.schedule_from_end) {\n\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\tstart_date: gantt._getProjectEnd(),\n\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t});\n\t\t} else {\n\t\t\tvar first = gantt.getTaskByIndex(0);\n\t\t\tstartDate = first ? (first.start_date ? first.start_date : (first.end_date ? gantt.calculateEndDate({\n\t\t\t\tstart_date: first.end_date,\n\t\t\t\tduration: -gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t}) : null)) : gantt.config.start_date || gantt.getState().min_date;\n\t\t}\n\t\tgantt.assert(startDate, \"Invalid dates\");\n\t\treturn new Date(startDate);\n\t};\n\n\tgantt._set_default_task_timing = function (task) {\n\t\ttask.start_date = task.start_date || gantt._defaultTaskDate(task, gantt.getParent(task));\n\t\ttask.duration = task.duration || gantt.config.duration_step;\n\t\ttask.end_date = task.end_date || gantt.calculateEndDate(task);\n\t};\n\n\tgantt.createTask = function (item, parent, index) {\n\t\titem = item || {};\n\t\tif (!gantt.defined(item.id))\n\t\t\titem.id = gantt.uid();\n\n\t\tif (!item.start_date) {\n\t\t\titem.start_date = gantt._defaultTaskDate(item, parent);\n\t\t}\n\t\tif (item.text === undefined) {\n\t\t\titem.text = gantt.locale.labels.new_task;\n\t\t}\n\t\tif (item.duration === undefined) {\n\t\t\titem.duration = 1;\n\t\t}\n\n\t\tif (this.isTaskExists(parent)) {\n\t\t\tthis.setParent(item, parent, true);\n\t\t\tvar parentObj = this.getTask(parent);\n\t\t\tparentObj.$open = true;\n\t\t}\n\n\t\tif (!this.callEvent(\"onTaskCreated\", [item])) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.config.details_on_create) {\n\t\t\titem.$new = true;\n\t\t\tthis.silent(function(){\n\t\t\t\tgantt.$data.tasksStore.addItem(item, index);\n\t\t\t});\n\t\t\tthis.selectTask(item.id);\n\t\t\tthis.refreshData();\n\t\t\tthis.showLightbox(item.id);\n\t\t} else {\n\t\t\tif (this.addTask(item, parent, index)) {\n\t\t\t\tthis.showTask(item.id);\n\t\t\t\tthis.selectTask(item.id);\n\t\t\t}\n\t\t}\n\t\treturn item.id;\n\t};\n\n\tgantt._update_flags = function (oldid, newid) {\n\t\t//  TODO: need a proper way to update all possible flags\n\t\tvar store = gantt.$data.tasksStore;\n\t\tif (oldid === undefined) {\n\t\t\tthis._lightbox_id = null;\n\n\t\t\tstore.silent(function(){\n\t\t\t\tstore.unselect();\n\t\t\t});\n\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag) {\n\t\t\t\tthis._tasks_dnd.drag.id = null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._lightbox_id == oldid)\n\t\t\t\tthis._lightbox_id = newid;\n\n\t\t\t// TODO: probably can be removed\n\t\t\tif (store.getSelectedId() == oldid) {\n\t\t\t\tstore.silent(function(){\n\t\t\t\t\tstore.unselect(oldid);\n\t\t\t\t\tstore.select(newid);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag && this._tasks_dnd.drag.id == oldid) {\n\t\t\t\tthis._tasks_dnd.drag.id = newid;\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt._get_task_timing_mode = function (task, force) {\n\t\tvar task_type = this.getTaskType(task.type);\n\n\t\tvar state = {\n\t\t\ttype: task_type,\n\t\t\t$no_start: false,\n\t\t\t$no_end: false\n\t\t};\n\n\t\tif (!force && task_type == task.$rendered_type) {\n\t\t\tstate.$no_start = task.$no_start;\n\t\t\tstate.$no_end = task.$no_end;\n\t\t\treturn state;\n\t\t}\n\n\t\tif (task_type == this.config.types.project) {\n\t\t\t//project duration is always defined by children duration\n\t\t\tstate.$no_end = state.$no_start = true;\n\t\t} else if (task_type != this.config.types.milestone) {\n\t\t\t//tasks can have fixed duration, children duration(as projects), or one date fixed, and other defined by nested items\n\t\t\tstate.$no_end = !(task.end_date || task.duration);\n\t\t\tstate.$no_start = !task.start_date;\n\n\t\t\tif (this._isAllowedUnscheduledTask(task)) {\n\t\t\t\tstate.$no_end = state.$no_start = false;\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t};\n\n\tgantt._init_task_timing = function (task) {\n\t\tvar task_mode = gantt._get_task_timing_mode(task, true);\n\n\t\tvar dirty = task.$rendered_type != task_mode.type;\n\n\t\tvar task_type = task_mode.type;\n\n\t\tif (dirty) {\n\t\t\ttask.$no_start = task_mode.$no_start;\n\t\t\ttask.$no_end = task_mode.$no_end;\n\t\t\ttask.$rendered_type = task_mode.type;\n\t\t}\n\n\t\tif (dirty && task_type != this.config.types.milestone) {\n\t\t\tif (task_type == this.config.types.project) {\n\t\t\t\t//project duration is always defined by children duration\n\t\t\t\tthis._set_default_task_timing(task);\n\t\t\t}\n\t\t}\n\n\t\tif (task_type == this.config.types.milestone) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\t\tif (task.start_date && task.end_date) {\n\t\t\ttask.duration = this.calculateDuration(task);\n\t\t}\n\n\t\tif (!task.end_date) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\n\t\ttask.duration = task.duration || 0;\n\t};\n\n\tgantt.isSummaryTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSummaryTask. Task object was expected\");\n\n\t\tvar mode = gantt._get_task_timing_mode(task);\n\n\t\treturn !!(mode.$no_end || mode.$no_start);\n\t};\n\n// downward calculation of project duration\n\tgantt.resetProjectDates = function (task) {\n\t\tvar taskMode = this._get_task_timing_mode(task);\n\t\tif (taskMode.$no_end || taskMode.$no_start) {\n\t\t\tvar dates = this.getSubtaskDates(task.id);\n\t\t\tthis._assign_project_dates(task, dates.start_date, dates.end_date);\n\t\t}\n\t};\n\n\tgantt.getSubtaskDuration = function (task_id) {\n\t\tvar res = 0,\n\t\t\troot = task_id !== undefined ? task_id : gantt.config.root_id;\n\n\t\tthis.eachTask(function (child) {\n\t\t\tif (this.getTaskType(child.type) == gantt.config.types.project || this.isUnscheduledTask(child))\n\t\t\t\treturn;\n\n\t\t\tres += child.duration;\n\t\t}, root);\n\n\t\treturn res;\n\t};\n\n\tgantt.getSubtaskDates = function (task_id) {\n\t\tvar min = null,\n\t\t\tmax = null,\n\t\t\troot = task_id !== undefined ? task_id : gantt.config.root_id;\n\n\t\tthis.eachTask(function (child) {\n\t\t\tif (this.getTaskType(child.type) == gantt.config.types.project || this.isUnscheduledTask(child))\n\t\t\t\treturn;\n\n\t\t\tif ((child.start_date && !child.$no_start) && (!min || min > child.start_date.valueOf()))\n\t\t\t\tmin = child.start_date.valueOf();\n\t\t\tif ((child.end_date && !child.$no_end) && (!max || max < child.end_date.valueOf()))\n\t\t\t\tmax = child.end_date.valueOf();\n\t\t}, root);\n\n\t\treturn {\n\t\t\tstart_date: min ? new Date(min) : null,\n\t\t\tend_date: max ? new Date(max) : null\n\t\t};\n\t};\n\n\tgantt._assign_project_dates = function (task, from, to) {\n\t\tvar taskTiming = this._get_task_timing_mode(task);\n\t\tif (taskTiming.$no_start) {\n\t\t\tif (from && from != Infinity) {\n\t\t\t\ttask.start_date = new Date(from);\n\t\t\t} else {\n\t\t\t\ttask.start_date = this._defaultTaskDate(task, this.getParent(task));\n\t\t\t}\n\t\t}\n\n\t\tif (taskTiming.$no_end) {\n\t\t\tif (to && to != -Infinity) {\n\t\t\t\ttask.end_date = new Date(to);\n\t\t\t} else {\n\t\t\t\ttask.end_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\tduration: this.config.duration_step,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (taskTiming.$no_start || taskTiming.$no_end) {\n\t\t\tthis._init_task_timing(task);\n\t\t}\n\t};\n\n// upward calculation of project duration\n\tgantt._update_parents = function (taskId, silent) {\n\t\tif (!taskId) return;\n\n\t\tvar task = this.getTask(taskId);\n\t\tvar pid = this.getParent(task);\n\n\t\tvar taskTiming = this._get_task_timing_mode(task);\n\n\t\tvar has_changed = true;\n\n\t\tif (taskTiming.$no_start || taskTiming.$no_end) {\n\t\t\tvar oldStart = task.start_date.valueOf(),\n\t\t\t\toldEnd = task.end_date.valueOf();\n\n\t\t\tgantt.resetProjectDates(task);\n\n\t\t\t// not refresh parent projects if dates hasn't changed\n\t\t\tif (oldStart == task.start_date.valueOf() && oldEnd == task.end_date.valueOf()) {\n\t\t\t\thas_changed = false;\n\t\t\t}\n\n\t\t\tif (has_changed && !silent) {\n\t\t\t\tthis.refreshTask(task.id, true);\n\t\t\t}\n\t\t}\n\n\n\t\tif (has_changed && pid && this.isTaskExists(pid)) {\n\t\t\tthis._update_parents(pid, silent);\n\t\t}\n\t};\n\n\tgantt.roundDate = function (config) {\n\t\tvar scale = gantt.getScale();\n\n\t\tif (helpers.isDate(config)) {\n\t\t\tconfig = {\n\t\t\t\tdate: config,\n\t\t\t\tunit: scale ? scale.unit : gantt.config.duration_unit,\n\t\t\t\tstep: scale ?  scale.step : gantt.config.duration_step\n\t\t\t};\n\t\t}\n\t\tvar date = config.date,\n\t\t\tsteps = config.step,\n\t\t\tunit = config.unit;\n\n\t\tif(!scale){\n\t\t\treturn date;\n\t\t}\n\n\t\tvar upper, lower, colIndex;\n\t\tif (unit == scale.unit && steps == scale.step &&\n\t\t\t+date >= +scale.min_date && +date <= +scale.max_date) {\n\t\t\t//find date in time scale config\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tif (!scale.trace_x[colIndex]) {\n\t\t\t\tcolIndex -= 1;// end of time scale\n\t\t\t\tif(scale.rtl){\n\t\t\t\t\tcolIndex = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlower = new Date(scale.trace_x[colIndex]);\n\t\t\tupper = gantt.date.add(lower, steps, unit);\n\t\t} else {\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tupper = gantt.date[unit + \"_start\"](new Date(scale.min_date));\n\t\t\tif (scale.trace_x[colIndex]) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](scale.trace_x[colIndex]);// end of time scale\n\t\t\t}\n\n\t\t\twhile (+upper < +date) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](gantt.date.add(upper, steps, unit));\n\n\t\t\t\tvar tzOffset = upper.getTimezoneOffset();\n\n\t\t\t\tupper = gantt._correct_dst_change(upper, tzOffset, upper, unit);\n\t\t\t\tif (gantt.date[unit + '_start'])\n\t\t\t\t\tupper = gantt.date[unit + '_start'](upper);\n\t\t\t}\n\n\t\t\tlower = gantt.date.add(upper, -1 * steps, unit);\n\n\t\t}\n\t\tif (config.dir && config.dir == 'future')\n\t\t\treturn upper;\n\t\tif (config.dir && config.dir == 'past')\n\t\t\treturn lower;\n\n\t\tif (Math.abs(date - lower) < Math.abs(upper - date)) {\n\t\t\treturn lower;\n\t\t} else {\n\t\t\treturn upper;\n\t\t}\n\n\t};\n\n\tgantt.correctTaskWorkTime = function (task) {\n\t\tif (gantt.config.work_time && gantt.config.correct_work_time) {\n\t\t\tif (!this.isWorkTime(task.start_date, undefined, task)) {\n\t\t\t\ttask.start_date = this.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!this.isWorkTime(new Date(+task.end_date - 1), undefined, task)) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskUpdate\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\tgantt.attachEvent(\"onBeforeTaskAdd\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\n};","// TODO: rework public api for date methods\nvar utils = require(\"../../utils/utils\");\n\nvar createWorktimeFacade = function(calendarManager, timeCalculator){\n\treturn {\n\t\tgetWorkHours: function (date) {\n\t\t\treturn timeCalculator.getWorkHours(date);\n\t\t},\n\n\t\tsetWorkTime: function (config) {\n\t\t\treturn timeCalculator.setWorkTime(config);\n\t\t},\n\n\t\tunsetWorkTime: function (config) {\n\t\t\ttimeCalculator.unsetWorkTime(config);\n\t\t},\n\n\t\tisWorkTime: function (date, unit, task) {\n\t\t\treturn timeCalculator.isWorkTime(date, unit, task);\n\t\t},\n\n\t\tgetClosestWorkTime: function (config) {\n\t\t\treturn timeCalculator.getClosestWorkTime(config);\n\t\t},\n\n\t\tcalculateDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.calculateDuration(start_date, end_date, task);\n\t\t},\n\t\t_hasDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.hasDuration(start_date, end_date, task);\n\t\t},\n\n\t\tcalculateEndDate: function (start, duration, unit, task) {\n\t\t\treturn timeCalculator.calculateEndDate(start, duration, unit, task);\n\t\t},\n\n\t\tcreateCalendar: utils.bind(calendarManager.createCalendar, calendarManager),\n\t\taddCalendar: utils.bind(calendarManager.addCalendar, calendarManager),\n\t\tgetCalendar: utils.bind(calendarManager.getCalendar, calendarManager),\n\t\tgetCalendars: utils.bind(calendarManager.getCalendars, calendarManager),\n\t\tgetTaskCalendar: utils.bind(calendarManager.getTaskCalendar, calendarManager),\n\t\tdeleteCalendar: utils.bind(calendarManager.deleteCalendar, calendarManager)\n\t};\n};\n\n\nmodule.exports = { create: createWorktimeFacade };\n","function CalendarDisabledTimeStrategy(gantt, argumentsHelper){\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n}\n\nCalendarDisabledTimeStrategy.prototype = {\n\tgetWorkHours: function () {\n\t\treturn [0, 24];\n\t},\n\tsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tunsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tisWorkTime: function () {\n\t\treturn true;\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tvar config = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\t\treturn config.date;\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this._calculateDuration(from, to, unit, step);\n\t},\n\t_calculateDuration: function (start, end, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar fixedUnits = {\n\t\t\t\"week\": 1000 * 60 * 60 * 24 * 7,\n\t\t\t\"day\": 1000 * 60 * 60 * 24,\n\t\t\t\"hour\": 1000 * 60 * 60,\n\t\t\t\"minute\": 1000 * 60\n\t\t};\n\n\t\tvar res = 0;\n\t\tif (fixedUnits[unit]) {\n\t\t\tres = Math.round((end - start) / (step * fixedUnits[unit]));\n\t\t} else {\n\t\t\tvar from = new Date(start),\n\t\t\t\tto = new Date(end);\n\t\t\twhile (from.valueOf() < to.valueOf()) {\n\t\t\t\tres += 1;\n\t\t\t\tfrom = dateHelper.add(from, step, unit);\n\t\t\t}\n\n\t\t\tif (from.valueOf() != end.valueOf()) {\n\t\t\t\tres += (to - from) / (dateHelper.add(from, step, unit) - from);\n\t\t\t}\n\t\t}\n\n\t\treturn Math.round(res);\n\t},\n\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tfrom = new Date(from);\n\t\tto = new Date(to);\n\n\t\treturn (from.valueOf() < to.valueOf());\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar start = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this.$gantt.date.add(start, step * duration, unit);\n\t}\n};\n\nmodule.exports = CalendarDisabledTimeStrategy;","var createArgumentsHelper = require(\"./calendar_arguments_helper\"),\n\tNoWorkTimeCalendar = require(\"./strategy/no_work_time\");\n\nfunction TimeCalculator(calendarManager){\n\n\tthis.$gantt = calendarManager.$gantt;\n\tthis.argumentsHelper = createArgumentsHelper(this.$gantt);\n\tthis.calendarManager = calendarManager;\n\tthis.$disabledCalendar = new NoWorkTimeCalendar(this.$gantt, this.argumentsHelper);\n}\n\nTimeCalculator.prototype = {\n\t_getCalendar: function (config) {\n\t\tvar calendar;\n\t\tif (!this.$gantt.$services.config().work_time) {\n\t\t\tcalendar = this.$disabledCalendar;\n\t\t} else {\n\t\t\tvar manager = this.calendarManager;\n\t\t\tif (config.task) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config.task);\n\t\t\t} else if (config.id) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config);\n\t\t\t} else if (config.calendar) {\n\t\t\t\tcalendar = config.calendar;\n\t\t\t}\n\t\t\tif (!calendar) {\n\t\t\t\tcalendar = manager.getTaskCalendar();\n\t\t\t}\n\t\t}\n\t\treturn calendar;\n\t},\n\n\tgetWorkHours: function (config) {\n\t\tconfig = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getWorkHours(config.date);\n\t},\n\n\tsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.setWorkTime(config);\n\t},\n\n\tunsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.unsetWorkTime(config);\n\t},\n\tisWorkTime: function (date, unit, task, calendar) {\n\t\tvar config = this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tcalendar = this._getCalendar(config);\n\t\treturn calendar.isWorkTime(config);\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tconfig = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getClosestWorkTime(config);\n\t},\n\n\tcalculateDuration: function () { // start_date_date, end_date, task\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateDuration(config);\n\t},\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.hasDuration(config);\n\t},\n\tcalculateEndDate: function (config) { // start_date, duration, unit, task\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateEndDate(config);\n\t}\n};\n\nmodule.exports = TimeCalculator;\n\n","import { IWorkUnitCache } from \"./workunit_cache_interface\";\n\nexport class WorkUnitsObjectCache implements IWorkUnitCache {\n\tprivate _cache: any;\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tgetItem(unit: string, timestamp: string): number|boolean {\n\t\tconst cache = this._cache;\n\t\tif (cache && cache[unit]) {\n\t\t\tconst units = cache[unit];\n\n\t\t\tif (units[timestamp] !== undefined) {\n\t\t\t\treturn units[timestamp];\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\tsetItem(unit: string, timestamp: string, value: boolean): void {\n\t\tif (!unit || !timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cache = this._cache;\n\n\t\tif (!cache) {\n\t\t\treturn;\n\t\t}\n\t\tif (!cache[unit]) {\n\t\t\tcache[unit] = {};\n\t\t}\n\t\tcache[unit][timestamp] = value;\n\t}\n\tclear(): void{\n\t\tthis._cache = {};\n\t}\n}","\n\nimport { IWorkUnitCache } from \"./workunit_cache_interface\";\n\nexport class WorkUnitsMapCache implements IWorkUnitCache {\n\tprivate _cache: Map<string, Map<string, boolean>>;\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tgetItem(unit: string, timestamp: string): number|boolean {\n\t\tif (this._cache.has(unit)) {\n\t\t\tconst unitCache = this._cache.get(unit);\n\t\t\tif (unitCache.has(timestamp)) {\n\t\t\t\treturn unitCache.get(timestamp);\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\tsetItem(unit: string, timestamp: string, value: boolean): void {\n\t\tif (!unit || !timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cache = this._cache;\n\n\t\tlet unitCache;\n\t\tif (!cache.has(unit)) {\n\t\t\tunitCache = new Map<string, boolean>();\n\t\t\tcache.set(unit, unitCache);\n\t\t} else {\n\t\t\tunitCache = cache.get(unit);\n\t\t}\n\t\tunitCache.set(timestamp, value);\n\t}\n\tclear(): void{\n\t\tthis._cache = new Map<string, Map<string, boolean>>();\n\t}\n}","import { IWorkUnitCache } from \"./workunit_cache_interface\";\nimport { WorkUnitsMapCache } from \"./workunit_map_cache\";\nimport { WorkUnitsObjectCache } from \"./workunit_object_cache\";\n\nexport function createCacheObject(): IWorkUnitCache {\n\n\t// worktime hash is on the hot path,\n\t// Map seems to work faster than plain array, use it whenever possible\n\tif (typeof Map !== \"undefined\") {\n\t\treturn new WorkUnitsMapCache();\n\t} else {\n\t\treturn new WorkUnitsObjectCache();\n\t}\n}","var cacheFactory = require(\"./work_unit_cache\"),\n\tutils = require(\"../../../utils/utils\");\n\nfunction CalendarWorkTimeStrategy(gantt, argumentsHelper){\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n\tthis._workingUnitsCache = cacheFactory.createCacheObject();\n}\n\nCalendarWorkTimeStrategy.prototype = {\n\tunits: [\n\t\t\"year\",\n\t\t\"month\",\n\t\t\"week\",\n\t\t\"day\",\n\t\t\"hour\",\n\t\t\"minute\"\n\t],\n\t// cache previously calculated worktime\n\t_getUnitOrder: function (unit) {\n\t\tfor (var i = 0, len = this.units.length; i < len; i++) {\n\t\t\tif (this.units[i] == unit)\n\t\t\t\treturn i;\n\t\t}\n\t},\n\t_timestamp: function (settings) {\n\n\t\tvar timestamp = null;\n\t\tif ((settings.day || settings.day === 0)) {\n\t\t\ttimestamp = settings.day;\n\t\t} else if (settings.date) {\n\t\t\t// store worktime datestamp in utc so it could be recognized in different timezones (e.g. opened locally and sent to the export service in different timezone)\n\t\t\ttimestamp = Date.UTC(settings.date.getFullYear(), settings.date.getMonth(), settings.date.getDate());\n\t\t}\n\t\treturn timestamp;\n\t},\n\t_checkIfWorkingUnit: function (date, unit, order) {\n\t\tif (order === undefined) {\n\t\t\torder = this._getUnitOrder(unit);\n\t\t}\n\n\t\t// disable worktime check for custom time units\n\t\tif (order === undefined) {\n\t\t\treturn true;\n\t\t}\n\t\tif (order) {\n\t\t\t//check if bigger time unit is a work time (hour < day < month...)\n\t\t\t//i.e. don't check particular hour if the whole day is marked as not working\n\t\t\tif (!this._isWorkTime(date, this.units[order - 1], order - 1))\n\t\t\t\treturn false;\n\t\t}\n\t\tif (!this[\"_is_work_\" + unit])\n\t\t\treturn true;\n\t\treturn this[\"_is_work_\" + unit](date);\n\t},\n\t//checkings for particular time units\n\t//methods for month-year-week can be defined, otherwise always return 'true'\n\t_is_work_day: function (date) {\n\t\tvar val = this._getWorkHours(date);\n\n\t\tif (val instanceof Array) {\n\t\t\treturn val.length > 0;\n\t\t}\n\t\treturn false;\n\t},\n\t_is_work_hour: function (date) {\n\t\tvar hours = this._getWorkHours(date); // [7,12] or []\n\t\tvar hour = date.getHours();\n\t\tfor (var i = 0; i < hours.length; i += 2) {\n\t\t\tif (hours[i + 1] === undefined) {\n\t\t\t\treturn hours[i] == hour;\n\t\t\t} else {\n\t\t\t\tif (hour >= hours[i] && hour < hours[i + 1])\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t_internDatesPull: {},\n\t_nextDate: function (start, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\treturn dateHelper.add(start, step, unit);\n\n\t\t/*var start_value = +start,\n\t\t\tkey = unit + \"_\" + step;\n\t\tvar interned = this._internDatesPull[key];\n\t\tif(!interned){\n\t\t\tinterned = this._internDatesPull[key] = {};\n\t\t}\n\t\tvar calculated;\n\t\tif(!interned[start_value]){\n\t\t\tinterned[start_value] = calculated = dateHelper.add(start, step, unit);\n\t\t\t//interned[start_value] = dateHelper.add(start, step, unit);\n\t\t}\n\t\treturn calculated || interned[start_value];*/\n\t},\n\t_getWorkUnitsBetweenGeneric: function (from, to, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\t\tvar units = 0;\n\n\n\t\tvar next = null;\n\t\tvar stepStart,\n\t\t\tstepEnd;\n\n\t\t// calculating decimal durations, i.e. 2016-09-20 00:05:00 - 2016-09-20 01:00:00 ~ 0.95 instead of 1\n\t\t// and also  2016-09-20 00:00:00 - 2016-09-20 00:05:00 ~ 0.05 instead of 1\n\t\t// durations must be rounded later\n\t\tvar checkFirst = false;\n\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\tif (stepStart.valueOf() != start.valueOf()) {\n\t\t\tcheckFirst = true;\n\t\t}\n\t\tvar checkLast = false;\n\t\tstepEnd = dateHelper[unit + \"_start\"](new Date(to));\n\t\tif (stepEnd.valueOf() != to.valueOf()) {\n\t\t\tcheckLast = true;\n\t\t}\n\n\t\tvar isLastStep = false;\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tnext = this._nextDate(start, unit, step);\n\t\t\tisLastStep = (next.valueOf() > end.valueOf());\n\n\t\t\tif (this._isWorkTime(start, unit)) {\n\t\t\t\tif (checkFirst || (checkLast && isLastStep)) {\n\t\t\t\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\t\t\t\tstepEnd = dateHelper.add(stepStart, step, unit);\n\t\t\t\t}\n\n\t\t\t\tif (checkFirst) {\n\t\t\t\t\tcheckFirst = false;\n\t\t\t\t\tnext = this._nextDate(stepStart, unit, step);\n\t\t\t\t\tunits += ((stepEnd.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\t\t\t\t} else if (checkLast && isLastStep) {\n\t\t\t\t\tcheckLast = false;\n\t\t\t\t\tunits += ((end.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\n\t\t\t\t} else {\n\t\t\t\t\tunits++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstart = next;\n\t\t}\n\t\treturn units;\n\t},\n\n\t_getMinutesPerDay: function (date) {\n\t\t// current api doesn't allow setting working minutes, so use hardcoded 60 minutes per hour\n\t\treturn this._getHoursPerDay(date) * 60;\n\t},\n\t_getHoursPerDay: function (date) {\n\t\tvar hours = this._getWorkHours(date);\n\t\tvar res = 0;\n\t\tfor (var i = 0; i < hours.length; i += 2) {\n\t\t\tres += ((hours[i + 1] - hours[i]) || 0);\n\t\t}\n\t\treturn res;\n\t},\n\t_getWorkUnitsForRange: function (from, to, unit, step) {\n\t\tvar total = 0;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\n\t\tvar getUnitsPerDay;\n\t\tif (unit == \"minute\") {\n\t\t\tgetUnitsPerDay = utils.bind(this._getMinutesPerDay, this);\n\t\t} else {\n\t\t\tgetUnitsPerDay = utils.bind(this._getHoursPerDay, this);\n\t\t}\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif (this._isWorkTime(start, \"day\")) {\n\t\t\t\ttotal += getUnitsPerDay(start);\n\t\t\t}\n\t\t\tstart = this._nextDate(start, \"day\", 1);\n\t\t}\n\n\t\treturn total / step;\n\t},\n\n\t// optimized method for calculating work units duration of large time spans\n\t// implemented for hours and minutes units, bigger time units don't benefit from the optimization so much\n\t_getWorkUnitsBetweenQuick: function (from, to, unit, step) {\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\tvar firstDayStart = new Date(start);\n\t\tvar firstDayEnd = this.$gantt.date.add(this.$gantt.date.day_start(new Date(start)), 1, \"day\");\n\n\t\tif (end.valueOf() <= firstDayEnd.valueOf()) {\n\t\t\treturn this._getWorkUnitsBetweenGeneric(from, to, unit, step);\n\t\t} else {\n\n\t\t\tvar lastDayStart = this.$gantt.date.day_start(new Date(end));\n\t\t\tvar lastDayEnd = end;\n\n\t\t\tvar startPart = this._getWorkUnitsBetweenGeneric(firstDayStart, firstDayEnd, unit, step);\n\t\t\tvar endPart = this._getWorkUnitsBetweenGeneric(lastDayStart, lastDayEnd, unit, step);\n\n\t\t\tvar rangePart = this._getWorkUnitsForRange(firstDayEnd, lastDayStart, unit, step);\n\t\t\tvar total = startPart + rangePart + endPart;\n\n\t\t\treturn total;\n\t\t}\n\t},\n\n\t_getCalendar: function () {\n\t\treturn this.worktime;\n\t},\n\t_setCalendar: function (settings) {\n\t\tthis.worktime = settings;\n\t},\n\n\t_tryChangeCalendarSettings: function (payload) {\n\t\tvar backup = JSON.stringify(this._getCalendar());\n\t\tpayload();\n\t\tif (this._isEmptyCalendar(this._getCalendar())) {\n\t\t\tthis.$gantt.assert(false, \"Invalid calendar settings, no worktime available\");\n\t\t\tthis._setCalendar(JSON.parse(backup));\n\t\t\tthis._workingUnitsCache.clear();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\n\t},\n\n\t_isEmptyCalendar: function (settings) {\n\t\tvar result = false,\n\t\t\tdatesArray = [],\n\t\t\tisFullWeekSet = true;\n\t\tfor (var i in settings.dates) {\n\t\t\tresult |= !!settings.dates[i];\n\t\t\tdatesArray.push(i);\n\t\t}\n\n\t\tvar checkFullArray = [];\n\t\tfor (var i = 0; i < datesArray.length; i++) {\n\t\t\tif (datesArray[i] < 10) {\n\t\t\t\tcheckFullArray.push(datesArray[i]);\n\t\t\t}\n\t\t}\n\t\tcheckFullArray.sort();\n\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\tif (checkFullArray[i] != i)\n\t\t\t\tisFullWeekSet = false;\n\t\t}\n\t\tif (isFullWeekSet)\n\t\t\treturn !result;\n\t\treturn !(result || !!settings.hours); // can still return false if separated dates are set to true\n\t},\n\n\tgetWorkHours: function () {\n\t\tvar config = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\t\treturn this._getWorkHours(config.date);\n\t},\n\t_getWorkHours: function (date) {\n\t\tvar t = this._timestamp({date: date});\n\t\tvar hours = true;\n\t\tvar calendar = this._getCalendar();\n\t\tif (calendar.dates[t] !== undefined) {\n\t\t\thours = calendar.dates[t];//custom day\n\t\t} else if (calendar.dates[date.getDay()] !== undefined) {\n\t\t\thours = calendar.dates[date.getDay()];//week day\n\t\t}\n\t\tif (hours === true) {\n\t\t\treturn calendar.hours;\n\t\t} else if (hours) {\n\t\t\treturn hours;\n\t\t}\n\t\treturn [];\n\t},\n\n\tsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tvar hours = settings.hours !== undefined ? settings.hours : true;\n\t\t\tvar timestamp = this._timestamp(settings);\n\t\t\tif (timestamp !== null) {\n\t\t\t\tthis._getCalendar().dates[timestamp] = hours;\n\t\t\t} else {\n\t\t\t\tthis._getCalendar().hours = hours;\n\t\t\t}\n\t\t\tthis._workingUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\tunsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tif (!settings) {\n\t\t\t\tthis.reset_calendar();\n\t\t\t} else {\n\n\t\t\t\tvar timestamp = this._timestamp(settings);\n\n\t\t\t\tif (timestamp !== null) {\n\t\t\t\t\tdelete this._getCalendar().dates[timestamp];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Clear work units cache\n\t\t\tthis._workingUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\t_isWorkTime: function (date, unit, order) {\n\t\t// Check if this item has in the cache\n\n\t\t// use string keys\n\t\tvar dateKey = String(date.valueOf());\n\t\tvar is_work_unit = this._workingUnitsCache.getItem(unit, dateKey);\n\n\t\tif (is_work_unit == -1) {\n\t\t\t// calculate if not cached\n\t\t\tis_work_unit = this._checkIfWorkingUnit(date, unit, order);\n\t\t\tthis._workingUnitsCache.setItem(unit, dateKey, is_work_unit);\n\t\t}\n\n\t\treturn is_work_unit;\n\t},\n\n\tisWorkTime: function () {\n\t\tvar config =  this.argumentsHelper.isWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._isWorkTime(config.date, config.unit);\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tif (!config.unit) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._calculateDuration(config.start_date, config.end_date, config.unit, config.step);\n\t},\n\n\t_calculateDuration: function (from, to, unit, step) {\n\t\tvar res = 0;\n\t\tif (unit == \"hour\" || unit == \"minute\") {\n\t\t\tres = this._getWorkUnitsBetweenQuick(from, to, unit, step);\n\t\t} else {\n\t\t\tres = this._getWorkUnitsBetweenGeneric(from, to, unit, step);\n\t\t}\n\n\t\t// getWorkUnits.. returns decimal durations\n\t\treturn Math.round(res);\n\t},\n\thasDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif (this._isWorkTime(start, unit))\n\t\t\t\treturn true;\n\t\t\tstart = this._nextDate(start, unit, step);\n\t\t}\n\t\treturn false;\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config =  this.argumentsHelper.calculateEndDateArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tif (!unit)\n\t\t\treturn false;\n\n\t\tvar mult = (config.duration >= 0) ? 1 : -1;\n\t\tduration = Math.abs(duration * 1);\n\t\treturn this._calculateEndDate(from, duration, unit, step * mult);\n\t},\n\n\t_calculateEndDate: function (from, duration, unit, step) {\n\t\tif (!unit)\n\t\t\treturn false;\n\n\t\tif (step == 1 && unit == \"minute\") {\n\t\t\treturn this._calculateMinuteEndDate(from, duration, step);\n\t\t} else if (step == 1 && unit == \"hour\") {\n\t\t\treturn this._calculateHourEndDate(from, duration, step);\n\t\t} else {\n\t\t\tvar interval = this._addInterval(from, duration, unit, step, null);\n\t\t\treturn interval.end;\n\t\t}\n\t},\n\n\t_addInterval: function (start, duration, unit, step, stopAction) {\n\t\tvar added = 0;\n\t\tvar current = start;\n\t\twhile (added < duration && !(stopAction && stopAction(current))) {\n\t\t\tvar next = this._nextDate(current, unit, step);\n\t\t\tif (this._isWorkTime(step > 0 ? new Date(next.valueOf() - 1) : new Date(next.valueOf() + 1), unit)) {\n\t\t\t\tadded++;\n\t\t\t}\n\t\t\tcurrent = next;\n\t\t}\n\t\treturn {\n\t\t\tend: current,\n\t\t\tsatrt: start,\n\t\t\tadded: added\n\t\t};\n\t},\n\n\t_calculateHourEndDate: function (from, duration,  step) {\n\t\tvar start = new Date(from),\n\t\tadded = 0;\n\t\tstep = step || 1;\n\t\tduration = Math.abs(duration * 1);\n\n\t\tvar interval = this._addInterval(start, duration, \"hour\", step, function (date) {\n\t\t\t// iterate until hour end\n\t\t\tif (!(date.getHours() || date.getMinutes() || date.getSeconds() || date.getMilliseconds())) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tadded = interval.added;\n\t\tstart = interval.end;\n\n\t\tvar durationLeft = duration - added;\n\n\t\tif (durationLeft && durationLeft > 24) {\n\t\t\tvar current = start;\n\t\t\twhile (added < duration) {\n\t\t\t\tvar next = this._nextDate(current, \"day\", step);\n\t\t\t\tif (this._isWorkTime(step > 0 ? new Date(next.valueOf() - 1) : new Date(next.valueOf() + 1), \"day\")) {\n\t\t\t\t\tvar hours = this._getHoursPerDay(current);\n\t\t\t\t\tif (added + hours >= duration) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadded += hours;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcurrent = next;\n\t\t\t}\n\t\t\tstart = current;\n\t\t}\n\n\t\tif (added < duration) {\n\t\t\tvar durationLeft = duration - added;\n\t\t\tinterval = this._addInterval(start, durationLeft, \"hour\", step, null);\n\t\t\tstart = interval.end;\n\t\t}\n\n\t\treturn start;\n\t},\n\n\t_calculateMinuteEndDate: function (from, duration, step) {\n\n\t\tvar start = new Date(from),\n\t\t\tadded = 0;\n\t\tstep = step || 1;\n\t\tduration = Math.abs(duration * 1);\n\n\t\tvar interval = this._addInterval(start, duration, \"minute\", step, function (date) {\n\t\t\t// iterate until hour end\n\t\t\tif (!(date.getMinutes() || date.getSeconds() || date.getMilliseconds())) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tadded = interval.added;\n\t\tstart = interval.end;\n\n\t\tif (added < duration) {\n\t\t\tvar left = duration - added;\n\t\t\tvar hours = Math.floor(left / 60);\n\t\t\tif (hours) {\n\t\t\t\tstart = this._calculateEndDate(start, hours, \"hour\", step > 0 ? 1 : -1);\n\t\t\t\tadded += hours * 60;\n\t\t\t}\n\t\t}\n\n\t\tif (added < duration) {\n\t\t\tvar durationLeft = duration - added;\n\t\t\tinterval = this._addInterval(start, durationLeft, \"minute\", step, null);\n\t\t\tstart = interval.end;\n\t\t}\n\n\t\treturn start;\n\t},\n\n\tgetClosestWorkTime: function () {\n\t\tvar settings =  this.argumentsHelper.getClosestWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._getClosestWorkTime(settings.date, settings.unit, settings.dir);\n\t},\n\n\t_getClosestWorkTime: function (inputDate, unit, direction) {\n\t\tvar result = new Date(inputDate);\n\n\t\tif (this._isWorkTime(result, unit)) {\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this.$gantt.date[unit + '_start'](result);\n\n\t\tif (direction == 'any' || !direction) {\n\t\t\tvar closestFuture = this._getClosestWorkTimeFuture(result, unit);\n\t\t\tvar closestPast = this._getClosestWorkTimePast(result, unit);\n\t\t\tif (Math.abs(closestFuture - inputDate) <= Math.abs(inputDate - closestPast)) {\n\t\t\t\tresult = closestFuture;\n\t\t\t} else {\n\t\t\t\tresult = closestPast;\n\t\t\t}\n\t\t} else if (direction == \"past\") {\n\t\t\tresult = this._getClosestWorkTimePast(result, unit);\n\t\t} else {\n\t\t\tresult = this._getClosestWorkTimeFuture(result, unit);\n\t\t}\n\t\treturn result;\n\t},\n\n\t_getClosestWorkTimeFuture: function (date, unit) {\n\t\treturn this._getClosestWorkTimeGeneric(date, unit, 1);\n\t},\n\n\t_getClosestWorkTimePast: function (date, unit) {\n\t\tvar result = this._getClosestWorkTimeGeneric(date, unit, -1);\n\t\t// should return the end of the closest work interval\n\t\treturn this.$gantt.date.add(result, 1, unit);\n\t},\n\n\t_getClosestWorkTimeGeneric: function (date, unit, increment) {\n\t\tvar unitOrder = this._getUnitOrder(unit),\n\t\t\tbiggerTimeUnit = this.units[unitOrder - 1];\n\n\t\tvar result = date;\n\n\t\t// be extra sure we won't fall into infinite loop, 3k seems big enough\n\t\tvar maximumLoop = 3000,\n\t\t\tcount = 0;\n\n\t\twhile (!this._isWorkTime(result, unit)) {\n\t\t\tif (biggerTimeUnit && !this._isWorkTime(result, biggerTimeUnit)) {\n\t\t\t\t// if we look for closest work hour and detect a week-end - first find the closest work day,\n\t\t\t\t// and continue iterations after that\n\t\t\t\tif (increment > 0) {\n\t\t\t\t\tresult = this._getClosestWorkTimeFuture(result, biggerTimeUnit);\n\t\t\t\t} else {\n\t\t\t\t\tresult = this._getClosestWorkTimePast(result, biggerTimeUnit);\n\t\t\t\t}\n\n\t\t\t\tif (this._isWorkTime(result, unit)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcount++;\n\t\t\tif (count > maximumLoop) {\n\t\t\t\tthis.$gantt.assert(false, \"Invalid working time check\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar tzOffset = result.getTimezoneOffset();\n\t\t\tresult = this.$gantt.date.add(result, increment, unit);\n\n\t\t\tresult = this.$gantt._correct_dst_change(result, tzOffset, increment, unit);\n\t\t\tif (this.$gantt.date[unit + '_start']) {\n\t\t\t\tresult = this.$gantt.date[unit + '_start'](result);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n\nmodule.exports = CalendarWorkTimeStrategy;","var utils = require(\"../../utils/utils\");\nvar createArgumentsHelper = require(\"./calendar_arguments_helper\");\nvar CalendarWorktimeStrategy = require(\"./strategy/calendar_strategy\");\n\nfunction CalendarManager (gantt){\n\tthis.$gantt = gantt;\n\tthis._calendars = {};\n}\n\nCalendarManager.prototype = {\n\t_calendars: {},\n\t_getDayHoursForMultiple: function (calendars, date) {\n\t\tvar units = [],\n\t\t\ttick = true,\n\t\t\tcurrPos = 0,\n\t\t\tis_work_hour = false,\n\t\t\tstart = this.$gantt.date.day_start(new Date(date));\n\t\tfor (var hour = 0; hour < 24; hour++) {\n\t\t\tis_work_hour = calendars.reduce(function (acc, calendar) {\n\t\t\t\treturn acc && calendar._is_work_hour(start);\n\t\t\t}, true);\n\t\t\tif (is_work_hour) {\n\t\t\t\tif (tick) {\n\t\t\t\t\tunits[currPos] = hour;\n\t\t\t\t\tunits[currPos + 1] = (hour + 1);\n\t\t\t\t\tcurrPos += 2;\n\t\t\t\t} else {\n\t\t\t\t\tunits[currPos - 1] += 1;\n\t\t\t\t}\n\t\t\t\ttick = false;\n\t\t\t} else if (!tick) {\n\t\t\t\ttick = true;\n\t\t\t}\n\t\t\tstart = this.$gantt.date.add(start, 1, \"hour\");\n\t\t}\n\t\tif (!units.length)\n\t\t\tunits = false;\n\t\treturn units;\n\t},\n\tmergeCalendars: function () {\n\t\tvar newCalendar = this.createCalendar(),\n\t\t\tday,\n\t\t\tunits = [];\n\t\tvar calendars = Array.prototype.slice.call(arguments, 0);\n\t\tnewCalendar.worktime.hours = [0, 24];\n\t\tnewCalendar.worktime.dates = {};\n\t\tvar start = this.$gantt.date.day_start(new Date(259200000)); // 1970 day=0\n\t\tfor (day = 0; day < 7; day++) {\n\t\t\tunits = this._getDayHoursForMultiple(calendars, start);\n\t\t\tnewCalendar.worktime.dates[day] = units;\n\t\t\tstart = this.$gantt.date.add(start, 1, \"day\");\n\t\t}\n\t\tfor (var i = 0; i < calendars.length; i++) {\n\t\t\tfor (var value in calendars[i].worktime.dates) if (+value > 10000) {\n\t\t\t\tunits = this._getDayHoursForMultiple(calendars, new Date(+value));\n\t\t\t\tnewCalendar.worktime.dates[value] = units;\n\t\t\t}\n\t\t}\n\t\treturn newCalendar;\n\t},\n\n\t_convertWorktimeSettings: function (settings) {\n\t\tvar days = settings.days;\n\t\tif (days) {\n\t\t\tsettings.dates = settings.dates || {};\n\t\t\tfor (var i = 0; i < days.length; i++) {\n\t\t\t\tsettings.dates[i] = days[i];\n\t\t\t\tif (!(days[i] instanceof Array)) {\n\t\t\t\t\tsettings.dates[i] = !!days[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tdelete settings.days;\n\t\t}\n\t\treturn settings;\n\t},\n\n\tcreateCalendar: function (parentCalendar) {\n\t\tvar settings;\n\n\t\tif (!parentCalendar) {\n\t\t\tparentCalendar = {};\n\t\t}\n\n\t\tif (parentCalendar.worktime) {\n\t\t\tsettings = utils.copy(parentCalendar.worktime);\n\t\t} else {\n\t\t\tsettings = utils.copy(parentCalendar);\n\t\t}\n\n\t\tvar defaults = utils.copy(this.defaults.fulltime.worktime);\n\t\tutils.mixin(settings, defaults);\n\n\t\tvar id = utils.uid();\n\t\tvar calendar = {\n\t\t\tid: id + \"\",\n\t\t\tworktime: this._convertWorktimeSettings(settings)\n\t\t};\n\n\t\tvar apiCore = new CalendarWorktimeStrategy(this.$gantt, createArgumentsHelper(this.$gantt));\n\t\tutils.mixin(apiCore, calendar);\n\n\t\t// validate/check if empty calendar\n\t\tif (!apiCore._tryChangeCalendarSettings(function () {\n\t\t\t})) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn apiCore;\n\t\t}\n\t},\n\n\tgetCalendar: function (id) {\n\t\tid = id || \"global\";\n\t\tthis.createDefaultCalendars();\n\t\treturn this._calendars[id];\n\t},\n\n\tgetCalendars: function () {\n\t\tvar res = [];\n\t\tfor (var i in this._calendars) {\n\t\t\tres.push(this.getCalendar(i));\n\t\t}\n\t\treturn res;\n\t},\n\n\t_getOwnCalendar: function(task){\n\t\tvar config = this.$gantt.config;\n\t\tif (task[config.calendar_property]) {\n\t\t\treturn this.getCalendar(task[config.calendar_property]);\n\t\t}\n\n\t\tif (config.resource_calendars) {\n\t\t\tfor (var field in config.resource_calendars) {\n\t\t\t\tvar resource = config.resource_calendars[field];\n\t\t\t\tif (task[field]) {\n\t\t\t\t\tvar calendarId = resource[task[field]];\n\t\t\t\t\tif (calendarId) {\n\t\t\t\t\t\treturn this.getCalendar(calendarId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetTaskCalendar: function (task) {\n\t\tif (!task) {\n\t\t\treturn this.getCalendar();\n\t\t}\n\n\t\tvar calendar = this._getOwnCalendar(task);\n\t\tvar gantt = this.$gantt;\n\t\tif (!calendar && gantt.config.inherit_calendar && gantt.isTaskExists(task.parent)){\n\t\t\tvar stop = false;\n\t\t\tgantt.eachParent(function(parent){\n\t\t\t\tif(stop) return;\n\t\t\t\tif(gantt.isSummaryTask(parent)){\n\t\t\t\t\tcalendar = this._getOwnCalendar(parent);\n\t\t\t\t\tif(calendar){\n\t\t\t\t\t\tstop = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, task.id, this);\n\t\t}\n\n\t\treturn calendar || this.getCalendar();\n\t},\n\n\taddCalendar: function (calendar) { // puts new calendar to Global Storage - gantt.calendarManager._calendars {}\n\t\tif (!(calendar instanceof CalendarWorktimeStrategy)) {\n\t\t\tvar id = calendar.id;\n\t\t\tcalendar = this.createCalendar(calendar);\n\t\t\tcalendar.id = id;\n\t\t}\n\t\tvar config = this.$gantt.config;\n\n\t\tcalendar.id = calendar.id || utils.uid();\n\t\tthis._calendars[calendar.id] = calendar;\n\t\tif (!config.worktimes)\n\t\t\tconfig.worktimes = {};\n\t\tconfig.worktimes[calendar.id] = calendar.worktime;\n\t\treturn calendar.id;\n\t},\n\n\tdeleteCalendar: function (calendar) {\n\t\tvar config = this.$gantt.config;\n\t\tif (!calendar) return false;\n\t\tif (this._calendars[calendar]) {\n\t\t\tdelete this._calendars[calendar];\n\t\t\tif (config.worktimes && config.worktimes[calendar])\n\t\t\t\tdelete config.worktimes[calendar];\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\t},\n\n\trestoreConfigCalendars: function (configs) {\n\t\tfor (var i in configs) {\n\t\t\tif (this._calendars[i])\n\t\t\t\tcontinue;\n\n\t\t\tvar settings = configs[i];\n\t\t\tvar calendar = this.createCalendar(settings);\n\t\t\tcalendar.id = i;\n\t\t\tthis.addCalendar(calendar);\n\t\t}\n\t},\n\n\tdefaults: {\n\t\tglobal: {\n\t\t\tid: \"global\",\n\t\t\tworktime: {\n\t\t\t\thours: [8, 17],\n\t\t\t\tdays: [0, 1, 1, 1, 1, 1, 0]\n\t\t\t}\n\t\t},\n\t\tfulltime: {\n\t\t\tid: \"fulltime\",\n\t\t\tworktime: {\n\t\t\t\thours: [0, 24],\n\t\t\t\tdays: [1, 1, 1, 1, 1, 1, 1]\n\t\t\t}\n\t\t}\n\t},\n\n\tcreateDefaultCalendars: function () {\n\t\tvar config = this.$gantt.config;\n\t\tthis.restoreConfigCalendars(this.defaults);\n\t\tthis.restoreConfigCalendars(config.worktimes);\n\t}\n};\n\nmodule.exports = CalendarManager;","var CalendarManager = require(\"./calendar_manager\"),\n\tTimeCalculator = require(\"./time_calculator\"),\n\tworktimeFacadeFactory = require(\"../facades/worktime_calendars\"),\n\tutils = require(\"../../utils/utils\");\n\nmodule.exports = function (gantt) {\n\tvar manager = new CalendarManager(gantt),\n\ttimeCalculator = new TimeCalculator(manager);\n\tvar facade = worktimeFacadeFactory.create(manager, timeCalculator);\n\tutils.mixin(gantt, facade);\n};\n","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.load = function (url, type, callback) {\n\t\tthis._load_url = url;\n\t\tthis.assert(arguments.length, \"Invalid load arguments\");\n\n\t\tvar tp = 'json', cl = null;\n\t\tif (arguments.length >= 3) {\n\t\t\ttp = type;\n\t\t\tcl = callback;\n\t\t} else {\n\t\t\tif (typeof arguments[1] == \"string\")\n\t\t\t\ttp = arguments[1];\n\t\t\telse if (typeof arguments[1] == \"function\")\n\t\t\t\tcl = arguments[1];\n\t\t}\n\n\t\tthis._load_type = tp;\n\n\t\tthis.callEvent(\"onLoadStart\", [url, tp]);\n\n\t\treturn this.ajax.get(url, gantt.bind(function (l) {\n\t\t\tthis.on_load(l, tp);\n\t\t\tthis.callEvent(\"onLoadEnd\", [url, tp]);\n\t\t\tif (typeof cl == \"function\")\n\t\t\t\tcl.call(this);\n\t\t}, this));\n\t};\n\tgantt.parse = function (data, type) {\n\t\tthis.on_load({xmlDoc: {responseText: data}}, type);\n\t};\n\n\tgantt.serialize = function (type) {\n\t\ttype = type || \"json\";\n\t\treturn this[type].serialize();\n\t};\n\n\t/*\n\ttasks and relations\n\t{\n\tdata:[\n\t\t{\n\t\t\t\"id\":\"string\",\n\t\t\t\"text\":\"...\",\n\t\t\t\"start_date\":\"Date or string\",\n\t\t\t\"end_date\":\"Date or string\",\n\t\t\t\"duration\":\"number\",\n\t\t\t\"progress\":\"0..1\",\n\t\t\t\"parent_id\":\"string\",\n\t\t\t\"order\":\"number\"\n\t\t},...],\n\tlinks:[\n\t\t{\n\t\t\tid:\"string\",\n\t\t\tsource:\"string\",\n\t\t\ttarget:\"string\",\n\t\t\ttype:\"string\"\n\t\t},...],\n\tcollections:{\n\t\t\tcollectionName:[\n\t\t\t\t{key:, label:, optional:...},...\n\t\t\t],...\n\t\t}\n\t}\n\n\t* */\n\n\tgantt.on_load = function (resp, type) {\n\t\tthis.callEvent(\"onBeforeParse\", []);\n\t\tif (!type)\n\t\t\ttype = \"json\";\n\t\tthis.assert(this[type], \"Invalid data type:'\" + type + \"'\");\n\n\t\tvar raw = resp.xmlDoc.responseText;\n\n\t\tvar data = this[type].parse(raw, resp);\n\t\tthis._process_loading(data);\n\t};\n\n\tgantt._process_loading = function (data) {\n\t\tif(data.collections)\n\t\t\tthis._load_collections(data.collections);\n\n\t\tthis.$data.tasksStore.parse(data.data);\n\t\tvar links = data.links || (data.collections ? data.collections.links : []);\n\t\tthis.$data.linksStore.parse(links);\n\n\t\t//this._sync_links();\n\t\tthis.callEvent(\"onParse\", []);\n\t\tthis.render();\n\t\tif(this.config.initial_scroll){\n\t\t\tvar firstTask = this.getTaskByIndex(0);\n\t\t\tvar id = firstTask ? firstTask.id : this.config.root_id;\n\t\t\tif(this.isTaskExists(id))\n\t\t\t\tthis.showTask(id);\n\t\t}\n\t};\n\n\n\tgantt._load_collections = function (collections) {\n\t\tvar collections_loaded = false;\n\t\tfor (var key in collections) {\n\t\t\tif (collections.hasOwnProperty(key)) {\n\t\t\t\tcollections_loaded = true;\n\t\t\t\tvar collection = collections[key];\n\t\t\t\tvar arr = this.serverList[key];\n\t\t\t\tif (!arr) continue;\n\t\t\t\tarr.splice(0, arr.length); //clear old options\n\t\t\t\tfor (var j = 0; j < collection.length; j++) {\n\t\t\t\t\tvar option = collection[j];\n\t\t\t\t\tvar obj = this.copy(option);\n\t\t\t\t\tobj.key = obj.value;// resulting option object\n\n\t\t\t\t\tfor (var option_key in option) {\n\t\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\n\t\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (collections_loaded)\n\t\t\tthis.callEvent(\"onOptionsLoad\", []);\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskDisplay\", function (id, task) {\n\t\treturn !task.$ignore;\n\t});\n\n\tgantt.json = {\n\t\tparse: function (data) {\n\t\t\tgantt.assert(data, \"Invalid data\");\n\n\t\t\tif (typeof data == \"string\") {\n\t\t\t\tif (window.JSON)\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\telse {\n\t\t\t\t\tgantt.assert(false, \"JSON is not supported\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.dhx_security)\n\t\t\t\tgantt.security_key = data.dhx_security;\n\t\t\treturn data;\n\t\t},\n\t\tserializeTask: function (task) {\n\t\t\treturn this._copyObject(task);\n\t\t},\n\t\tserializeLink: function (link) {\n\t\t\treturn this._copyLink(link);\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj)\n\t\t\t\tcopy[key] = obj[key];\n\t\t\treturn copy;\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (key.charAt(0) == \"$\")\n\t\t\t\t\tcontinue;\n\t\t\t\tcopy[key] = obj[key];\n\n\t\t\t\tif (helpers.isDate(copy[key])) {\n\t\t\t\t\tcopy[key] = gantt.templates.xml_format !== gantt.templates.formate_date ? gantt.templates.xml_format(copy[key]) : gantt.templates.formate_date(copy[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn copy;\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tgantt.eachTask(function (obj) {\n\t\t\t\tgantt.resetProjectDates(obj);\n\t\t\t\ttasks.push(this.serializeTask(obj));\n\t\t\t}, gantt.config.root_id, this);\n\n\t\t\tvar rawLinks = gantt.getLinks();\n\t\t\tfor (var i = 0; i < rawLinks.length; i++) {\n\t\t\t\tlinks.push(this.serializeLink(rawLinks[i]));\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: tasks,\n\t\t\t\tlinks: links\n\t\t\t};\n\t\t}\n\t};\n\n\t/*\n\t<data>\n\t\t<task id:\"some\" parent_id=\"0\" progress=\"0.5\">\n\t\t\t<text>My task 1</text>\n\t\t\t<start_date>16.08.2013</start_date>\n\t\t\t<end_date>22.08.2013</end_date>\n\t\t</task>\n\t\t<coll_options>\n\t\t\t<links>\n\t\t\t\t<link source='a1' target='b2' type='c3' />\n\t\t\t</links>\n\t\t</coll_options>\n\t</data>\n\t*/\n\n\tgantt.xml = {\n\t\t_xmlNodeToJSON: function (node, attrs_only) {\n\t\t\tvar t = {};\n\t\t\tfor (var i = 0; i < node.attributes.length; i++)\n\t\t\t\tt[node.attributes[i].name] = node.attributes[i].value;\n\n\t\t\tif (!attrs_only) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\t\tvar child = node.childNodes[i];\n\t\t\t\t\tif (child.nodeType == 1)\n\t\t\t\t\t\tt[child.tagName] = child.firstChild ? child.firstChild.nodeValue : \"\";\n\t\t\t\t}\n\n\t\t\t\tif (!t.text) t.text = node.firstChild ? node.firstChild.nodeValue : \"\";\n\t\t\t}\n\n\t\t\treturn t;\n\t\t},\n\t\t_getCollections: function (loader) {\n\t\t\tvar collection = {};\n\t\t\tvar opts = gantt.ajax.xpath(\"//coll_options\", loader);\n\t\t\tfor (var i = 0; i < opts.length; i++) {\n\t\t\t\tvar bind = opts[i].getAttribute(\"for\");\n\t\t\t\tvar arr = collection[bind] = [];\n\t\t\t\tvar itms = gantt.ajax.xpath(\".//item\", opts[i]);\n\t\t\t\tfor (var j = 0; j < itms.length; j++) {\n\t\t\t\t\tvar itm = itms[j];\n\t\t\t\t\tvar attrs = itm.attributes;\n\t\t\t\t\tvar obj = {key: itms[j].getAttribute(\"value\"), label: itms[j].getAttribute(\"label\")};\n\t\t\t\t\tfor (var k = 0; k < attrs.length; k++) {\n\t\t\t\t\t\tvar attr = attrs[k];\n\t\t\t\t\t\tif (attr.nodeName == \"value\" || attr.nodeName == \"label\")\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tobj[attr.nodeName] = attr.nodeValue;\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn collection;\n\t\t},\n\t\t_getXML: function (text, loader, toptag) {\n\t\t\ttoptag = toptag || \"data\";\n\t\t\tif (!loader.getXMLTopNode) {\n\t\t\t\tloader = gantt.ajax.parse(loader);\n\t\t\t}\n\n\t\t\tvar xml = gantt.ajax.xmltop(toptag, loader.xmlDoc);\n\t\t\tif (!xml || xml.tagName != toptag) throw \"Invalid XML data\";\n\n\t\t\tvar skey = xml.getAttribute(\"dhx_security\");\n\t\t\tif (skey)\n\t\t\t\tgantt.security_key = skey;\n\n\t\t\treturn xml;\n\t\t},\n\t\tparse: function (text, loader) {\n\t\t\tloader = this._getXML(text, loader);\n\t\t\tvar data = {};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++)\n\t\t\t\tevs[i] = this._xmlNodeToJSON(xml[i]);\n\n\t\t\tdata.collections = this._getCollections(loader);\n\t\t\treturn data;\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\treturn \"<item id='\" + obj.id + \"' source='\" + obj.source + \"' target='\" + obj.target + \"' type='\" + obj.type + \"' />\";\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\treturn \"<task id='\" + obj.id + \"' parent='\" + (obj.parent || \"\") + \"' start_date='\" + obj.start_date + \"' duration='\" + obj.duration + \"' open='\" + (!!obj.open) + \"' progress='\" + obj.progress + \"' end_date='\" + obj.end_date + \"'><![CDATA[\" + obj.text + \"]]></task>\";\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tvar json = gantt.json.serialize();\n\t\t\tfor (var i = 0, len = json.data.length; i < len; i++) {\n\t\t\t\ttasks.push(this._copyObject(json.data[i]));\n\t\t\t}\n\t\t\tfor (var i = 0, len = json.links.length; i < len; i++) {\n\t\t\t\tlinks.push(this._copyLink(json.links[i]));\n\t\t\t}\n\t\t\treturn \"<data>\" + tasks.join(\"\") + \"<coll_options for='links'>\" + links.join(\"\") + \"</coll_options></data>\";\n\t\t}\n\t};\n\n\n\tgantt.oldxml = {\n\t\tparse: function (text, loader) {\n\t\t\tloader = gantt.xml._getXML(text, loader, \"projects\");\n\t\t\tvar data = {collections: {links: []}};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tevs[i] = gantt.xml._xmlNodeToJSON(xml[i]);\n\t\t\t\tvar parent = xml[i].parentNode;\n\n\t\t\t\tif (parent.tagName == \"project\")\n\t\t\t\t\tevs[i].parent = \"project-\" + parent.getAttribute(\"id\");\n\t\t\t\telse\n\t\t\t\t\tevs[i].parent = parent.parentNode.getAttribute(\"id\");\n\t\t\t}\n\n\t\t\txml = gantt.ajax.xpath(\"//project\", loader);\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tvar ev = gantt.xml._xmlNodeToJSON(xml[i], true);\n\t\t\t\tev.id = \"project-\" + ev.id;\n\t\t\t\tevs.push(ev);\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < evs.length; i++) {\n\t\t\t\tvar ev = evs[i];\n\t\t\t\tev.start_date = ev.startdate || ev.est;\n\t\t\t\tev.end_date = ev.enddate;\n\t\t\t\tev.text = ev.name;\n\t\t\t\tev.duration = ev.duration / 8;\n\t\t\t\tev.open = 1;\n\t\t\t\tif (!ev.duration && !ev.end_date) ev.duration = 1;\n\t\t\t\tif (ev.predecessortasks)\n\t\t\t\t\tdata.collections.links.push({\n\t\t\t\t\t\ttarget: ev.id,\n\t\t\t\t\t\tsource: ev.predecessortasks,\n\t\t\t\t\t\ttype: gantt.config.links.finish_to_start\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\t\tserialize: function () {\n\t\t\tgantt.message(\"Serialization to 'old XML' is not implemented\");\n\t\t}\n\t};\n\n\tgantt.serverList = function (name, array) {\n\t\tif (array) {\n\t\t\tthis.serverList[name] = array.slice(0);\n\t\t} else if (!this.serverList[name]) {\n\t\t\tthis.serverList[name] = [];\n\t\t}\n\t\treturn this.serverList[name];\n\t};\n\n};","module.exports = function(gantt) {\n\tgantt.isReadonly = function (item) {\n\t\tif (item && item[this.config.editable_property]) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn (item && item[this.config.readonly_property]) || this.config.readonly;\n\t\t}\n\t};\n};","module.exports = function(gantt){\n\t// TODO: why eslint fails on regexp?\n\t// eslint-disable-next-line no-control-regex\n\tvar htmlTags = new RegExp(\"<(?:.|\\n)*?>\", \"gm\");\n\tvar extraSpaces = new RegExp(\" +\", \"gm\");\n\n\tfunction stripHTMLLite(htmlText){\n\t\treturn (htmlText + \"\")\n\t\t\t.replace(htmlTags, \" \").\n\t\t\treplace(extraSpaces, \" \");\n\t}\n\n\tvar singleQuotes = new RegExp(\"'\", \"gm\");\n\tfunction escapeQuotes(text){\n\t\treturn (text + \"\").replace(singleQuotes, \"&#39;\");\n\t}\n\n\tgantt._waiAria = {\n\t\tgetAttributeString: function(attr){\n\t\t\tvar attributes = [\" \"];\n\t\t\tfor(var i in attr){\n\t\t\t\tvar text = escapeQuotes(stripHTMLLite(attr[i]));\n\t\t\t\tattributes.push(i + \"='\" + text + \"'\");\n\t\t\t}\n\t\t\tattributes.push(\" \");\n\t\t\treturn attributes.join(\" \");\n\n\t\t},\n\n\t\tgetTimelineCellAttr:function(dateString){\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": dateString});\n\t\t},\n\n\t\t_taskCommonAttr: function(task, div){\n\n\t\t\tif(!(task.start_date && task.end_date))\n\t\t\t\treturn;\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(gantt.templates.tooltip_text(task.start_date, task.end_date, task)));\n\n\t\t\tif(gantt.isReadonly(task)){\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\n\t\t\t}\n\n\t\t\tif(task.$dataprocessor_class){\n\t\t\t\tdiv.setAttribute(\"aria-busy\", true);\n\t\t\t}\n\n\t\t\tdiv.setAttribute(\"aria-selected\", gantt.isSelectedTask(task.id) ? \"true\" : \"false\");\n\t\t},\n\n\t\tsetTaskBarAttr: function(task, div){\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.drag_move){\n\t\t\t\tif(task.id != gantt.getState().drag_id){\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t\t}else{\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttaskRowAttr: function(task, div){\n\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.order_branch){\n\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t}\n\n\t\t\tdiv.setAttribute(\"role\", \"row\");\n\n\t\t\tdiv.setAttribute(\"aria-level\", task.$level);\n\n\t\t\tif(gantt.hasChild(task.id)){\n\t\t\t\tdiv.setAttribute(\"aria-expanded\", task.$open ? \"true\" : \"false\");\n\t\t\t}\n\t\t},\n\n\t\tlinkAttr: function(link, div){\n\n\t\t\tvar linkTypes = gantt.config.links;\n\n\t\t\tvar toStart = link.type == linkTypes.finish_to_start || link.type == linkTypes.start_to_start;\n\t\t\tvar fromStart = link.type == linkTypes.start_to_start || link.type == linkTypes.start_to_finish;\n\n\t\t\tvar content = gantt.locale.labels.link + \" \" +  gantt.templates.drag_link(link.source, fromStart, link.target, toStart);\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(content));\n\t\t\tif(gantt.isReadonly(link)){\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\n\t\t\t}\n\t\t},\n\n\t\tgridSeparatorAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"separator\");\n\t\t},\n\n\t\tlightboxHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t},\n\n\t\tlightboxVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\tlightboxAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t\tdiv.firstChild.setAttribute(\"role\", \"heading\");\n\t\t},\n\n\t\tlightboxButtonAttrString:function(buttonName){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":gantt.locale.labels[buttonName], \"tabindex\":\"0\"});\n\t\t},\n\n\t\tlightboxHeader: function(div, headerText){\n\t\t\tdiv.setAttribute(\"aria-label\", headerText);\n\t\t},\n\n\t\tlightboxSelectAttrString: function(time_option){\n\t\t\tvar label = \"\";\n\n\t\t\tswitch (time_option) {\n\t\t\t\tcase \"%Y\":\n\t\t\t\t\tlabel = gantt.locale.labels.years;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%m\":\n\t\t\t\t\tlabel = gantt.locale.labels.months;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%d\":\n\t\t\t\t\tlabel = gantt.locale.labels.days;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%H:%i\":\n\t\t\t\t\tlabel = gantt.locale.labels.hours + gantt.locale.labels.minutes;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": label});\n\t\t},\n\n\t\tlightboxDurationInputAttrString: function(section){\n\t\t\treturn this.getAttributeString({\"aria-label\": gantt.locale.labels.column_duration, \"aria-valuemin\": \"0\"});\n\t\t},\n\n\t\tgridAttrString: function(){\n\t\t\treturn [\" role='treegrid'\", gantt.config.multiselect ? \"aria-multiselectable='true'\" : \"aria-multiselectable='false'\", \" \"].join(\" \");\n\t\t},\n\n\n\t\tgridScaleRowAttrString: function(){\n\t\t\treturn \"role='row'\";\n\t\t},\n\n\t\tgridScaleCellAttrString: function(column, label){\n\t\t\tvar attrs = \"\";\n\t\t\tif(column.name == \"add\"){\n\t\t\t\tattrs = this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t\t}else{\n\n\t\t\t\tvar attributes = {\n\t\t\t\t\t\"role\":\"columnheader\",\n\t\t\t\t\t\"aria-label\": label\n\t\t\t\t};\n\n\t\t\t\tif(gantt._sort && gantt._sort.name == column.name){\n\t\t\t\t\tif(gantt._sort.direction == \"asc\"){\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"ascending\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"descending\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tattrs = this.getAttributeString(attributes);\n\t\t\t}\n\t\t\treturn attrs;\n\t\t},\n\n\t\tgridDataAttrString: function(){\n\t\t\treturn \"role='rowgroup'\";\n\t\t},\n\n\t\tgridCellAttrString: function(column, textValue){\n\t\t\treturn this.getAttributeString({\"role\":\"gridcell\", \"aria-label\": textValue});\n\t\t},\n\n\t\tgridAddButtonAttrString: function(column){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t},\n\n\t\tmessageButtonAttrString: function(buttonLabel){\n\t\t\treturn \"tabindex='0' role='button' aria-label='\"+buttonLabel+\"'\";\n\t\t},\n\n\t\tmessageInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"alert\");\n\t\t\t//div.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tmessageModalAttr: function(div, uid){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tif(uid){\n\t\t\t\tdiv.setAttribute(\"aria-labelledby\", uid);\n\t\t\t}\n\n\t\t//\tdiv.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tquickInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t},\n\n\t\tquickInfoHeaderAttrString: function(){\n\t\t\treturn \" role='heading' \";\n\t\t},\n\n\t\tquickInfoHeader: function(div, header){\n\t\t\tdiv.setAttribute(\"aria-label\", header);\n\t\t},\n\n\t\tquickInfoButtonAttrString: function(label){\n\t\t\treturn gantt._waiAria.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\n\t\t},\n\n\t\ttooltipAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"tooltip\");\n\t\t},\n\n\t\ttooltipVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\ttooltipHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t}\n\t};\n\n\tfunction isDisabled(){\n\t\treturn !gantt.config.wai_aria_attributes;\n\t}\n\n\tfor(var i in gantt._waiAria){\n\t\tgantt._waiAria[i] = (function(payload){\n\t\t\treturn function(){\n\t\t\t\tif(isDisabled()){\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\treturn payload.apply(this, arguments);\n\t\t\t};\n\t\t})(gantt._waiAria[i]);\n\t}\n\n\n};","module.exports = function(gantt) {\n\tgantt.getGridColumn = function(name) {\n\t\tvar columns = gantt.config.columns;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (columns[i].name == name)\n\t\t\t\treturn columns[i];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tgantt.getGridColumns = function() {\n\t\treturn gantt.config.columns.slice();\n\t};\n};","var Grid = require(\"./ui/grid/grid\");\n\nmodule.exports = function(gantt) {\n\trequire(\"./grid_column_api.gpl\")(gantt);\n\tGrid.prototype.getGridColumns = function () {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = config.columns,\n\t\t\tvisibleColumns = [];\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (!columns[i].hide)\n\t\t\t\tvisibleColumns.push(columns[i]);\n\t\t}\n\n\t\treturn visibleColumns;\n\t};\n};","module.exports = function(gantt) {\n\tvar TreeDataStore = require(\"./datastore/treedatastore\");\n\n\tvar old_has_children = TreeDataStore.prototype.hasChild;\n\tgantt.$data.tasksStore.hasChild = function (id) {\n\t\tif (old_has_children.apply(this, arguments))\n\t\t\treturn true;\n\t\tif (this.exists(id)) {\n\t\t\treturn this.getItem(id)[gantt.config.branch_loading_property];\n\t\t}\n\t\treturn false;\n\t};\n\n\tfunction needLoading(id) {\n\t\tif (gantt.config.branch_loading && gantt._load_url) {\n\t\t\tvar was_rendered = gantt.getUserData(id, \"was_rendered\");\n\t\t\t// call ajax only if branch has children\n\t\t\tif (!was_rendered && (!gantt.getChildren(id).length && gantt.hasChild(id))) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tgantt.attachEvent(\"onTaskOpened\", function (id) {\n\t\tif (gantt.config.branch_loading && gantt._load_url) {\n\t\t\t// call ajax only if branch has children\n\t\t\tif (needLoading(id)) {\n\t\t\t\tvar url = gantt._load_url;\n\t\t\t\turl = url.replace(/(\\?|&)?parent_id=.+&?/, \"\");\n\t\t\t\tvar param = url.indexOf(\"?\") >= 0 ? \"&\" : \"?\";\n\t\t\t\tvar y = gantt.getScrollState().y || 0;\n\n\t\t\t\tgantt.load(url + param + \"parent_id=\" + encodeURIComponent(id), this._load_type, function () {\n\t\t\t\t\tif (y) {\n\t\t\t\t\t\tgantt.scrollTo(null, y);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tgantt.setUserData(id, \"was_rendered\", true);\n\t\t\t}\n\t\t}\n\t});\n\n};","import * as env from \"../../utils/env\";\nimport * as eventable from \"../../utils/eventable\";\nimport { IScale } from \"../common/config\";\n\ninterface ITimelineZoomConfig {\n\thandler?: (e: Event) => {};\n\tstartDate?: Date;\n\tendDate?: Date;\n\tlevels: IZoomLevel[];\n\tactiveLevelIndex?: number;\n\twidthStep?: number;\n\tminColumnWidth?: number;\n\tmaxColumnWidth?: number;\n\tuseKey?: \"ctrlKey\" | \"altKey\" | \"shiftKey\";\n\ttrigger?: \"wheel\" | null | undefined;\n\telement?: Element | (() => Element);\n}\n\ntype TPossibleKeys = \"metaKey\" | \"ctrlKey\" | \"altKey\" | \"shiftKey\" | false | undefined;\nconst USE_KEY = [\"ctrlKey\", \"altKey\", \"shiftKey\", \"metaKey\"];\n\ninterface IZoomLevel {\n\tname?: string;\n\tscale_height?: number;\n\tmin_column_width: number;\n\tscales: IScale[];\n}\n\nconst _defaultScales = [\n\t[\n\t\t{\n\t\t\tunit: \"month\",\n\t\t\tdate: \"%M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d\",\n\t\t\tstep: 1\n\t\t}\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t}\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"hour\",\n\t\t\tdate: \"%H:00\",\n\t\t\tstep: 8\n\t\t},\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"hour\",\n\t\t\tdate: \"%H:00\",\n\t\t\tstep: 1\n\t\t},\n\t],\n];\n\nexport default class TimelineZoom {\n\tpublic attachEvent: (eventName: string, handler: () => void) => string;\n\tpublic callEvent: (eventName: string, args: any[]) => any;\n\tpublic detachEvent: (eventName: string) => any;\n\tprotected _initialStartDate: Date;\n\tprotected _initialEndDate: Date;\n\tprotected _activeLevelIndex: number;\n\tprotected _levels: IZoomLevel[];\n\tprotected _handler: (e: any) => void;\n\tprotected $gantt;\n\tprotected _widthStep: number;\n\tprotected _minColumnWidth: number;\n\tprotected _maxColumnWidth: number;\n\tprotected _useKey: TPossibleKeys;\n\tprotected _eventAttached: string;\n\tprotected _visibleDate: Date;\n\tprotected _initialized: boolean;\n\n\tconstructor(gantt) {\n\t\tthis.$gantt = gantt;\n\t}\n\n\tpublic init(config: ITimelineZoomConfig) {\n\t\tthis._initialStartDate = config.startDate;\n\t\tthis._initialEndDate = config.endDate;\n\t\tthis._activeLevelIndex = config.activeLevelIndex ? config.activeLevelIndex : 0;\n\t\tthis._levels = this._mapScales(config.levels || _defaultScales);\n\t\tthis._handler = config.handler || this._defaultHandler;\n\t\tthis._minColumnWidth = config.minColumnWidth || 60;\n\t\tthis._maxColumnWidth = config.maxColumnWidth || 240;\n\t\tthis._widthStep = config.widthStep || 3/8 * config.minColumnWidth;\n\t\tthis._useKey = config.useKey;\n\n\t\tif(!this._initialized){\n\t\t\teventable(this);\n\t\t\tthis.$gantt.attachEvent(\"onGanttScroll\", () => {\n\t\t\t\tthis._getVisibleDate();\n\t\t\t});\n\t\t}\n\n\t\tif(this._eventAttached){\n\t\t\tthis.$gantt.eventRemove(this._eventAttached);\n\t\t}\n\n\t\tif(config.trigger === \"wheel\"){\n\t\t\tif(this.$gantt.$root){\n\t\t\t\tthis._attachWheelEvent(config);\n\t\t\t}else{\n\t\t\t\tthis.$gantt.attachEvent(\"onGanttReady\", () => {\n\t\t\t\t\tthis._attachWheelEvent(config);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis._initialized = true;\n\t\tthis.setLevel(this._activeLevelIndex);\n\t}\n\n\tpublic zoomIn = () => {\n\t\tconst index = this.getCurrentLevel() - 1;\n\t\tif(index < 0){\n\t\t\treturn;\n\t\t}\n\t\tthis.setLevel(index);\n\t}\n\n\tpublic zoomOut = () => {\n\t\tconst index = this.getCurrentLevel() + 1;\n\t\tif(index > this._levels.length - 1){\n\t\t\treturn;\n\t\t}\n\t\tthis.setLevel(index);\n\t}\n\n\tpublic getCurrentLevel = () => {\n\t\treturn this._activeLevelIndex;\n\t}\n\n\tpublic getLevels = () => {\n\t\treturn this._levels;\n\t}\n\n\tpublic setLevel = (level: number|string) => {\n\t\tconst zoomLevel = this._getZoomIndexByName(level);\n\n\t\tif(zoomLevel === -1){\n\t\t\tthis.$gantt.assert(zoomLevel !== -1, \"Invalid zoom level for gantt.ext.zoom.setLevel. \" + level + \" is not an expected value.\");\n\t\t}\n\t\tthis._setLevel(zoomLevel, 0);\n\t}\n\n\tprotected _getZoomIndexByName = (levelName: number|string) => {\n\t\tlet zoomLevel:number = -1;\n\t\tif(typeof levelName === \"string\"){\n\t\t\tif(!isNaN(Number(levelName)) &&  this._levels[Number(levelName)]){\n\t\t\t\tzoomLevel = Number(levelName);\n\t\t\t}else{\n\t\t\t\tfor(let i = 0; i < this._levels.length; i++){\n\t\t\t\t\tif(this._levels[i].name === levelName){\n\t\t\t\t\t\tzoomLevel = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tzoomLevel = levelName;\n\t\t}\n\t\treturn zoomLevel;\n\t}\n\n\tprotected _mapScales(levels: IScale[][] | any): IZoomLevel[]{\n\t\treturn levels.map((l) => {\n\t\t\tif(Array.isArray(l)){\n\t\t\t\treturn {\n\t\t\t\t\tscales: l\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\treturn l;\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _getVisibleDate = () => {\n\t\tconst scrollPos = this.$gantt.getScrollState().x;\n\t\tconst viewPort = this.$gantt.$task.offsetWidth;\n\t\tthis._visibleDate = this.$gantt.dateFromPos(scrollPos + viewPort/2);\n\t}\n\n\tprotected _setLevel = (level: number, cursorOffset: number) => {\n\t\tthis._activeLevelIndex = level;\n\n\t\tconst gantt = this.$gantt;\n\t\tconst nextConfig = gantt.copy(this._levels[this._activeLevelIndex]);\n\t\tconst chartConfig = gantt.copy(nextConfig);\n\t\tdelete chartConfig.name;\n\n\t\tgantt.mixin(gantt.config, chartConfig, true);\n\n\t\tconst isRendered = !!gantt.$root;\n\n\t\tif(isRendered){\n\t\t\tif(cursorOffset){\n\t\t\t\tconst cursorDate = this.$gantt.dateFromPos(cursorOffset + this.$gantt.getScrollState().x);\n\t\t\t\tthis.$gantt.render();\n\t\t\t\tconst newPosition = this.$gantt.posFromDate(cursorDate);\n\t\t\t\tthis.$gantt.scrollTo(newPosition - cursorOffset);\n\t\t\t}else{\n\t\t\t\tconst viewPort = this.$gantt.$task.offsetWidth;\n\t\t\t\tif(!this._visibleDate){\n\t\t\t\t\tthis._getVisibleDate();\n\t\t\t\t}\n\t\t\t\tconst middleDate = this._visibleDate;\n\t\t\t\tthis.$gantt.render();\n\t\t\t\tconst newPosition = this.$gantt.posFromDate(middleDate);\n\t\t\t\tthis.$gantt.scrollTo(newPosition - viewPort/2);\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onAfterZoom\", [this._activeLevelIndex, nextConfig]);\n\t\t}\n\t}\n\n\tprivate _attachWheelEvent = (config) => {\n\t\tconst event = env.isFF ? \"wheel\" : \"mousewheel\";\n\t\tlet el: Element;\n\t\tif(typeof config.element === \"function\"){\n\t\t\tel = config.element();\n\t\t}else{\n\t\t\tel = config.element as Element;\n\t\t}\n\t\tif (!el){\n\t\t\treturn;\n\t\t}\n\n\t\tthis._eventAttached = this.$gantt.event(el, event, (e) => {\n\t\t\tif (this._useKey) {\n\t\t\t\tif (USE_KEY.indexOf(this._useKey) < 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!e[this._useKey]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof this._handler === \"function\") {\n\t\t\t\tthis._handler.apply(this, [e]);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _defaultHandler = (e: any):void => {\n\t\tconst timelineOffset = this.$gantt.$task.getBoundingClientRect().x;\n\t\tconst cursorOffset = e.clientX - timelineOffset;\n\t\tconst wheelY = this.$gantt.env.isFF ? (e.deltaY*-40) : e.wheelDelta;\n\t\tlet wheelUp = false;\n\t\tif (wheelY > 0) {\n\t\t\twheelUp = true;\n\t\t}\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis._setScaleSettings(wheelUp, cursorOffset);\n\t}\n\n\tprivate _setScaleSettings(wheelUp: boolean, cursorOffset: number) {\n\t\tif (wheelUp) {\n\t\t\tthis._stepUp(cursorOffset);\n\t\t} else {\n\t\t\tthis._stepDown(cursorOffset);\n\t\t}\n\t}\n\n\tprivate _setScaleDates = () => {\n\t\tif(this._initialStartDate && this._initialEndDate){\n\t\t\tthis.$gantt.config.start_date = this._initialStartDate;\n\t\t\tthis.$gantt.config.end_date = this._initialEndDate;\n\t\t}\n\t}\n\n\tprivate _stepUp(cursorOffset) {\n\t\tif (this._activeLevelIndex >= this._levels.length - 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet nextLevel = this._activeLevelIndex;\n\t\tthis._setScaleDates();\n\n\t\tif(this._widthStep){\n\t\t\tlet newColumnWidth = this.$gantt.config.min_column_width + this._widthStep;\n\t\t\tif (newColumnWidth > this._maxColumnWidth) {\n\t\t\t\tnewColumnWidth = this._minColumnWidth;\n\t\t\t\tnextLevel++;\n\t\t\t}\n\n\t\t\tthis.$gantt.config.min_column_width = newColumnWidth;\n\t\t}else{\n\t\t\tnextLevel++;\n\t\t}\n\t\tthis._setLevel(nextLevel, cursorOffset);\n\t}\n\tprivate _stepDown(cursorOffset) {\n\t\tif (this._activeLevelIndex < 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet nextLevel = this._activeLevelIndex;\n\t\tthis._setScaleDates();\n\n\t\tif(this._widthStep){\n\t\t\tlet newColumnWidth = this.$gantt.config.min_column_width - this._widthStep;\n\t\t\tif (newColumnWidth < this._minColumnWidth) {\n\t\t\t\tnewColumnWidth = this._maxColumnWidth;\n\t\t\t\tnextLevel--;\n\t\t\t}\n\t\t\tthis.$gantt.config.min_column_width = newColumnWidth;\n\t\t}else{\n\t\t\tnextLevel--;\n\t\t}\n\t\tthis._setLevel(nextLevel, cursorOffset);\n\t}\n}","module.exports = function(gantt) {\n\tfunction isEnabled() {\n\t\treturn gantt.config.auto_types && // if enabled\n\t\t\t(gantt.getTaskType(gantt.config.types.project) == gantt.config.types.project);// and supported\n\t}\n\n\tfunction callIfEnabled(callback) {\n\t\treturn function() {\n\t\t\tif (!isEnabled()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction updateParents(childId) {\n\t\tgantt.batchUpdate(function() {\n\t\t\tcheckParent(childId);\n\t\t});\n\t}\n\n\tvar delTaskParent;\n\n\tfunction checkParent(id) {\n\t\tsetTaskType(id);\n\t\tvar parent = gantt.getParent(id);\n\n\t\tif (parent != gantt.config.root_id) {\n\t\t\tcheckParent(parent);\n\t\t}\n\t}\n\n\tfunction setTaskType(id) {\n\t\tid = id.id || id;\n\t\tvar task = gantt.getTask(id);\n\t\tvar targetType = getTaskTypeToUpdate(task);\n\n\t\tif (targetType !== false) {\n\t\t\tupdateTaskType(task, targetType);\n\t\t}\n\t}\n\n\tfunction updateTaskType(task, targetType) {\n\t\ttask.type = targetType;\n\t\tgantt.updateTask(task.id);\n\t}\n\n\tfunction getTaskTypeToUpdate(task) {\n\t\tvar allTypes = gantt.config.types;\n\t\tvar hasChildren = gantt.hasChild(task.id);\n\t\tvar taskType = gantt.getTaskType(task.type);\n\n\t\tif (hasChildren && taskType === allTypes.task) {\n\t\t\treturn allTypes.project;\n\t\t}\n\n\t\tif (!hasChildren && taskType === allTypes.project) {\n\t\t\treturn allTypes.task;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar isParsingDone = true;\n\n\tgantt.attachEvent(\"onParse\", callIfEnabled(function() {\n\t\tisParsingDone = false;\n\n\t\tgantt.batchUpdate(function() {\n\t\t\tgantt.eachTask(function(task) {\n\t\t\t\tvar targetType = getTaskTypeToUpdate(task);\n\t\t\t\tif (targetType !== false) {\n\t\t\t\t\tupdateTaskType(task, targetType);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tisParsingDone = true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskAdd\", callIfEnabled(function(id) {\n\t\tif (isParsingDone) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskUpdate\", callIfEnabled(function(id) {\n\t\tif (isParsingDone) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}));\n\n\tfunction updateAfterRemoveChild(id){\n\t\tif (id != gantt.config.root_id && gantt.isTaskExists(id)) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}\n\n\tgantt.attachEvent(\"onBeforeTaskDelete\", callIfEnabled(function(id, task) {\n\t\tdelTaskParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskDelete\", callIfEnabled(function(id, task) {\n\t\tupdateAfterRemoveChild(delTaskParent);\n\t}));\n\n\n\tvar originalRowDndParent;\n\n\tgantt.attachEvent(\"onRowDragStart\", callIfEnabled(function(id, target, e) {\n\t\toriginalRowDndParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onRowDragEnd\", callIfEnabled(function(id, target) {\n\t\tupdateAfterRemoveChild(originalRowDndParent);\n\t\tupdateParents(id);\n\t}));\n\n\tvar originalMoveTaskParent;\n\n\tgantt.attachEvent(\"onBeforeTaskMove\", callIfEnabled(function(sid, parent, tindex) {\n\t\toriginalMoveTaskParent = gantt.getParent(sid);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskMove\", callIfEnabled(function(id, parent, tindex) {\n\t\tif (document.querySelector(\".gantt_drag_marker\")) {\n\t\t\t// vertical dnd in progress\n\t\t\treturn;\n\t\t}\n\t\tupdateAfterRemoveChild(originalMoveTaskParent);\n\t\tupdateParents(id);\n\t}));\n};","module.exports = function addPlaceholder(gantt){\n\tfunction isEnabled(){\n\t\treturn gantt.config.placeholder_task;\n\t}\n\n\tfunction callIfEnabled(callback){\n\t\treturn function(){\n\t\t\tif(!isEnabled()){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction silenceDataProcessor(dataProcessor){\n\t\tif(dataProcessor && !dataProcessor._silencedPlaceholder){\n\t\t\tdataProcessor._silencedPlaceholder = true;\n\t\t\tdataProcessor.attachEvent(\"onBeforeUpdate\", callIfEnabled(function(id, state, data){\n\t\t\t\tif(data.type == gantt.config.types.placeholder){\n\t\t\t\t\tdataProcessor.setUpdated(id, false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}));\n\t\t}\n\t}\n\n\tfunction insertPlaceholder(){\n\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\tif(!placeholders.length || !gantt.isTaskExists(placeholders[0].id)){\n\t\t\tvar placeholder = {\n\t\t\t\tunscheduled: true,\n\t\t\t\ttype: gantt.config.types.placeholder,\n\t\t\t\tduration:0,\n\t\t\t\ttext: gantt.locale.labels.new_task\n\t\t\t};\n\t\t\tif(gantt.callEvent(\"onTaskCreated\", [placeholder]) === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgantt.addTask(placeholder);\n\t\t\t\n\t\t}\n\t}\n\n\tfunction afterEdit(id){\n\t\tvar item = gantt.getTask(id);\n\t\tif(item.type == gantt.config.types.placeholder) {\n\t\t\tif(item.start_date && item.end_date && item.unscheduled){\n\t\t\t\titem.unscheduled = false;\n\t\t\t}\n\n\t\t\tgantt.batchUpdate(function(){\n\t\t\t\tvar newTask = gantt.copy(item);\n\t\t\t\tgantt.silent(function(){\n\t\t\t\t\tgantt.deleteTask(item.id);\n\t\t\t\t});\n\n\t\t\t\tdelete newTask[\"!nativeeditor_status\"];\n\t\t\t\tnewTask.type = gantt.config.types.task;\n\t\t\t\tnewTask.id = gantt.uid();\n\t\t\t\tgantt.addTask(newTask);\n\n\t\t\t\t//insertPlaceholder();\n\t\t\t});\n\n\t\t}\n\t}\n\n\tgantt.config.types.placeholder = \"placeholder\";\n\tgantt.attachEvent(\"onDataProcessorReady\", callIfEnabled(silenceDataProcessor));\n\n\tvar ready = false;\n\tgantt.attachEvent(\"onGanttReady\", function(){\n\t\tif(ready){\n\t\t\treturn;\n\t\t}\n\t\tready = true;\n\t\tgantt.attachEvent(\"onAfterTaskUpdate\", callIfEnabled(afterEdit));\n\t\tgantt.attachEvent(\"onAfterTaskAdd\", callIfEnabled(function(id, task){\n\t\t\tif(task.type != gantt.config.types.placeholder){\n\t\t\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\t\t\tplaceholders.forEach(function(p){\n\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\tif(gantt.isTaskExists(p.id))\n\t\t\t\t\t\t\tgantt.deleteTask(p.id);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tinsertPlaceholder();\n\t\t\t}\n\t\t}));\n\t\tgantt.attachEvent(\"onParse\", callIfEnabled(insertPlaceholder));\n\t});\n\n\tgantt.attachEvent(\"onBeforeUndoStack\", function(action){\n\t\tfor(var i = 0; i < action.commands.length; i++){\n\t\t\tvar command = action.commands[i];\n\t\t\tif(command.entity === \"task\" && command.value.type === gantt.config.types.placeholder){\n\t\t\t\taction.commands.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n\n};","var helpers = require(\"../../utils/helpers\");\nvar smartRender = require(\"../ui/render/smart_render_wrapper\");\n\nfunction createResourceMethods(gantt){\n\n\tvar resourceTaskCache = {};\n\n\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(){\n\t\tresourceTaskCache = {};\n\t});\n\n\tfunction getTaskBy(propertyName, propertyValue) {\n\t\tif (typeof propertyName == \"function\") {\n\t\t\treturn filterResourceTasks(propertyName);\n\t\t} else {\n\t\t\tif (helpers.isArray(propertyValue)) {\n\t\t\t\treturn getResourceTasks(propertyName, propertyValue);\n\t\t\t} else {\n\t\t\t\treturn getResourceTasks(propertyName, [propertyValue]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction filterResourceTasks(filter) {\n\t\tvar res = [];\n\t\tgantt.eachTask(function (task) {\n\t\t\tif (filter(task)) {\n\t\t\t\tres.push(task);\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t}\n\n\tfunction getResourceTasks(property, resourceIds) {\n\t\tvar res;\n\n\t\tvar cacheKey = resourceIds.join(\"_\") + \"_\" + property;\n\n\t\tvar resourceHash = {};\n\t\tfor (var i = 0; i < resourceIds.length; i++) {\n\t\t\tresourceHash[resourceIds[i]] = true;\n\t\t}\n\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = [];\n\t\t\tgantt.eachTask(function (task) {\n\t\t\t\tif (task.type == gantt.config.types.project)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar resourceValue;\n\t\t\t\tif (!helpers.isArray(task[property])) {\n\t\t\t\t\tresourceValue = [task[property]];\n\t\t\t\t} else {\n\t\t\t\t\tresourceValue = task[property];\n\t\t\t\t}\n\n\t\t\t\thelpers.forEach(resourceValue, function(value) {\n\t\t\t\t\tif(value && (resourceHash[value]  || resourceHash[value.resource_id])) {\n\t\t\t\t\t\tres.push(task);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tfunction getResourceLoad(resource, resourceProperty, scale, timeline){\n\t\tvar cacheKey = resource.id + \"_\" + resourceProperty  + \"_\" + scale.unit + \"_\" + scale.step;\n\t\tvar res;\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = calculateResourceLoad(resource, resourceProperty, scale, timeline);\n\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction calculateResourceLoad(resource, resourceProperty, scale, timeline) {\n\n\t\tvar tasks;\n\t\tif(resource.$role == \"task\"){\n\t\t\ttasks = [];\n\t\t}else{\n\t\t\ttasks = getTaskBy(resourceProperty, resource.id);\n\t\t}\n\t\tvar step = scale.unit;\n\t\tvar timegrid = {};\n\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tvar task = tasks[i];\n\n\t\t\tvar currDate = gantt.date[step + \"_start\"](new Date(task.start_date));\n\n\t\t\twhile (currDate < task.end_date) {\n\n\t\t\t\tvar date = currDate;\n\t\t\t\tcurrDate = gantt.date.add(currDate, 1, step);\n\n\t\t\t\tif (!gantt.isWorkTime({date: date, task: task, unit: step})) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar timestamp = date.valueOf();\n\t\t\t\tif (!timegrid[timestamp]){\n\t\t\t\t\ttimegrid[timestamp] = [];\n\t\t\t\t}\n\n\t\t\t\ttimegrid[timestamp].push(task);\n\t\t\t}\n\t\t}\n\n\t\tvar timetable = [];\n\t\tvar start, end, tasks;\n\t\tvar config = timeline.$getConfig();\n\n\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\tstart = new Date(scale.trace_x[i]);\n\t\t\tend = gantt.date.add(start, 1, step);\n\t\t\ttasks = timegrid[start.valueOf()] || [];\n\t\t\tif(tasks.length || config.resource_render_empty_cells){\n\t\t\t\ttimetable.push({\n\t\t\t\t\tstart_date: start,\n\t\t\t\t\tend_date: end,\n\t\t\t\t\ttasks: tasks\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t\treturn timetable;\n\t}\n\n\tfunction isInViewPort(item, view, viewport){\n\t\tvar position = view.getItemTop(item.id);\n\t\tvar height = view.getItemHeight(item);\n\t\tif(viewport.y > position + height || viewport.y_end < position){\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tfunction generateRenderResourceLine(){\n\t\tfunction renderResourceLine(resource, timeline, viewport) {\n\t\t\tif(!isInViewPort(resource, timeline, viewport)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar config = timeline.$getConfig(),\n\t\t\t\ttemplates = timeline.$getTemplates();\n\t\t\tvar timetable = getResourceLoad(resource, config.resource_property, timeline.getScale(), timeline);\n\n\t\t\tvar cells = [];\n\t\t\tfor (var i = 0; i < timetable.length; i++) {\n\n\t\t\t\tvar day = timetable[i];\n\n\t\t\t\tvar css = templates.resource_cell_class(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar content = templates.resource_cell_value(day.start_date, day.end_date, resource, day.tasks);\n\n\t\t\t\tif (css || content){\n\t\t\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\t\t\t\t\tvar el = document.createElement('div');\n\t\t\t\t\tel.className = [\"gantt_resource_marker\", css].join(\" \");\n\n\t\t\t\t\tel.style.cssText = [\n\t\t\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t\t\t'height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'line-height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'top:' + sizes.top + 'px'\n\t\t\t\t\t].join(\";\");\n\n\t\t\t\t\tif(content)\n\t\t\t\t\t\tel.innerHTML = content;\n\n\t\t\t\t\tcells.push(el);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar row = null;\n\t\t\tif(cells.length){\n\t\t\t\trow = document.createElement(\"div\");\n\t\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\t\trow.appendChild(cells[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn row;\n\t\t}\n\t\treturn smartRender(renderResourceLine, function(){}, isInViewPort);\n\t}\n\t\n\tfunction renderBar(level, start, end, timeline){\n\t\tvar top = (1 - (level*1||0))*100;\n\t\tvar left = timeline.posFromDate(start);\n\t\tvar right = timeline.posFromDate(end);\n\t\tvar element = document.createElement(\"div\");\n\t\telement.className = \"gantt_histogram_hor_bar\";\n\t\telement.style.top = top + '%';\n\t\telement.style.left = left + \"px\";\n\t\telement.style.width = (right - left + 1) + \"px\";\n\t\treturn element;\n\t}\n\tfunction renderConnection(prevLevel, nextLevel, left){\n\t\tif(prevLevel === nextLevel){\n\t\t\treturn null;\n\t\t}\n\n\t\tvar top = 1 - Math.max(prevLevel, nextLevel);\n\t\tvar height = Math.abs(prevLevel - nextLevel);\n\t\tvar element = document.createElement(\"div\");\n\t\telement.className = \"gantt_histogram_vert_bar\";\n\t\telement.style.top = top*100 + \"%\";\n\t\telement.style.height = height*100 + \"%\";\n\t\telement.style.left = left + \"px\";\n\n\t\treturn element;\n\t}\n\n\tfunction isColumnVisible(columnIndex, scale, viewPort){\n\t\tvar width = scale.width[columnIndex];\n\t\tvar cellLeftCoord = scale.left[columnIndex] - width;\n\t\tvar cellRightCoord = scale.left[columnIndex] + width;\n\t\treturn (width > 0 && cellLeftCoord <= viewPort.x_end && cellRightCoord >= viewPort.x);//do not render skipped columns\n\t}\n\n\n\n\tfunction generateRenderResourceHistogram(){\n\n\t\tvar renderedHistogramCells = {};\n\t\tvar renderedHistogramRows = {};\n\n\t\tfunction renderHistogramLine(capacity, timeline, maxCapacity, viewPort){\n\t\t\tvar scale = timeline.getScale();\n\n\t\t\tvar el = document.createElement(\"div\");\n\n\t\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\t\tif(!isColumnVisible(i, scale, viewPort)){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar colStart = scale.trace_x[i];\n\t\t\t\tvar colEnd = scale.trace_x[i + 1] || gantt.date.add(colStart, scale.step, scale.unit);\n\t\t\t\tvar col = scale.trace_x[i].valueOf();\n\t\t\t\tvar level = Math.min(capacity[col]/maxCapacity, 1) || 0;\n\t\t\t\t// do not render histogram for lines with below zero capacity, as it's reserved for folders\n\t\t\t\tif(level < 0){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar nextLevel = Math.min(capacity[colEnd.valueOf()]/maxCapacity, 1) || 0;\n\t\t\t\tvar bar = renderBar(level, colStart, colEnd, timeline);\n\t\t\t\tif(bar){\n\t\t\t\t\tel.appendChild(bar);\n\t\t\t\t}\n\t\t\t\tvar connection = renderConnection(level, nextLevel, timeline.posFromDate(colEnd));\n\t\t\t\tif(connection){\n\t\t\t\t\tel.appendChild(connection);\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn el;\n\t\t}\n\n\t\tfunction renderResourceHistogram(resource, timeline, viewport) {\n\t\t\tif(!isInViewPort(resource, timeline, viewport)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar config = timeline.$getConfig(),\n\t\t\t\ttemplates = timeline.$getTemplates();\n\t\t\tvar scale = timeline.getScale();\n\t\t\tvar timetable = getResourceLoad(resource, config.resource_property, scale, timeline);\n\n\t\t\tvar cells = [];\n\t\t\tvar capacityMatrix = {};\n\t\t\tvar maxCapacity = resource.capacity || timeline.$config.capacity || 24;\n\t\t\trenderedHistogramCells[resource.id] = {};\n\t\t\trenderedHistogramRows[resource.id] = null;\n\t\t\tfor (var i = 0; i < timetable.length; i++) {\n\n\t\t\t\tvar day = timetable[i];\n\t\t\t\tvar columnIndex = scale.trace_indexes[day.start_date.valueOf()];\n\t\t\t\tif(!isColumnVisible(columnIndex, scale, viewport)){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar css = templates.histogram_cell_class(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar content = templates.histogram_cell_label(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar fill = templates.histogram_cell_allocated(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tvar capacity = templates.histogram_cell_capacity(day.start_date, day.end_date, resource, day.tasks);\n\t\t\t\tcapacityMatrix[day.start_date.valueOf()] = capacity || 0;\n\t\t\t\tif(css || content){\n\t\t\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\t\t\t\t\tvar el = document.createElement('div');\n\t\t\t\t\tel.className = [\"gantt_histogram_cell\", css].join(\" \");\n\n\t\t\t\t\tel.style.cssText = [\n\t\t\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t\t\t'height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'line-height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t\t'top:' + (sizes.top + 1) + 'px'\n\t\t\t\t\t].join(\";\");\n\n\n\t\t\t\t\tif (content) {\n\t\t\t\t\t\tcontent = \"<div class='gantt_histogram_label'>\" + content +\"</div>\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tcontent = \"<div class='gantt_histogram_fill' style='height:\"+(Math.min(fill/maxCapacity||0, 1)*100)+\"%;'></div>\" + content;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (content) {\n\t\t\t\t\t\tel.innerHTML = content;\n\t\t\t\t\t}\n\n\t\t\t\t\tcells.push(el);\n\t\t\t\t\trenderedHistogramCells[resource.id][columnIndex] = el;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar row = null;\n\t\t\tif (cells.length) {\n\t\t\t\trow = document.createElement(\"div\");\n\t\t\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\t\t\trow.appendChild(cells[i]);\n\t\t\t\t}\n\n\t\t\t\tvar capacityElement = renderHistogramLine(capacityMatrix, timeline, maxCapacity, viewport);\n\n\t\t\t\tif (capacityElement) {\n\t\t\t\t\tcapacityElement.setAttribute(\"data-resource-id\", resource.id);\n\t\t\t\t\tcapacityElement.style.position = \"absolute\";\n\t\t\t\t\tcapacityElement.style.top = (sizes.top + 1) + \"px\";\n\t\t\t\t\tcapacityElement.style.height = (config.row_height - 1) + \"px\";\n\t\t\t\t\tcapacityElement.style.left = 0;\n\t\t\t\t\trow.appendChild(capacityElement);\n\t\t\t\t}\n\n\t\t\t\trenderedHistogramRows[resource.id] = row;\n\t\t\t}\n\n\t\t\treturn row;\n\t\t}\n\n\t\treturn smartRender(renderResourceHistogram, function(){}, isInViewPort);\n\t}\n\t\n\n\tfunction selectAssignments(resourceId, taskId, result){\n\t\tvar property = gantt.config.resource_property;\n\t\tvar owners = [];\n\t\tif (gantt.getDatastore(\"task\").exists(taskId)) {\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\towners = task[property] || [];\n\t\t}\n\n\t\tif (!Array.isArray(owners)) {\n\t\t\towners = [owners];\n\t\t}\n\t\tfor (var i = 0; i < owners.length; i++) {\n\t\t\tif (owners[i].resource_id == resourceId) {\n\t\t\t\tresult.push({task_id: task.id, resource_id:owners[i].resource_id, value:owners[i].value});\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getResourceAssignments(resourceId, taskId){\n\t\t// resource assignment as an independent module:\n\t\t// {taskId:, resourceId, value}\n\t\t// TODO: probably should add a separate datastore for these\n\t\tvar assignments = [];\n\t\tvar property = gantt.config.resource_property;\n\t\tif(taskId !== undefined){\n\t\t\tselectAssignments(resourceId, taskId, assignments);\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskBy(property, resourceId);\n\t\t\ttasks.forEach(function(task){\n\t\t\t\tselectAssignments(resourceId, task.id, assignments);\n\t\t\t});\n\t\t}\n\t\treturn assignments;\n\t}\n\n\treturn {\n\t\trenderLine: generateRenderResourceLine,\n\t\trenderHistogram: generateRenderResourceHistogram,\n\t\tfilterTasks: getTaskBy,\n\t\tgetResourceAssignments: getResourceAssignments\n\t};\n}\n\nmodule.exports = function(gantt){\n\tvar methods = createResourceMethods(gantt);\n\n\tgantt.getTaskBy = methods.filterTasks;\n\tgantt.getResourceAssignments = methods.getResourceAssignments;\n\tgantt.$ui.layers.resourceRow = methods.renderLine;\n\tgantt.$ui.layers.resourceHistogram = methods.renderHistogram;\n\tgantt.config.resource_property = \"owner_id\";\n\tgantt.config.resource_store = \"resource\";\n\tgantt.config.resource_render_empty_cells = false;\n\n\t/**\n\t * these are placeholder functions that should be redefined by the user\n\t*/\n\tgantt.templates.histogram_cell_class = function(start_date, end_date, resource, tasks) {};\n\tgantt.templates.histogram_cell_label = function(start_date, end_date, resource, tasks) {\n\t\treturn tasks.length + \"/3\";\n\t};\n\tgantt.templates.histogram_cell_allocated = function(start_date, end_date, resource, tasks) {\n\t\treturn tasks.length / 3;\n\t};\n\tgantt.templates.histogram_cell_capacity = function(start_date, end_date, resource, tasks) {\n\t\treturn 0;\n\t};\n\n\n\n\tgantt.templates.resource_cell_class = function(start, end, resource, tasks) {\n\t\tvar css = \"\";\n\t\tif (tasks.length <= 1) {\n\t\t\tcss = \"gantt_resource_marker_ok\";\n\t\t} else {\n\t\t\tcss = \"gantt_resource_marker_overtime\";\n\t\t}\n\t\treturn css;\n\t};\n\n\tgantt.templates.resource_cell_value = function(start, end, resource, tasks) {\n\t\treturn tasks.length * 8;\n\t};\n};\n\n\n","if (window.dhtmlx){\n\n\tif (!window.dhtmlx.attaches)\n\twindow.dhtmlx.attaches = {};\n\n\twindow.dhtmlx.attaches.attachGantt=function(start, end, gantt){\n\t\tvar obj = document.createElement(\"DIV\");\n\n\t\tgantt = gantt || window.gantt;\n\n\t\tobj.id = \"gantt_\"+ gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tvar that = this.vs[this.av];\n\t\tthat.grid = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tthat.gridId = obj.id;\n\t\tthat.gridObj = obj;\n\n\t\tvar method_name=\"_viewRestore\";\n\t\treturn this.vs[this[method_name]()].grid;\n\t};\n\n}\nif (typeof(window.dhtmlXCellObject) != \"undefined\") {\n\n\twindow.dhtmlXCellObject.prototype.attachGantt=function(start, end, gantt){\n\t\tgantt = gantt || window.gantt;\n\n\t\tvar obj = document.createElement(\"DIV\");\n\t\tobj.id = \"gantt_\"+gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tobj = null;\n\t\tthis.callEvent(\"_onContentAttach\",[]);\n\n\t\treturn this.dataObj;\n\t};\n}\n\nmodule.exports = null;","if (window.jQuery){\n\n\t(function( $ ){\n\n\t\tvar methods = [];\n\t\t$.fn.dhx_gantt = function(config){\n\t\t\tconfig = config || {};\n\t\t\tif (typeof(config) === 'string') {\n\t\t\t\tif (methods[config] ) {\n\t\t\t\t\treturn methods[config].apply(this, []);\n\t\t\t\t}else {\n\t\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.dhx_gantt');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar views = [];\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tif (this && this.getAttribute){\n\t\t\t\t\t\tif (!this.gantt && !(window.gantt.$root == this)){\n\n\t\t\t\t\t\t\tvar newgantt = (window.gantt.$container && window.Gantt) ? window.Gantt.getGanttInstance():window.gantt;\n\t\t\t\t\t\t\tfor (var key in config)\n\t\t\t\t\t\t\t\tif (key!=\"data\")\n\t\t\t\t\t\t\t\t\tnewgantt.config[key] = config[key];\n\n\t\t\t\t\t\t\tnewgantt.init(this);\n\t\t\t\t\t\t\tif (config.data)\n\t\t\t\t\t\t\t\tnewgantt.parse(config.data);\n\n\t\t\t\t\t\t\tviews.push(newgantt);\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tviews.push(typeof this.gantt == \"object\" ? this.gantt : window.gantt);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t\tif (views.length === 1) return views[0];\n\t\t\t\treturn views;\n\t\t\t}\n\t\t};\n\n\t})(window.jQuery);\n\n}\n\n\nmodule.exports = null;","var createWbs = (function(gantt){\n\treturn {\n\t_needRecalc: true,\n\treset: function(){\n\t\tthis._needRecalc = true;\n\t},\n\t_isRecalcNeeded: function(){\n\t\treturn (!this._isGroupSort() && this._needRecalc);\n\t},\n\t_isGroupSort: function() {\n\t\treturn !!(gantt._groups && gantt._groups.is_active());\n\t},\n\t_getWBSCode: function(task) {\n\t\tif(!task) return \"\";\n\n\t\tif(this._isRecalcNeeded()){\n\t\t\tthis._calcWBS();\n\t\t}\n\n\t\tif(task.$virtual) return \"\";\n\t\tif(this._isGroupSort()) return task.$wbs || \"\";\n\n\t\tif(!task.$wbs) {\n\t\t\tthis.reset();\n\t\t\tthis._calcWBS();\n\t\t}\n\t\treturn task.$wbs;\n\t},\n\t_setWBSCode: function(task, value) {\n\t\ttask.$wbs = value;\n\t},\n\tgetWBSCode: function(task) {\n\t\treturn this._getWBSCode(task);\n\t},\n\tgetByWBSCode: function(code){\n\t\tvar parts = code.split(\".\");\n\t\tvar currentNode = gantt.config.root_id;\n\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\tvar children = gantt.getChildren(currentNode);\n\t\t\tvar index = parts[i]*1 - 1;\n\t\t\tif(gantt.isTaskExists(children[index])){\n\t\t\t\tcurrentNode = children[index];\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(currentNode)){\n\t\t\treturn gantt.getTask(currentNode);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\t_calcWBS: function() {\n\t\tif(!this._isRecalcNeeded()) return;\n\n\t\tvar _isFirst = true;\n\t\tgantt.eachTask(function(ch) {\n\t\t\tif(_isFirst) {\n\t\t\t\t_isFirst = false;\n\t\t\t\tthis._setWBSCode(ch, \"1\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar _prevSibling = gantt.getPrevSibling(ch.id);\n\t\t\tif (_prevSibling !== null) {\n\t\t\t\tvar _wbs = gantt.getTask(_prevSibling).$wbs;\n\t\t\t\tif(_wbs) {\n\t\t\t\t\t_wbs = _wbs.split(\".\");\n\t\t\t\t\t_wbs[_wbs.length-1]++;\n\t\t\t\t\tthis._setWBSCode(ch, _wbs.join(\".\"));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar _parent = gantt.getParent(ch.id);\n\t\t\t\tthis._setWBSCode(ch, gantt.getTask(_parent).$wbs + \".1\");\n\t\t\t}\n\t\t}, gantt.config.root_id, this);\n\n\t\tthis._needRecalc = false;\n\t}\n};\n});\n\nmodule.exports = function(gantt){\n\tvar wbs = createWbs(gantt);\n\tgantt.getWBSCode = function getWBSCode(task) {\n\t\treturn wbs.getWBSCode(task);\n\t};\n\n\tgantt.getTaskByWBSCode = function(code) {\n\t\treturn wbs.getByWBSCode(code);\n\t};\n\n\tfunction resetCache(){\n\t\twbs.reset();\n\t\treturn true;\n\t}\n\n\tgantt.attachEvent(\"onAfterTaskMove\", resetCache);\n\tgantt.attachEvent(\"onBeforeParse\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskDelete\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskAdd\", resetCache);\n\tgantt.attachEvent(\"onAfterSort\", resetCache);\n\n};\n","function createMethod(gantt){\n\tvar methods = {};\n\tvar isActive = false;\n\tfunction disableMethod(methodName, dummyMethod){\n\t\tdummyMethod = typeof dummyMethod == \"function\" ? dummyMethod : function(){};\n\n\t\tif(!methods[methodName]){\n\t\t\tmethods[methodName] = this[methodName];\n\t\t\tthis[methodName] = dummyMethod;\n\t\t}\n\t}\n\tfunction restoreMethod(methodName){\n\t\tif(methods[methodName]){\n\t\t\tthis[methodName] = methods[methodName];\n\t\t\tmethods[methodName] = null;\n\t\t}\n\t}\n\tfunction disableMethods(methodsHash){\n\t\tfor(var i in methodsHash){\n\t\t\tdisableMethod.call(this, i, methodsHash[i]);\n\t\t}\n\t}\n\tfunction restoreMethods(){\n\t\tfor(var i in methods){\n\t\t\trestoreMethod.call(this, i);\n\t\t}\n\t}\n\n\tfunction batchUpdatePayload(callback){\n\t\ttry{\n\t\t\tcallback();\n\t\t}catch(e){\n\t\t\twindow.console.error(e);\n\t\t}\n\t}\n\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"batchUpdate\", function(){\n\t\treturn {\n\t\t\tbatch_update: isActive\n\t\t};\n\t}, true);\n\n\treturn function batchUpdate(callback, noRedraw) {\n\t\tif(isActive){\n\t\t\t// batch mode is already active\n\t\t\tbatchUpdatePayload(callback);\n\t\t\treturn;\n\t\t}\n\n\t\tvar call_dp = (this._dp && this._dp.updateMode != \"off\");\n\t\tvar dp_mode;\n\t\tif (call_dp){\n\t\t\tdp_mode = this._dp.updateMode;\n\t\t\tthis._dp.setUpdateMode(\"off\");\n\t\t}\n\n\t\t// temporary disable some methods while updating multiple tasks\n\t\tvar resetProjects = {};\n\t\tvar methods = {\n\t\t\t\"render\":true,\n\t\t\t\"refreshData\":true,\n\t\t\t\"refreshTask\":true,\n\t\t\t\"refreshLink\":true,\n\t\t\t\"resetProjectDates\":function(task){\n\t\t\t\tresetProjects[task.id] = task;\n\t\t\t}\n\t\t};\n\n\t\tdisableMethods.call(this, methods);\n\n\t\tisActive = true;\n\t\tthis.callEvent(\"onBeforeBatchUpdate\", []);\n\n\t\tbatchUpdatePayload(callback);\n\n\t\tthis.callEvent(\"onAfterBatchUpdate\", []);\n\n\t\trestoreMethods.call(this);\n\n\t\t// do required updates after changes applied\n\t\tfor(var i in resetProjects){\n\t\t\tthis.resetProjectDates(resetProjects[i]);\n\t\t}\n\n\t\tisActive = false;\n\n\t\tif(!noRedraw){\n\t\t\tthis.render();\n\t\t}\n\n\t\tif (call_dp) {\n\t\t\tthis._dp.setUpdateMode(dp_mode);\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis._dp.sendData();\n\t\t\tthis._dp.setGanttMode(\"link\");\n\t\t\tthis._dp.sendData();\n\t\t}\n\t};\n\n\n\n}\n\nmodule.exports = function(gantt){\n\tgantt.batchUpdate = createMethod(gantt);\n};","var domHelpers = require(\"../../utils/dom_helpers\");\n\nmodule.exports = function(gantt){\n\n\tvar scrollRange = 50,\n\t\tscrollStep = 30,\n\t\tscrollDelay = 10,\n\t\tscrollSpeed = 50;\n\n\tvar interval = null,\n\t\tisMove = false,\n\t\tdelayTimeout = null,\n\t\tstartPos = {\n\t\t\tstarted: false\n\t\t},\n\t\teventPos = {};\n\n\n\tfunction isDisplayed(element){\n\t\treturn element &&\n\t\t\tdomHelpers.isChildOf(element, gantt.$root) &&\n\t\t\telement.offsetHeight;\n\t}\n\n\tfunction getAutoscrollContainer(){\n\t\tvar element;\n\t\tif(isDisplayed(gantt.$task)){\n\t\t\telement = gantt.$task;\n\t\t}else if(isDisplayed(gantt.$grid)){\n\t\t\telement = gantt.$grid;\n\t\t}else{\n\t\t\telement = gantt.$root;\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tfunction isScrollState() {\n\t\tvar dragMarker = !!document.querySelector(\".gantt_drag_marker\");\n\t\tvar isResize = !!document.querySelector(\".gantt_drag_marker.gantt_grid_resize_area\");\n\t\tvar isLink = !!document.querySelector(\".gantt_link_direction\");\n\t\tvar state = gantt.getState();\n\t\tvar isClickDrag = state.autoscroll;\n\t\tisMove = dragMarker && !isResize && !isLink;\n\n\t\treturn !((!state.drag_mode && !dragMarker) || isResize) || isClickDrag;\n\t}\n\n\tfunction defineDelayTimeout(state) {\n\t\tif (delayTimeout) {\n\t\t\tclearTimeout(delayTimeout);\n\t\t\tdelayTimeout = null;\n\t\t}\n\t\tif (state) {\n\t\t\tvar speed = gantt.config.autoscroll_speed;\n\t\t\tif (speed && speed < 10) // limit speed value to 10\n\t\t\t\tspeed = 10;\n\n\t\t\tdelayTimeout = setTimeout(function() {\n\t\t\t\tinterval = setInterval(tick, speed || scrollSpeed);\n\t\t\t}, gantt.config.autoscroll_delay || scrollDelay);\n\t\t}\n\t}\n\n\tfunction defineScrollInterval(state) {\n\t\tif (state) {\n\t\t\tdefineDelayTimeout(true);\n\t\t\tif (!startPos.started) {\n\t\t\t\tstartPos.x = eventPos.x;\n\t\t\t\tstartPos.y = eventPos.y;\n\t\t\t\tstartPos.started = true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (interval) {\n\t\t\t\tclearInterval(interval);\n\t\t\t\tinterval = null;\n\t\t\t}\n\t\t\tdefineDelayTimeout(false);\n\t\t\tstartPos.started = false;\n\t\t}\n\t}\n\n\tfunction autoscrollInterval(event) {\n\n\t\tvar isScroll = isScrollState();\n\n\t\tif ((interval || delayTimeout) && !isScroll) {\n\t\t\tdefineScrollInterval(false);\n\t\t}\n\n\t\tif (!gantt.config.autoscroll || !isScroll) {\n\t\t\treturn false;\n\t\t}\n\n\t\teventPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY\n\t\t};\n\n\t\tif (!interval && isScroll) {\n\t\t\tdefineScrollInterval(true);\n\t\t}\n\t}\n\n\tfunction tick() {\n\n\t\tif (!isScrollState()) {\n\t\t\tdefineScrollInterval(false);\n\t\t\treturn false;\n\t\t}\n\n\t\tvar box = domHelpers.getNodePosition(getAutoscrollContainer());\n\t\tvar posX = eventPos.x - box.x;\n\t\tvar posY = eventPos.y - box.y;\n\n\t\tvar scrollLeft = isMove ? 0 : need_scroll(posX, box.width, startPos.x - box.x);\n\t\tvar scrollTop = need_scroll(posY, box.height, startPos.y - box.y);\n\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar currentScrollTop = scrollState.y,\n\t\t\tscrollOuterHeight = scrollState.inner_height,\n\t\t\tscrollInnerHeight = scrollState.height,\n\t\t\tcurrentScrollLeft = scrollState.x,\n\t\t\tscrollOuterWidth = scrollState.inner_width,\n\t\t\tscrollInnerWidth = scrollState.width;\n\n\t\t// do scrolling only if we have scrollable area to do so\n\t\tif (scrollTop && !scrollOuterHeight) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop < 0 && !currentScrollTop) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop > 0 && currentScrollTop + scrollOuterHeight >= scrollInnerHeight + 2) {\n\t\t\tscrollTop = 0;\n\t\t}\n\n\t\tif (scrollLeft && !scrollOuterWidth) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft < 0 && !currentScrollLeft) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft > 0 && currentScrollLeft + scrollOuterWidth >= scrollInnerWidth) {\n\t\t\tscrollLeft = 0;\n\t\t}\n\n\t\tvar step = gantt.config.autoscroll_step;\n\n\t\tif (step && step < 2) // limit step value to 2\n\t\t\tstep = 2;\n\n\t\tscrollLeft = scrollLeft * (step || scrollStep);\n\t\tscrollTop = scrollTop * (step || scrollStep);\n\n\t\tif (scrollLeft || scrollTop) {\n\t\t\tscroll(scrollLeft, scrollTop);\n\t\t}\n\t}\n\n\tfunction need_scroll(pos, boxSize, startCoord) {\n\t\tif ((pos - scrollRange < 0) && (pos < startCoord))\n\t\t\treturn -1;\n\t\telse if ((pos > boxSize - scrollRange) && (pos > startCoord))\n\t\t\treturn 1;\n\t\treturn 0;\n\t}\n\n\tfunction scroll(left, top) {\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar scrollLeft = null,\n\t\t\tscrollTop = null;\n\n\t\tif (left) {\n\t\t\tscrollLeft = scrollState.x + left;\n\t\t\tscrollLeft = Math.min(scrollState.width, scrollLeft);\n\t\t\tscrollLeft = Math.max(0, scrollLeft);\n\t\t}\n\n\t\tif (top) {\n\t\t\tscrollTop = scrollState.y + top;\n\t\t\tscrollTop = Math.min(scrollState.height, scrollTop);\n\t\t\tscrollTop = Math.max(0, scrollTop);\n\t\t}\n\n\t\tgantt.scrollTo(scrollLeft, scrollTop);\n\t}\n\n\tgantt.attachEvent(\"onGanttReady\", function() {\n\t\tgantt.eventRemove(document.body, \"mousemove\", autoscrollInterval);\n\t\tgantt.event(document.body, \"mousemove\", autoscrollInterval);\n\t});\n\n};","module.exports = function(gantt){\n\tif(!gantt.ext){\n\t\tgantt.ext = {};\n\t}\n\n\tvar modules = [\n\t\trequire(\"./autoscroll\"),\n\t\trequire(\"./batch_update\"),\n\t\trequire(\"./wbs\"),\n\t\trequire(\"./jquery_hooks\"),\n\t\trequire(\"./dhtmlx_hooks\"),\n\t\trequire(\"./resources\"),\n\t\trequire(\"./new_task_placeholder\"),\n\t\trequire(\"./auto_task_types\")\n\t];\n\n\tfor(var i = 0; i < modules.length; i++){\n\t\tif(modules[i])\n\t\t\tmodules[i](gantt);\n\t}\n\n\tvar TimelineZoom = require(\"./timeline_zoom\").default;\n\tgantt.ext.zoom = new TimelineZoom(gantt);\n};","\nexport default function extendGantt(gantt: any, dp: any) {\n\tgantt.getUserData = function(id, name) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (this.userdata[id] && this.userdata[id][name]) {\n\t\t\treturn this.userdata[id][name];\n\t\t}\n\t\treturn \"\";\n\t};\n\tgantt.setUserData = function(id, name, value) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (!this.userdata[id]) {\n\t\t\tthis.userdata[id] = {};\n\t\t}\n\t\tthis.userdata[id][name] = value;\n\t};\n\n\tgantt._change_id = function(oldId, newId) {\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\tthis.changeLinkId(oldId, newId);\n\t\t} else {\n\t\t\tthis.changeTaskId(oldId, newId);\n\t\t}\n\t};\n\n\tgantt._row_style = function(rowId, classname){\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\treturn;\n\t\t}\n\t\tif (!gantt.isTaskExists(rowId)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst task = gantt.getTask(rowId);\n\t\ttask.$dataprocessor_class = classname;\n\t\tgantt.refreshTask(rowId);\n\t};\n\n\t// fake method for dataprocessor\n\tgantt._delete_task = function(rowId, node) {}; // tslint:disable-line\n\n\tgantt._sendTaskOrder = function(id, item){\n\t\tif (item.$drop_target) {\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis.getTask(id).target = item.$drop_target;\n\t\t\tthis._dp.setUpdated(id, true,\"order\");\n\t\t\tdelete this.getTask(id).$drop_target;\n\t\t}\n\t};\n\n\tgantt.setDp = function() {\n\t\tthis._dp = dp;\n\t};\n\n\tgantt.setDp();\n}","import * as helpers from \"../../utils/helpers\";\n\nexport default class DataProcessorEvents {\n\tprotected _dataProcessorHandlers: any[];\n\tprotected $gantt: any;\n\tprotected $dp: any;\n\n\tconstructor(gantt: any, dp: any) {\n\t\tthis.$gantt = gantt;\n\t\tthis.$dp = dp;\n\t\tthis._dataProcessorHandlers = [];\n\t}\n\n\tattach() {\n\t\tconst dp = this.$dp;\n\t\tconst gantt = this.$gantt;\n\t\tconst treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tconst cascadeDelete = {};\n\n\t\tfunction clientSideDelete(id) {\n\t\t\tconst updated = dp.updatedRows.slice();\n\t\t\tlet clientOnly = false;\n\n\t\t\tfor (let i = 0; i < updated.length && !dp._in_progress[id]; i++) {\n\t\t\t\tif (updated[i] === id) {\n\t\t\t\t\tif (gantt.getUserData(id, \"!nativeeditor_status\") === \"inserted\") {\n\t\t\t\t\t\tclientOnly = true;\n\t\t\t\t\t}\n\t\t\t\t\tdp.setUpdated(id,false);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clientOnly;\n\t\t}\n\n\t\tfunction getTaskLinks(task) {\n\t\t\tlet _links = [];\n\n\t\t\tif (task.$source) {\n\t\t\t\t_links = _links.concat(task.$source);\n\t\t\t}\n\t\t\tif (task.$target) {\n\t\t\t\t_links = _links.concat(task.$target);\n\t\t\t}\n\n\t\t\treturn _links;\n\t\t}\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true, \"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true);\n\n\t\t\t\t// gantt can be destroyed/reinitialized after dp.setUpdated\n\t\t\t\tif(gantt._sendTaskOrder){\n\t\t\t\t\tgantt._sendTaskOrder(id, item);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onBeforeTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tif (!gantt.config.cascade_delete) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcascadeDelete[id] = {\n\t\t\t\ttasks: treeHelper.getSubtreeTasks(gantt, id),\n\t\t\t\tlinks: treeHelper.getSubtreeLinks(gantt, id)\n\t\t\t};\n\t\t\treturn true;\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"tasks\");\n\n\t\t\t// not send delete request if item is not inserted into the db - just remove it from the client\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (gantt.config.cascade_delete && cascadeDelete[id]) {\n\t\t\t\tconst dpMode = dp.updateMode;\n\t\t\t\tdp.setUpdateMode(\"off\");\n\n\t\t\t\tconst cascade = cascadeDelete[id];\n\t\t\t\tfor (const i in cascade.tasks) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tfor (const i in cascade.links) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcascadeDelete[id] = null;\n\n\t\t\t\tif (dpMode !== \"off\") {\n\t\t\t\t\tdp.sendAllData();\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdateMode(dpMode);\n\t\t\t}\n\t\t\tdp.setUpdated(id, true, \"deleted\");\n\n\t\t\tif (dp.updateMode !== \"off\" && !dp._tSend) {\n\t\t\t\tdp.sendAllData();\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true,\"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"links\");\n\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdp.setUpdated(id, true,\"deleted\");\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onRowDragEnd\", function(id, target) { // tslint:disable-line\n\t\t\tgantt._sendTaskOrder(id, gantt.getTask(id));\n\t\t}));\n\n\t\tlet tasks = null;\n\t\tlet links = null;\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onTaskIdChange\", function(oldId, newId) { // tslint:disable-line\n\t\t\tif (!dp._waitMode) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst children = gantt.getChildren(newId);\n\t\t\tif (children.length) {\n\t\t\t\ttasks = tasks || {};\n\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\tconst ch = this.getTask(children[i]);\n\t\t\t\t\ttasks[ch.id] = ch;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst item = this.getTask(newId);\n\t\t\tconst itemLinks = getTaskLinks(item);\n\n\t\t\tif (itemLinks.length) {\n\t\t\t\tlinks = links || {};\n\n\t\t\t\tfor (let i = 0; i < itemLinks.length; i++) {\n\t\t\t\t\tconst link = this.getLink(itemLinks[i]);\n\t\t\t\t\tlinks[link.id] = link;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tdp.attachEvent(\"onAfterUpdateFinish\", function() {\n\t\t\tif (tasks || links) {\n\t\t\t\tgantt.batchUpdate(function() {\n\t\t\t\t\tfor (const id in tasks) {\n\t\t\t\t\t\tgantt.updateTask(tasks[id].id);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const id in links) {\n\t\t\t\t\t\tgantt.updateLink(links[id].id);\n\t\t\t\t\t}\n\t\t\t\t\ttasks = null;\n\t\t\t\t\tlinks = null;\n\t\t\t\t});\n\t\t\t\tif (tasks) {\n\t\t\t\t\tgantt._dp.setGanttMode(\"tasks\");\n\t\t\t\t} else {\n\t\t\t\t\tgantt._dp.setGanttMode(\"links\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tdp.attachEvent(\"onBeforeDataSending\", function() {\n\t\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet url = this._serverProcessor;\n\t\t\tif (this._tMode === \"REST-JSON\" || this._tMode === \"REST\") {\n\t\t\t\tconst mode = this._ganttMode;\n\n\t\t\t\turl = url.substring(0, url.indexOf(\"?\") > -1 ? url.indexOf(\"?\") : url.length);\n\t\t\t\t// editing=true&\n\t\t\t\tthis.serverProcessor = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + mode;\n\t\t\t} else {\n\t\t\t\tconst pluralizedMode = this._ganttMode + \"s\";\n\t\t\t\tthis.serverProcessor = url + gantt.ajax.urlSeparator(url) + \"gantt_mode=\" + pluralizedMode;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tdp.attachEvent(\"insertCallback\", function insertCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tconst methods = {\n\t\t\t\tadd: gantt.addTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.add = gantt.addLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata.id = id;\n\t\t\tmethods.add.call(gantt, data);\n\t\t});\n\n\t\tdp.attachEvent(\"updateCallback\", function updateCallback(upd, id) {\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tif (!gantt.isTaskExists(id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst objData = gantt.getTask(id);\n\t\t\tfor (const key in data) {\n\t\t\t\tlet property = data[key];\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase \"id\":\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tcase \"start_date\":\n\t\t\t\t\tcase \"end_date\":\n\t\t\t\t\t\tproperty = gantt.templates.xml_date !==  gantt.templates.parse_date ? gantt.templates.xml_date(property) : gantt.templates.parse_date(property);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"duration\":\n\t\t\t\t\t\tobjData.end_date = gantt.calculateEndDate({start_date: objData.start_date, duration: property, task:objData});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tobjData[key] = property;\n\t\t\t}\n\t\t\tgantt.updateTask(id);\n\t\t\tgantt.refreshData();\n\t\t});\n\t\tdp.attachEvent(\"deleteCallback\", function deleteCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst methods = {\n\t\t\t\tdelete: gantt.deleteTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.delete = gantt.deleteLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\tmethods.delete.call(gantt, id);\n\t\t\t}\n\t\t});\n\t}\n\n\tdetach() {\n\t\thelpers.forEach(this._dataProcessorHandlers, (e) => {\n\t\t\tthis.$gantt.detachEvent(e);\n\t\t});\n\t\tthis._dataProcessorHandlers = [];\n\t}\n}\n","import * as eventable from \"../../utils/eventable\";\nimport * as helpers from \"../../utils/helpers\";\nimport * as utils from \"../../utils/utils\";\nimport DataProcessorEvents from \"./data_processor_events\";\nimport extendGantt from \"./extend_gantt\";\n\nexport interface DataProcessor { // tslint:disable-line\n\t$gantt: any;\n\tdetachAllEvents: any;\n\tattachEvent: any;\n\tcallEvent: any;\n\n\tserverProcessor: string;\n\taction_param: string;\n\tobject: any;\n\tupdatedRows: any[];\n\tautoUpdate: boolean;\n\tupdateMode: string;\n\tmandatoryFields: any[];\n\tmessages: any[];\n\tstyles: object;\n\tdnd: any;\n}\n\nexport function createDataProcessor(config: any) {\n\tlet router;\n\tlet tMode;\n\tif (config instanceof Function) {\n\t\trouter = config;\n\t} else if (config.hasOwnProperty(\"router\")) {\n\t\trouter = config.router;\n\t} else if (config.hasOwnProperty(\"link\") && config.hasOwnProperty(\"task\")) {\n\t\trouter = config;\n\t}\n\tif (router) {\n\t\ttMode = \"CUSTOM\";\n\t} else {\n\t\ttMode = config.mode || \"REST-JSON\";\n\t}\n\tconst gantt = this; // tslint:disable-line\n\tconst dp = new DataProcessor(config.url);\n\tdp.init(gantt);\n\tdp.setTransactionMode({\n\t\tmode: tMode,\n\t\trouter\n\t}, config.batchUpdate);\n\treturn dp;\n}\n\nexport class DataProcessor {\n\tpublic modes: object;\n\tpublic serverProcessor: string;\n\tpublic action_param: string; // tslint:disable-line\n\tpublic object: any;\n\tpublic updatedRows: any[];\n\tpublic autoUpdate: boolean;\n\tpublic updateMode: string;\n\tpublic mandatoryFields: any[];\n\tpublic messages: any[];\n\tpublic styles: object;\n\tpublic dnd: any;\n\n\tprotected _tMode: string;\n\tprotected _headers: any;\n\tprotected _payload: any;\n\tprotected _postDelim: string;\n\tprotected _waitMode: number;\n\tprotected _in_progress: object; // tslint:disable-line\n\tprotected _invalid: object;\n\tprotected _tSend: boolean;\n\tprotected _endnm: boolean;\n\tprotected _serializeAsJson: boolean;\n\tprotected _router: any;\n\tprotected _utf: boolean;\n\tprotected obj: any;\n\tprotected _columns: any;\n\tprotected _changed: boolean;\n\tprotected _methods: any[];\n\tprotected _user: any;\n\tprotected _uActions: object;\n\tprotected _needUpdate: boolean;\n\tprotected _ganttMode: string;\n\n\tprotected _silent_mode: any; // tslint:disable-line\n\tprotected _updateBusy: any;\n\tprotected _serverProcessor: any;\n\tprotected _initialized: boolean;\n\n\tconstructor(serverProcessorURL?) {\n\t\tthis.serverProcessor = serverProcessorURL;\n\t\tthis.action_param = \"!nativeeditor_status\";\n\n\t\tthis.object = null;\n\t\tthis.updatedRows = []; // ids of updated rows\n\n\t\tthis.autoUpdate = true;\n\t\tthis.updateMode = \"cell\";\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tthis._postDelim = \"_\";\n\n\t\tthis._waitMode = 0;\n\t\tthis._in_progress = {}; // ?\n\t\tthis._invalid = {};\n\t\tthis.mandatoryFields = [];\n\t\tthis.messages = [];\n\n\t\tthis.styles = {\n\t\t\tupdated: \"font-weight:bold;\",\n\t\t\tinserted: \"font-weight:bold;\",\n\t\t\tdeleted: \"text-decoration : line-through;\",\n\t\t\tinvalid: \"background-color:FFE0E0;\",\n\t\t\tinvalid_cell: \"border-bottom:2px solid red;\",\n\t\t\terror: \"color:red;\",\n\t\t\tclear: \"font-weight:normal;text-decoration:none;\"\n\t\t};\n\t\tthis.enableUTFencoding(true);\n\t\teventable(this);\n\t}\n\n\tsetTransactionMode(mode:any, total?:any) {\n\t\tif (typeof mode === \"object\") {\n\t\t\tthis._tMode = mode.mode || this._tMode;\n\n\t\t\tif (utils.defined(mode.headers)) {\n\t\t\t\tthis._headers = mode.headers;\n\t\t\t}\n\n\t\t\tif (utils.defined(mode.payload)) {\n\t\t\t\tthis._payload = mode.payload;\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis._tMode = mode;\n\t\t\tthis._tSend = total;\n\t\t}\n\n\t\tif (this._tMode === \"REST\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t}\n\n\t\tif (this._tMode === \"JSON\" || this._tMode === \"REST-JSON\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t\tthis._serializeAsJson = true;\n\t\t\tthis._headers = this._headers || {};\n\t\t\tthis._headers[\"Content-type\"] = \"application/json\";\n\t\t}\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t\tthis._router = mode.router;\n\t\t}\n\t}\n\n\tescape(data:any) {\n\t\tif (this._utf) {\n\t\t\treturn encodeURIComponent(data);\n\t\t} else {\n\t\t\treturn escape(data);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: allows to set escaping mode\n\t * @param: true - utf based escaping, simple - use current page encoding\n\t * @type: public\n\t */\n\tenableUTFencoding(mode:boolean) {\n\t\tthis._utf = !!mode;\n\t}\n\n\n\t/**\n\t * @desc: allows to define, which column may trigger update\n\t * @param: val - array or list of true/false values\n\t * @type: public\n\t */\n\tsetDataColumns(val:string|any) {\n\t\tthis._columns = (typeof val === \"string\") ? val.split(\",\") : val;\n\t}\n\n\t/**\n\t * @desc: get state of updating\n\t * @returns:   true - all in sync with server, false - some items not updated yet.\n\t * @type: public\n\t */\n\tgetSyncState() {\n\t\treturn !this.updatedRows.length;\n\t}\n\n\t/**\n\t * @desc: enable/disable named field for data syncing, will use column ids for grid\n\t * @param:   mode - true/false\n\t * @type: public\n\t */\n\tenableDataNames(mode: boolean) {\n\t\tthis._endnm = !!mode;\n\t}\n\n\t/**\n\t * @desc: enable/disable mode , when only changed fields and row id send to the server side, instead of all fields in default mode\n\t * @param:   mode - true/false\n\t * @type: public\n\t */\n\tenablePartialDataSend(mode: boolean) {\n\t\tthis._changed = !!mode;\n\t}\n\n\t/**\n\t * @desc: set if rows should be send to server automaticaly\n\t * @param: mode - \"row\" - based on row selection changed, \"cell\" - based on cell editing finished, \"off\" - manual data sending\n\t * @type: public\n\t */\n\tsetUpdateMode(mode: string, dnd: any) {\n\t\tthis.autoUpdate = (mode === \"cell\");\n\t\tthis.updateMode = mode;\n\t\tthis.dnd = dnd;\n\t}\n\n\tignore(code: any, master: any) {\n\t\tthis._silent_mode = true;\n\t\tcode.call(master || window);\n\t\tthis._silent_mode = false;\n\t}\n\n\t/**\n\t * @desc: mark row as updated/normal. check mandatory fields,initiate autoupdate (if turned on)\n\t * @param: rowId - id of row to set update-status for\n\t * @param: state - true for \"updated\", false for \"not updated\"\n\t * @param: mode - update mode name\n\t * @type: public\n\t */\n\tsetUpdated(rowId:number|string, state: boolean, mode?: string) {\n\t\tif (this._silent_mode) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst ind = this.findRow(rowId);\n\n\t\tmode = mode || \"updated\";\n\t\tconst existing = this.$gantt.getUserData(rowId, this.action_param);\n\t\tif (existing && mode === \"updated\") {\n\t\t\tmode = existing;\n\t\t}\n\t\tif (state) {\n\t\t\tthis.set_invalid(rowId, false); // clear previous error flag\n\t\t\tthis.updatedRows[ind] = rowId;\n\t\t\tthis.$gantt.setUserData(rowId, this.action_param, mode);\n\t\t\tif (this._in_progress[rowId]) {\n\t\t\t\tthis._in_progress[rowId] = \"wait\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this.is_invalid(rowId)) {\n\t\t\t\tthis.updatedRows.splice(ind, 1);\n\t\t\t\tthis.$gantt.setUserData(rowId, this.action_param, \"\");\n\t\t\t}\n\t\t}\n\n\t\tthis.markRow(rowId, state, mode);\n\t\tif (state && this.autoUpdate) {\n\t\t\tthis.sendData(rowId);\n\t\t}\n\t}\n\n\tmarkRow(id: number | string, state: boolean, mode: string) {\n\t\tlet str = \"\";\n\t\tconst invalid = this.is_invalid(id);\n\t\tif (invalid) {\n\t\t\tstr = this.styles[invalid];\n\t\t\tstate = true;\n\t\t}\n\t\tif (this.callEvent(\"onRowMark\", [id, state, mode, invalid])) {\n\t\t\t// default logic\n\t\t\tstr = this.styles[state ? mode : \"clear\"] + str;\n\n\t\t\tthis.$gantt[this._methods[0]](id, str);\n\n\t\t\tif (invalid && invalid.details) {\n\t\t\t\tstr += this.styles[invalid + \"_cell\"];\n\t\t\t\tfor (let i = 0; i < invalid.details.length; i++) {\n\t\t\t\t\tif (invalid.details[i]) {\n\t\t\t\t\t\tthis.$gantt[this._methods[1]](id, i, str);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetActionByState(state: string):string {\n\t\tif (state === \"inserted\") {\n\t\t\treturn \"create\";\n\t\t}\n\n\t\tif (state === \"updated\") {\n\t\t\treturn \"update\";\n\t\t}\n\n\t\tif (state === \"deleted\") {\n\t\t\treturn \"delete\";\n\t\t}\n\n\t\t// reorder\n\t\treturn \"update\";\n\t}\n\n\tgetState(id: number | string) {\n\t\treturn this.$gantt.getUserData(id, this.action_param);\n\t}\n\n\tis_invalid(id: number | string) {\n\t\treturn this._invalid[id];\n\t}\n\n\tset_invalid(id: number | string, mode: any, details?) {\n\t\tif (details) {\n\t\t\tmode = {\n\t\t\t\tvalue: mode,\n\t\t\t\tdetails,\n\t\t\t\ttoString: function() { // tslint:disable-line\n\t\t\t\t\treturn this.value.toString();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthis._invalid[id] = mode;\n\t}\n\n\t/**\n\t * @desc: check mandatory fields and varify values of cells, initiate update (if specified)\n\t * @param: rowId - id of row to set update-status for\n\t * @type: public\n\t */\n\t// tslint:disable-next-line\n\tcheckBeforeUpdate(rowId: number | string) { // ???\n\t\treturn true;\n\t}\n\n\t/**\n\t * @desc: send row(s) values to server\n\t * @param: rowId - id of row which data to send. If not specified, then all \"updated\" rows will be send\n\t * @type: public\n\t */\n\tsendData(rowId?: any) {\n\t\tif (this._waitMode && (this.$gantt.mytype === \"tree\" || this.$gantt._h2)) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.$gantt.editStop) {\n\t\t\tthis.$gantt.editStop();\n\t\t}\n\n\n\t\tif (typeof rowId === \"undefined\" || this._tSend) {\n\t\t\treturn this.sendAllData();\n\t\t}\n\t\tif (this._in_progress[rowId]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tif (!this.checkBeforeUpdate(rowId) && this.callEvent(\"onValidationError\", [rowId, this.messages])) {\n\t\t\treturn false; // ??? unreachable code, drop it?\n\t\t}\n\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t}\n\n\t_beforeSendData(data: any, rowId: any) {\n\t\tif (!this.callEvent(\"onBeforeUpdate\", [rowId, this.getState(rowId), data])) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._sendData(data, rowId);\n\t}\n\n\tserialize(data: any, id: any) {\n\t\tif (this._serializeAsJson) {\n\t\t\treturn  this._serializeAsJSON(data);\n\t\t}\n\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tif (typeof id !== \"undefined\") {\n\t\t\treturn this.serialize_one(data, \"\");\n\t\t} else {\n\t\t\tconst stack = [];\n\t\t\tconst keys = [];\n\t\t\tfor (const key in data) {\n\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\tstack.push(this.serialize_one(data[key], key + this._postDelim));\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack.push(\"ids=\" + this.escape(keys.join(\",\")));\n\t\t\tif (this.$gantt.security_key) {\n\t\t\t\tstack.push(\"dhx_security=\" + this.$gantt.security_key);\n\t\t\t}\n\t\t\treturn stack.join(\"&\");\n\t\t}\n\t}\n\n\t_serializeAsJSON(data: any) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst copy = utils.copy(data);\n\t\tif (this._tMode === \"REST-JSON\") {\n\t\t\tdelete copy.id;\n\t\t\tdelete copy[this.action_param];\n\t\t}\n\n\t\treturn JSON.stringify(copy);\n\t}\n\n\tserialize_one(data: any, pref: string) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tconst stack = [];\n\t\tlet serialized = \"\";\n\t\tfor (const key in data)\n\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\tif ((key === \"id\" ||\n\t\t\t\t\tkey == this.action_param) && // tslint:disable-line\n\t\t\t\t\tthis._tMode === \"REST\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (typeof data[key] === \"string\" || typeof data[key] === \"number\") {\n\t\t\t\t\tserialized = data[key];\n\t\t\t\t} else {\n\t\t\t\t\tserialized = JSON.stringify(data[key]);\n\t\t\t\t}\n\t\t\t\tstack.push(this.escape((pref || \"\") + key) + \"=\" + this.escape(serialized));\n\t\t\t}\n\t\treturn stack.join(\"&\");\n\t}\n\n\t_applyPayload(url: string) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._payload) {\n\t\t\tfor (const key in this._payload) {\n\t\t\t\turl = url + ajax.urlSeparator(url) + this.escape(key) + \"=\" + this.escape(this._payload[key]);\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t}\n\n\t_sendData(dataToSend: any, rowId?: any) {\n\t\tif (!dataToSend) {\n\t\t\treturn; // nothing to send\n\t\t}\n\t\tif (!this.callEvent(\"onBeforeDataSending\", rowId ? [rowId, this.getState(rowId), dataToSend] : [null, null, dataToSend])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (rowId) {\n\t\t\tthis._in_progress[rowId] = (new Date()).valueOf();\n\t\t}\n\n\t\tconst ajax = this.$gantt.ajax;\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tconst taskState = this.getState(rowId);\n\t\t\tconst taskAction = this.getActionByState(taskState);\n\t\t\tconst ganttMode = this.getGanttMode();\n\t\t\tconst _onResolvedCreateUpdate = (tag) => {\n\t\t\t\tlet action = taskState || \"updated\";\n\t\t\t\tlet sid = rowId;\n\t\t\t\tlet tid = rowId;\n\n\t\t\t\tif (tag) {\n\t\t\t\t\taction = tag.action || taskState;\n\t\t\t\t\tsid = tag.sid || sid;\n\t\t\t\t\ttid = tag.id || tag.tid || tid;\n\t\t\t\t}\n\t\t\t\tthis.afterUpdateCallback(sid, tid, action, tag);\n\t\t\t};\n\n\t\t\tlet actionPromise;\n\t\t\tif (this._router instanceof Function) {\n\t\t\t\tactionPromise = this._router(ganttMode, taskAction, dataToSend, rowId);\n\t\t\t} else if (this._router[ganttMode] instanceof Function) {\n\t\t\t\tactionPromise = this._router[ganttMode](taskAction, dataToSend, rowId);\n\t\t\t} else {\n\t\t\t\tswitch (taskState) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].create(dataToSend);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].delete(rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].update(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(actionPromise){\n\t\t\t\t// neither promise nor {tid: newId} response object\n\t\t\t\tif(!actionPromise.then &&\n\t\t\t\t\t(actionPromise.id === undefined && actionPromise.tid === undefined)){\n\t\t\t\t\tthrow new Error(\"Incorrect router return value. A Promise or a response object is expected\");\n\t\t\t\t}\n\n\t\t\t\tif(actionPromise.then){\n\t\t\t\t\tactionPromise.then(_onResolvedCreateUpdate);\n\t\t\t\t}else{\n\t\t\t\t\t// custom method may return a response object in case of sync action\n\t\t\t\t\t_onResolvedCreateUpdate(actionPromise);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t_onResolvedCreateUpdate(null);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tlet queryParams: any;\n\t\tqueryParams = {\n\t\t\tcallback: (xml) => {\n\t\t\t\tconst ids = [];\n\n\t\t\t\tif (rowId) {\n\t\t\t\t\tids.push(rowId);\n\t\t\t\t} else if (dataToSend) {\n\t\t\t\t\tfor (const key in dataToSend) {\n\t\t\t\t\t\tids.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.afterUpdate(this, xml, ids);\n\t\t\t},\n\t\t\theaders: this._headers\n\t\t};\n\n\t\tconst urlParams = this.serverProcessor + (this._user ? (ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + this.$gantt.getUserData(0, \"version\")].join(\"&\")) : \"\");\n\t\tlet url: any = this._applyPayload(urlParams);\n\t\tlet data;\n\n\t\tswitch (this._tMode) {\n\t\t\tcase \"GET\":\n\t\t\t\tqueryParams.url = url + ajax.urlSeparator(url) + this.serialize(dataToSend, rowId);\n\t\t\t\tqueryParams.method = \"GET\";\n\t\t\t\tbreak;\n\t\t\tcase \"POST\":\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\tbreak;\n\t\t\tcase \"JSON\":\n\t\t\t\tdata = {};\n\t\t\t\tfor (const key in dataToSend) {\n\t\t\t\t\tif (key === this.action_param || key === \"id\" || key === \"gr_id\") {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdata[key] = dataToSend[key];\n\t\t\t\t}\n\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = JSON.stringify({\n\t\t\t\t\tid: rowId,\n\t\t\t\t\taction: dataToSend[this.action_param],\n\t\t\t\t\tdata\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"REST\":\n\t\t\tcase \"REST-JSON\":\n\t\t\t\turl = urlParams.replace(/(&|\\?)editing=true/, \"\");\n\t\t\t\tdata = \"\";\n\n\t\t\t\tswitch (this.getState(rowId)) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tqueryParams.method = \"DELETE\";\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tqueryParams.method = \"PUT\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tqueryParams.url = this._applyPayload(url);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._waitMode++;\n\t\treturn ajax.query(queryParams);\n\t}\n\n\t_forEachUpdatedRow(code: any) {\n\t\tconst updatedRows = this.updatedRows.slice();\n\t\tfor (let i = 0; i < updatedRows.length; i++) {\n\t\t\tconst rowId = updatedRows[i];\n\t\t\tif (this.$gantt.getUserData(rowId, this.action_param)) {\n\t\t\t\tcode.call(this, rowId);\n\t\t\t}\n\t\t}\n\t}\n\n\tsendAllData() {\n\t\tif (!this.updatedRows.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tlet valid: any = true;\n\n\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\tvalid = valid && this.checkBeforeUpdate(rowId); // ??? checkBeforeUpdate() always is true\n\t\t});\n\n\t\tif (!valid && !this.callEvent(\"onValidationError\", [\"\", this.messages])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._tSend) {\n\t\t\tthis._sendData(this._getAllData());\n\t\t} else {\n\t\t\tlet stop = false;\n\n\t\t\t// this.updatedRows can be spliced from onBeforeUpdate via dp.setUpdated false\n\t\t\t// use an iterator instead of for(var i = 0; i < this.updatedRows; i++) then\n\t\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\t\tif (stop) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._in_progress[rowId]) {\n\t\t\t\t\tif (this.is_invalid(rowId)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t\t\t\t\tif (this._waitMode && (this.$gantt.mytype === \"tree\" || this.$gantt._h2)) {\n\t\t\t\t\t\tstop = true; // block send all for tree\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t_getAllData() {\n\t\tconst out = {};\n\t\tlet hasOne = false;\n\n\t\tthis._forEachUpdatedRow(function(id) {\n\t\t\tif (this._in_progress[id] || this.is_invalid(id)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst row = this._getRowData(id);\n\t\t\tif (!this.callEvent(\"onBeforeUpdate\", [id, this.getState(id), row])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tout[id] = row;\n\t\t\thasOne = true;\n\t\t\tthis._in_progress[id] = (new Date()).valueOf();\n\t\t});\n\n\t\treturn hasOne ? out : null;\n\t}\n\n\n\t/**\n\t * @desc: specify column which value should be verified before sending to server\n\t * @param: ind - column index (0 based)\n\t * @param: verifFunction - function(object) which should verify cell value (if not specified, then value will be compared to empty string). Two arguments will be passed into it: value and column name\n\t * @type: public\n\t */\n\tsetVerificator(ind: number, verifFunction: any) {\n\t\tthis.mandatoryFields[ind] = verifFunction || (function(value) { return (value !== \"\"); });\n\t}\n\n\t/**\n\t * @desc: remove column from list of those which should be verified\n\t * @param: ind - column Index (0 based)\n\t * @type: public\n\t */\n\tclearVerificator(ind: number) {\n\t\tthis.mandatoryFields[ind] = false;\n\t}\n\n\tfindRow(pattern: any) {\n\t\tlet i = 0;\n\t\tfor (i = 0; i < this.updatedRows.length; i++) {\n\t\t\tif (pattern == this.updatedRows[i]) { // tslint:disable-line\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn i;\n\t}\n\n\t/**\n\t * @desc: define custom actions\n\t * @param: name - name of action, same as value of action attribute\n\t * @param: handler - custom function, which receives a XMl response content for action\n\t * @type: private\n\t */\n\tdefineAction(name: string, handler: any) {\n\t\tif (!this._uActions) {\n\t\t\tthis._uActions = {};\n\t\t}\n\t\tthis._uActions[name] = handler;\n\t}\n\n\t/**\n\t * @desc: used in combination with setOnBeforeUpdateHandler to create custom client-server transport system\n\t * @param: sid - id of item before update\n\t * @param: tid - id of item after up0ate\n\t * @param: action - action name\n\t * @type: public\n\t * @topic: 0\n\t */\n\tafterUpdateCallback(sid: number | string, tid: number | string, action: string, btag: any) {\n\t\tif(!this.$gantt){\n\t\t\t// destructor has been called before the callback\n\t\t\treturn;\n\t\t}\n\n\t\tconst marker = sid;\n\t\tconst correct = (action !== \"error\" && action !== \"invalid\");\n\t\tif (!correct) {\n\t\t\tthis.set_invalid(sid, action);\n\t\t}\n\t\tif ((this._uActions) && (this._uActions[action]) && (!this._uActions[action](btag))) {\n\t\t\treturn (delete this._in_progress[marker]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tthis.setUpdated(sid, false);\n\t\t}\n\n\t\tconst originalSid = sid;\n\n\t\tswitch (action) {\n\t\t\tcase \"inserted\":\n\t\t\tcase \"insert\":\n\t\t\t\tif (tid != sid) { // tslint:disable-line\n\t\t\t\t\tthis.setUpdated(sid, false);\n\t\t\t\t\tthis.$gantt[this._methods[2]](sid, tid);\n\t\t\t\t\tsid = tid;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\tcase \"deleted\":\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"true_deleted\");\n\t\t\t\tthis.$gantt[this._methods[3]](sid);\n\t\t\t\tdelete this._in_progress[marker];\n\t\t\t\treturn this.callEvent(\"onAfterUpdate\", [sid, action, tid, btag]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tif (correct) {\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"\");\n\t\t\t}\n\t\t\tdelete this._in_progress[marker];\n\t\t} else {\n\t\t\tdelete this._in_progress[marker];\n\t\t\tthis.setUpdated(tid, true, this.$gantt.getUserData(sid, this.action_param));\n\t\t}\n\n\t\tthis.callEvent(\"onAfterUpdate\", [originalSid, action, tid, btag]);\n\t}\n\n\t/**\n\t * @desc: response from server\n\t * @param: xml - XMLLoader object with response XML\n\t * @type: private\n\t */\n\tafterUpdate(that: any, xml: any, id?:any) {\n\t\tlet _xml;\n\t\tif (arguments.length === 3) {\n\t\t\t_xml = arguments[1];\n\t\t} else {\n\t\t\t// old dataprocessor\n\t\t\t_xml = arguments[4];\n\t\t}\n\t\tlet mode = this.getGanttMode();\n\t\tconst reqUrl = _xml.filePath || _xml.url;\n\n\t\tif (this._tMode !== \"REST\" && this._tMode !== \"REST-JSON\") {\n\t\t\tif (reqUrl.indexOf(\"gantt_mode=links\") !== -1) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (reqUrl.indexOf(\"/link\") > reqUrl.indexOf(\"/task\")) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t}\n\t\tthis.setGanttMode(mode);\n\n\t\tconst ajax = this.$gantt.ajax;\n\t\t// try to use json first\n\t\tif ((window as any).JSON) {\n\t\t\tlet tag;\n\n\t\t\ttry {\n\t\t\t\ttag = JSON.parse(xml.xmlDoc.responseText);\n\t\t\t} catch (e) {\n\n\t\t\t\t// empty response also can be processed by json handler\n\t\t\t\tif (!xml.xmlDoc.responseText.length) {\n\t\t\t\t\ttag = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tag) {\n\t\t\t\tconst action = tag.action || this.getState(id) || \"updated\";\n\t\t\t\tconst sid = tag.sid || id[0];\n\t\t\t\tconst tid = tag.tid || id[0];\n\t\t\t\tthat.afterUpdateCallback(sid, tid, action, tag);\n\t\t\t\tthat.finalizeUpdate();\n\t\t\t\tthis.setGanttMode(mode);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// xml response\n\t\tconst top = ajax.xmltop(\"data\", xml.xmlDoc); // fix incorrect content type in IE\n\t\tif (!top) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\t\tconst atag = ajax.xpath(\"//data/action\", top);\n\t\tif (!atag.length) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\n\t\tfor (let i = 0; i < atag.length; i++) {\n\t\t\tconst btag = atag[i];\n\t\t\tconst action = btag.getAttribute(\"type\");\n\t\t\tconst sid = btag.getAttribute(\"sid\");\n\t\t\tconst tid = btag.getAttribute(\"tid\");\n\n\t\t\tthat.afterUpdateCallback(sid, tid, action, btag);\n\t\t}\n\t\tthat.finalizeUpdate();\n\t}\n\n\tcleanUpdate(id: any[]) {\n\t\tif (id) {\n\t\t\tfor (let i = 0; i < id.length; i++) {\n\t\t\t\tdelete this._in_progress[id[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\tfinalizeUpdate() {\n\t\tif (this._waitMode) {\n\t\t\tthis._waitMode--;\n\t\t}\n\n\t\tif ((this.$gantt.mytype === \"tree\" || this.$gantt._h2) && this.updatedRows.length) {\n\t\t\tthis.sendData();\n\t\t}\n\t\tthis.callEvent(\"onAfterUpdateFinish\", []);\n\t\tif (!this.updatedRows.length) {\n\t\t\tthis.callEvent(\"onFullSync\", []);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: initializes data-processor\n\t * @param: anObj - dhtmlxGrid object to attach this data-processor to\n\t * @type: public\n\t */\n\tinit(anObj: any) {\n\t\tif (this._initialized) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$gantt = anObj;\n\t\tif (this.$gantt._dp_init) {\n\t\t\tthis.$gantt._dp_init(this);\n\t\t}\n\n\t\tthis._setDefaultTransactionMode();\n\n\t\tthis.styles = {\n\t\t\tupdated:\"gantt_updated\",\n\t\t\torder:\"gantt_updated\",\n\t\t\tinserted:\"gantt_inserted\",\n\t\t\tdeleted:\"gantt_deleted\",\n\t\t\tinvalid:\"gantt_invalid\",\n\t\t\terror:\"gantt_error\",\n\t\t\tclear:\"\"\n\t\t};\n\n\t\tthis._methods=[\"_row_style\",\"setCellTextStyle\",\"_change_id\",\"_delete_task\"];\n\t\textendGantt(this.$gantt, this);\n\t\tconst dataProcessorEvents = new DataProcessorEvents(this.$gantt, this);\n\t\tdataProcessorEvents.attach();\n\t\tthis.attachEvent(\"onDestroy\", function() {\n\t\t\tdelete this.setGanttMode;\n\t\t\tdelete this._getRowData;\n\n\t\t\tdelete this.$gantt._dp;\n\t\t\tdelete this.$gantt._change_id;\n\t\t\tdelete this.$gantt._row_style;\n\t\t\tdelete this.$gantt._delete_task;\n\t\t\tdelete this.$gantt._sendTaskOrder;\n\t\t\tdelete this.$gantt;\n\n\t\t\tdataProcessorEvents.detach();\n\t\t});\n\t\tthis.$gantt.callEvent(\"onDataProcessorReady\", [this]);\n\t\tthis._initialized = true;\n\t}\n\n\t_setDefaultTransactionMode() {\n\t\tif (this.serverProcessor) {\n\t\t\tthis.setTransactionMode(\"POST\", true);\n\t\t\tthis.serverProcessor += (this.serverProcessor.indexOf(\"?\") !== -1 ? \"&\" : \"?\") + \"editing=true\";\n\t\t\tthis._serverProcessor = this.serverProcessor;\n\t\t}\n\t}\n\n\tsetOnAfterUpdate(handler) {\n\t\tthis.attachEvent(\"onAfterUpdate\", handler);\n\t}\n\n\tenableDebug(mode) {} // tslint:disable-line\n\n\tsetOnBeforeUpdateHandler(handler) {\n\t\tthis.attachEvent(\"onBeforeDataSending\", handler);\n\t}\n\n\t/* starts autoupdate mode\n\t\t@param interval time interval for sending update requests\n\t*/\n\tsetAutoUpdate(interval, user) {\n\t\tinterval = interval || 2000;\n\n\t\tthis._user = user || (new Date()).valueOf();\n\t\tthis._needUpdate = false;\n\t\t// this._loader = null;\n\t\tthis._updateBusy = false;\n\n\t\tthis.attachEvent(\"onAfterUpdate\", this.afterAutoUpdate); // arguments sid, action, tid, xml_node;\n\n\t\tthis.attachEvent(\"onFullSync\", this.fullSync);\n\n\t\twindow.setInterval(() => {\n\t\t\tthis.loadUpdate();\n\t\t}, interval);\n\t}\n\n\t/* process updating request answer\n\t\tif status == collision version is depricated\n\t\tset flag for autoupdating immidiatly\n\t*/\n\tafterAutoUpdate(sid, action, tid, xml_node) { // tslint:disable-line\n\t\tif (action === \"collision\") {\n\t\t\tthis._needUpdate = true;\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/* callback function for onFillSync event\n\t\tcall update function if it's need\n\t*/\n\tfullSync() {\n\t\tif (this._needUpdate) {\n\t\t\tthis._needUpdate = false;\n\t\t\tthis.loadUpdate();\n\t\t}\n\t\treturn true;\n\t}\n\n\t/* sends query to the server and call callback function\n\t*/\n\tgetUpdates(url, callback) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._updateBusy) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis._updateBusy = true;\n\t\t}\n\n\t\t// this._loader = this._loader || new dtmlXMLLoaderObject(true);\n\n\t\t// this._loader.async=true;\n\t\t// this._loader.waitCall=callback;\n\t\t// this._loader.loadXML(url);\n\t\tajax.get(url, callback);\n\n\t}\n\n\t// I didn't found some use of _v and _a functions\n\n\t/* returns xml node value\n\t\t@param node\n\t\t\txml node\n\t*/\n\t_v(node) {\n\t\tif (node.firstChild) {\n\t\t\treturn node.firstChild.nodeValue;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\t/* returns values array of xml nodes array\n\t\t@param arr\n\t\t\tarray of xml nodes\n\t*/\n\t_a(arr) {\n\t\tconst res = [];\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tres[i] = this._v(arr[i]);\n\t\t}\n\t\treturn res;\n\t}\n\n\t/* loads updates and processes them\n\t*/\n\tloadUpdate() {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tconst version = this.$gantt.getUserData(0, \"version\");\n\t\tlet url = this.serverProcessor + ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + version].join(\"&\");\n\t\turl = url.replace(\"editing=true&\", \"\");\n\t\tthis.getUpdates(url, (xml) => {\n\t\t\tconst vers = ajax.xpath(\"//userdata\", xml);\n\t\t\tthis.obj.setUserData(0, \"version\", this._v(vers[0]));\n\n\t\t\tconst upds = ajax.xpath(\"//update\", xml);\n\t\t\tif (upds.length) {\n\t\t\t\tthis._silent_mode = true;\n\n\t\t\t\tfor (let i = 0; i < upds.length; i++) {\n\t\t\t\t\tconst status = upds[i].getAttribute(\"status\");\n\t\t\t\t\tconst id = upds[i].getAttribute(\"id\");\n\t\t\t\t\tconst parent = upds[i].getAttribute(\"parent\");\n\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\t\tthis.callEvent(\"insertCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"updated\":\n\t\t\t\t\t\t\tthis.callEvent(\"updateCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\t\tthis.callEvent(\"deleteCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._silent_mode = false;\n\t\t\t}\n\n\t\t\tthis._updateBusy = false;\n\t\t});\n\t}\n\n\tdestructor() {\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t\tthis.updatedRows = [];\n\t\tthis._in_progress = {}; // ?\n\t\tthis._invalid = {};\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tdelete this._initialized;\n\t}\n\n\tsetGanttMode(mode) {\n\t\tif (mode === \"tasks\") {\n\t\t\tmode = \"task\";\n\t\t} else if (mode === \"links\") {\n\t\t\tmode = \"link\";\n\t\t}\n\n\t\tconst modes = this.modes || {};\n\t\tconst ganttMode = this.getGanttMode();\n\t\tif (ganttMode) {\n\t\t\tmodes[ganttMode] = {\n\t\t\t\t_in_progress : this._in_progress,\n\t\t\t\t_invalid: this._invalid,\n\t\t\t\tupdatedRows : this.updatedRows\n\t\t\t};\n\t\t}\n\n\t\tlet newState = modes[mode];\n\t\tif (!newState) {\n\t\t\tnewState = modes[mode] = {\n\t\t\t\t_in_progress : {},\n\t\t\t\t_invalid : {},\n\t\t\t\tupdatedRows : []\n\t\t\t};\n\t\t}\n\t\tthis._in_progress = newState._in_progress;\n\t\tthis._invalid = newState._invalid;\n\t\tthis.updatedRows = newState.updatedRows;\n\t\tthis.modes = modes;\n\t\tthis._ganttMode = mode;\n\t}\n\tgetGanttMode():string {\n\t\treturn this._ganttMode;\n\t}\n\n\t_getRowData(id) {\n\t\tlet task;\n\t\tif (this.getGanttMode() === \"task\") {\n\t\t\ttask = this.$gantt.isTaskExists(id) ? this.$gantt.getTask(id) : { id };\n\t\t} else {\n\t\t\ttask = this.$gantt.isLinkExists(id) ? this.$gantt.getLink(id) : { id };\n\t\t}\n\n\t\ttask = this.$gantt.copy(task);\n\n\t\tconst data = {};\n\t\tfor (const key in task) {\n\t\t\tif (key.substr(0, 1) === \"$\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst value = task[key];\n\t\t\tif (helpers.isDate(value)) {\n\t\t\t\tdata[key] = this.$gantt.templates.xml_format !== this.$gantt.templates.format_date ? this.$gantt.templates.xml_format(value) : this.$gantt.templates.format_date(value);\n\t\t\t} else if(value === null) {\n\t\t\t\tdata[key] = \"\";\n\t\t\t} else {\n\t\t\t\tdata[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tconst taskTiming = this.$gantt._get_task_timing_mode(task);\n\t\tif(taskTiming.$no_start){\n\t\t\ttask.start_date = \"\";\n\t\t\ttask.duration = \"\";\n\t\t}\n\t\tif(taskTiming.$no_end){\n\t\t\ttask.end_date = \"\";\n\t\t\ttask.duration = \"\";\n\t\t}\n\t\tdata[this.action_param] = this.$gantt.getUserData(id, this.action_param);\n\t\treturn data;\n\t}\n\n\t_isFetchResult(result) {\n\t\treturn result.body instanceof ReadableStream;\n\t}\n\n\tsetSerializeAsJSON(flag: true) {\n\t\tthis._serializeAsJson = flag;\n\t}\n}","var DataProcessor = require(\"./data_processor\");\nmodule.exports = {\n\tDEPRECATED_api: function(server) {\n\t\treturn new (DataProcessor.DataProcessor)(server);\n\t},\n\tcreateDataProcessor: DataProcessor.createDataProcessor,\n\tgetDataProcessorModes: DataProcessor.getAvailableModes\n};","var storeRenderCreator = function(name, gantt){\n\tvar store = gantt.getDatastore(name);\n\n\tvar itemRepainter = {\n\t\trenderItem: function(id, renderer){\n\n\t\t\tvar renders = renderer.getLayers();\n\n\t\t\tvar item = store.getItem(id);\n\t\t\tif(item && store.isVisible(id)) {\n\t\t\t\tfor (var i = 0; i < renders.length; i++)\n\t\t\t\t\trenders[i].render_item(item);\n\t\t\t}\n\t\t},\n\t\trenderItems: function(renderer){\n\t\t\tvar renderers = renderer.getLayers();\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\trenderers[i].clear();\n\t\t\t}\n\n\t\t\tvar data = store.getVisibleItems();\n\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\trenderers[i].render_items(data);\n\t\t\t}\n\t\t},\n\t\tupdateItems: function(layer) {\n\t\t\tif(layer.update_items){\n\t\t\t\tvar data = store.getVisibleItems();\n\t\t\t\tlayer.update_items(data);\n\t\t\t}\n\t\t}\n\t};\n\n\tstore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\tif(renderer){\n\t\t\trenderer.onUpdateRequest = function(layer){\n\t\t\t\titemRepainter.updateItems(layer);\n\t\t\t};\n\t\t}\n\t});\n\n\tfunction skipRepaint(gantt){\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\n\t\tif(renderer){\n\t\t\tif(!id || action == \"move\" || action == \"delete\"){\n\t\t\t\tstore.callEvent(\"onBeforeRefreshAll\", []);\n\t\t\t\titemRepainter.renderItems(renderer);\n\t\t\t\tstore.callEvent(\"onAfterRefreshAll\", []);\n\t\t\t}else{\n\t\t\t\tstore.callEvent(\"onBeforeRefreshItem\", [item.id]);\n\t\t\t\titemRepainter.renderItem(item.id, renderer);\n\t\t\t\tstore.callEvent(\"onAfterRefreshItem\", [item.id]);\n\t\t\t}\n\t\t}\n\n\t});\n\n\t// TODO: probably can be done more in a more efficient way\n\tstore.attachEvent(\"onItemOpen\", function(){\n\t\tgantt.render();\n\t});\n\n\tstore.attachEvent(\"onItemClose\", function(){\n\t\tgantt.render();\n\t});\n\n\tfunction refreshId(renders, oldId, newId, item) {\n\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\trenders[i].change_id(oldId, newId);\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId){\n\n\t\t// in case of linked datastores (tasks <-> links), id change should recalculate something in linked datastore before any repaint\n\t\t// use onBeforeIdChange for this hook.\n\t\t// TODO: use something more reasonable instead\n\t\tstore.callEvent(\"onBeforeIdChange\", [oldId, newId]);\n\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\trefreshId(renderer.getLayers(), oldId, newId, store.getItem(newId));\n\t\titemRepainter.renderItem(newId, renderer);\n\t});\n\n};\n\nmodule.exports = {\n\tbindDataStore: storeRenderCreator\n};","function createDataStoreSelectMixin(store){\n\tvar selectedId = null;\n\n\tvar deleteItem = store._removeItemInner;\n\t\n\tfunction unselect(id){\n\t\tselectedId = null;\n\t\tthis.callEvent(\"onAfterUnselect\", [id]);\n\t}\n\n\tstore._removeItemInner = function(id){\n\t\tif(selectedId == id){\n\t\t\tunselect.call(this, id);\n\t\t}\n\n\t\tif(selectedId && this.eachItem){\n\t\t\tthis.eachItem(function(subItem){\n\t\t\t\tif(subItem.id == selectedId){\n\t\t\t\t\tunselect.call(this, subItem.id);\n\t\t\t\t}\n\t\t\t}, id);\n\t\t}\n\n\t\treturn deleteItem.apply(this, arguments);\n\t};\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId) {\n\t\tif (store.getSelectedId() == oldId) {\n\t\t\tstore.silent(function () {\n\t\t\t\tstore.unselect(oldId);\n\t\t\t\tstore.select(newId);\n\t\t\t});\n\t\t}\n\t});\n\n\treturn {\n\t\tselect: function(id){\n\t\t\tif (id){\n\n\t\t\t\tif(selectedId == id)\n\t\t\t\t\treturn selectedId;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tif (!this.callEvent(\"onBeforeSelect\", [id])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.unselect();\n\n\t\t\t\tselectedId = id;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tthis.refresh(id);\n\t\t\t\t\tthis.callEvent(\"onAfterSelect\", [id]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selectedId;\n\t\t},\n\t\tgetSelectedId: function(){\n\t\t\treturn selectedId;\n\t\t},\n\t\tisSelected: function(id){\n\t\t\treturn id == selectedId;\n\t\t},\n\t\tunselect: function(id){\n\t\t\tvar id = id || selectedId;\n\t\t\tif(!id)\n\t\t\t\treturn;\n\t\t\tselectedId = null;\n\t\t\tif(!this._skip_refresh){\n\t\t\t\tthis.refresh(id);\n\t\t\t\tunselect.call(this, id);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = createDataStoreSelectMixin;","var utils = require(\"../../utils/utils\");\n\n\nvar createLinksStoreFacade = function(){\n\treturn {\n\tgetLinkCount: function () {\n\t\treturn this.$data.linksStore.count();\n\t},\n\n\tgetLink : function (id) {\n\t\treturn this.$data.linksStore.getItem(id);\n\t},\n\n\tgetLinks : function () {\n\t\treturn this.$data.linksStore.getItems();\n\t},\n\n\tisLinkExists : function (id) {\n\t\treturn this.$data.linksStore.exists(id);\n\t},\n\n\taddLink : function (link) {\n\t\treturn this.$data.linksStore.addItem(link);\n\t},\n\n\tupdateLink : function (id, data) {\n\t\tif (!utils.defined(data))\n\t\t\tdata = this.getLink(id);\n\t\tthis.$data.linksStore.updateItem(id, data);\n\t},\n\n\tdeleteLink : function (id) {\n\t\treturn this.$data.linksStore.removeItem(id);\n\t},\n\n\tchangeLinkId : function (oldid, newid) {\n\t\treturn this.$data.linksStore.changeId(oldid, newid);\n\t}\n};\n};\n\nmodule.exports = createLinksStoreFacade;","var utils = require(\"../../utils/utils\");\n\nvar createTasksDatastoreFacade = function(){\n\treturn {\n\tgetTask: function (id) {\n\t\tthis.assert(id, \"Invalid argument for gantt.getTask\");\n\t\tvar task = this.$data.tasksStore.getItem(id);\n\t\tthis.assert(task, \"Task not found id=\" + id);\n\t\treturn task;\n\t},\n\tgetTaskByTime: function (from, to) {\n\t\tvar p = this.$data.tasksStore.getItems();\n\n\t\tvar res = [];\n\n\t\tif (!(from || to)) {\n\t\t\tres = p;\n\t\t} else {\n\t\t\tfrom = +from || -Infinity;\n\t\t\tto = +to || Infinity;\n\t\t\tfor (var t = 0; t < p.length; t++){\n\t\t\t\tvar task = p[t];\n\t\t\t\tif (+task.start_date < to && +task.end_date > from)\n\t\t\t\t\tres.push(task);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\tisTaskExists: function (id) {\n\t\tif(!this.$data || !this.$data.tasksStore){\n\t\t\treturn false;\n\t\t}\n\t\treturn this.$data.tasksStore.exists(id);\n\t},\n\tupdateTask: function (id, item) {\n\t\tif (!utils.defined(item)) item = this.getTask(id);\n\t\tthis.$data.tasksStore.updateItem(id, item);\n\t\tif(this.isTaskExists(id))\n\t\t\tthis.refreshTask(id);\n\t},\n\taddTask: function (item, parent, index) {\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\tif (!utils.defined(parent)) parent = this.getParent(item) || 0;\n\t\tif (!this.isTaskExists(parent)) parent = this.config.root_id;\n\t\tthis.setParent(item, parent);\n\n\t\treturn this.$data.tasksStore.addItem(item, index, parent);\n\t},\n\tdeleteTask: function (id) {\n\t\treturn this.$data.tasksStore.removeItem(id);\n\t},\n\tgetTaskCount: function () {\n\t\treturn this.$data.tasksStore.count();\n\t},\n\tgetVisibleTaskCount: function () {\n\t\treturn this.$data.tasksStore.countVisible();\n\t},\n\tgetTaskIndex: function (id) {\n\t\treturn this.$data.tasksStore.getBranchIndex(id);\n\t},\n\tgetGlobalTaskIndex: function (id) {\n\t\tthis.assert(id, \"Invalid argument\");\n\t\treturn this.$data.tasksStore.getIndexById(id);\n\t},\n\teachTask: function (code, parent, master) {\n\t\treturn this.$data.tasksStore.eachItem(utils.bind(code, master||this), parent);\n\t},\n\teachParent: function (callback, startTask, master) {\n\t\treturn this.$data.tasksStore.eachParent(utils.bind(callback, master || this), startTask);\n\t},\n\tchangeTaskId: function (oldid, newid) {\n\t\tthis.$data.tasksStore.changeId(oldid, newid);\n\t\tvar task = this.$data.tasksStore.getItem(newid);\n\n\t\tvar links = [];\n\n\t\tif (task.$source) {\n\t\t\tlinks = links.concat(task.$source);\n\t\t}\n\t\tif (task.$target) {\n\t\t\tlinks = links.concat(task.$target);\n\t\t}\n\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = this.getLink(links[i]);\n\t\t\tif (link.source == oldid) {\n\t\t\t\tlink.source = newid;\n\t\t\t}\n\t\t\tif (link.target == oldid) {\n\t\t\t\tlink.target = newid;\n\t\t\t}\n\t\t}\n\t},\n\tcalculateTaskLevel: function (item) {\n\t\treturn this.$data.tasksStore.calculateItemLevel(item);\n\t},\n\tgetNext: function (id) {\n\t\treturn this.$data.tasksStore.getNext(id);\n\t},\n\tgetPrev: function (id) {\n\t\treturn this.$data.tasksStore.getPrev(id);\n\t},\n\tgetParent: function (id) {\n\t\treturn this.$data.tasksStore.getParent(id);\n\t},\n\tsetParent: function (task, new_pid, silent) {\n\t\treturn this.$data.tasksStore.setParent(task, new_pid, silent);\n\t},\n\tgetSiblings: function (id) {\n\t\treturn this.$data.tasksStore.getSiblings(id).slice();\n\t},\n\tgetNextSibling: function (id) {\n\t\treturn this.$data.tasksStore.getNextSibling(id);\n\t},\n\tgetPrevSibling: function (id) {\n\t\treturn this.$data.tasksStore.getPrevSibling(id);\n\t},\n\tgetTaskByIndex: function(index){\n\t\tvar id = this.$data.tasksStore.getIdByIndex(index);\n\t\tif(this.isTaskExists(id)){\n\t\t\treturn this.getTask(id);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetChildren: function (id) {\n\t\tif(!this.hasChild(id)){\n\t\t\treturn [];\n\t\t}else{\n\t\t\treturn this.$data.tasksStore.getChildren(id).slice();\n\t\t}\n\t},\n\thasChild: function (id) {\n\t\treturn this.$data.tasksStore.hasChild(id);\n\t},\n\topen: function (id) {\n\t\tthis.$data.tasksStore.open(id);\n\t},\n\tclose: function (id) {\n\t\tthis.$data.tasksStore.close(id);\n\t},\n\tmoveTask: function (sid, tindex, parent) {\n\t\treturn this.$data.tasksStore.move.apply(this.$data.tasksStore, arguments);\n\t},\n\tsort: function(field, desc, parent, silent) {\n\t\tvar render = !silent;//4th argument to cancel redraw after sorting\n\n\t\tthis.$data.tasksStore.sort(field, desc, parent);\n\t\tif (render) {\n\t\t\tthis.render();\n\t\t}\n\t\tthis.callEvent(\"onAfterSort\", [field, desc, parent]);\n\t}\n};\n};\n\nmodule.exports = createTasksDatastoreFacade;\n\n\n","var utils = require(\"../../utils/utils\");\nvar createTasksFacade = require(\"./datastore_tasks\"),\n\tcreateLinksFacade = require(\"./datastore_links\"),\n\tDataStore = require(\"../datastore/datastore\"),\n\tTreeDataStore = require(\"../datastore/treedatastore\"),\n\tcreateDatastoreSelect = require(\"../datastore/select\");\nvar datastoreRender = require(\"../datastore/datastore_render\");\n\nfunction getDatastores(){\n\tvar storeNames = this.$services.getService(\"datastores\");\n\tvar res = [];\n\tfor(var i = 0; i < storeNames.length; i++){\n\t\tres.push(this.getDatastore(storeNames[i]));\n\t}\n\treturn res;\n}\n\nvar createDatastoreFacade = function(){\n\treturn {\n\tcreateDatastore: function(config){\n\n\t\tvar $StoreType = (config.type || \"\").toLowerCase() == \"treedatastore\" ? TreeDataStore : DataStore;\n\n\t\tif (config) {\n\t\t\tvar self = this;\n\t\t\tconfig.openInitially = function(){ return self.config.open_tree_initially; };\n\t\t}\n\n\t\tvar store = new $StoreType(config);\n\t\tthis.mixin(store, createDatastoreSelect(store));\n\n\t\tif (config.name) {\n\t\t\tvar servicePrefix = \"datastore:\";\n\n\t\t\tthis.$services.dropService(servicePrefix + config.name);\n\t\t\tthis.$services.setService(servicePrefix + config.name, function() { return store; } );\n\n\t\t\tvar storeList = this.$services.getService(\"datastores\");\n\t\t\tif (!storeList) {\n\t\t\t\tstoreList = [];\n\t\t\t\tthis.$services.setService(\"datastores\", function() { return storeList; });\n\t\t\t\tstoreList.push(config.name);\n\t\t\t} else if (storeList.indexOf(config.name) < 0) {\n\t\t\t\tstoreList.push(config.name);\n\t\t\t}\n\n\t\t\tdatastoreRender.bindDataStore(config.name, this);\n\t\t}\n\n\t\treturn store;\n\t},\n\tgetDatastore: function(name){\n\t\treturn this.$services.getService(\"datastore:\" + name);\n\t},\n\n\trefreshData: function () {\n\t\tvar scrollState = this.getScrollState();\n\t\tthis.callEvent(\"onBeforeDataRender\", []);\n\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].refresh();\n\t\t}\n\n\t\tif(scrollState.x || scrollState.y){\n\t\t\tthis.scrollTo(scrollState.x, scrollState.y);\n\t\t}\n\t\tthis.callEvent(\"onDataRender\", []);\n\t},\n\n\tisChildOf: function(childId, parentId){\n\t\treturn this.$data.tasksStore.isChildOf(childId, parentId);\n\t},\n\n\trefreshTask: function (taskId, refresh_links) {\n\t\tvar task = this.getTask(taskId);\n\t\tif (task && this.isTaskVisible(taskId)) {\n\n\t\t\tthis.$data.tasksStore.refresh(taskId, !!this.getState().drag_id);// do quick refresh during drag and drop\n\n\t\t\tif (refresh_links !== undefined && !refresh_links)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\t\tthis.refreshLink(task.$source[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\t\tthis.refreshLink(task.$target[i]);\n\t\t\t}\n\t\t}else if(this.isTaskExists(taskId) && this.isTaskExists(this.getParent(taskId))){\n\t\t\tthis.refreshTask(this.getParent(taskId));\n\t\t}\n\n\t},\n\trefreshLink: function (linkId) {\n\t\tthis.$data.linksStore.refresh(linkId, !!this.getState().drag_id);// do quick refresh during drag and drop\n\t},\n\n\tsilent: function(code){\n\t\tvar gantt = this;\n\t\tgantt.$data.tasksStore.silent(function(){\n\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\tcode();\n\t\t\t});\n\t\t});\n\t},\n\n\tclearAll: function () {\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].clearAll();\n\t\t}\n\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t\tthis.callEvent(\"onClear\", []);\n\t\tthis.render();\n\t},\n\t_clear_data: function () {\n\t\tthis.$data.tasksStore.clearAll();\n\t\tthis.$data.linksStore.clearAll();\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t},\n\n\tselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tif(!this.config.select_task)\n\t\t\treturn false;\n\t\tif (id){\n\n\t\t\tstore.select(id);\n\t\t}\n\t\treturn store.getSelectedId();\n\t},\n\tunselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tstore.unselect(id);\n\t},\n\tisSelectedTask: function(id){\n\t\treturn this.$data.tasksStore.isSelected(id);\n\t},\n\tgetSelectedId: function() {\n\t\treturn this.$data.tasksStore.getSelectedId();\n\t}\n};\n};\n\nfunction createFacade(){\n\tvar res = utils.mixin({}, createDatastoreFacade());\n\tutils.mixin(res, createTasksFacade());\n\tutils.mixin(res, createLinksFacade());\n\treturn res;\n}\n\n\n\n\nmodule.exports = {create: createFacade};","var utils = require(\"../../utils/utils\");\nvar facadeFactory = require(\"./../facades/datastore\");\nvar calculateScaleRange = require(\"../gantt_data_range\");\nfunction initDataStores(gantt){\n\n\tvar facade = facadeFactory.create();\n\tutils.mixin(gantt, facade);\n\tvar tasksStore = gantt.createDatastore({\n\t\tname: \"task\",\n\t\ttype: \"treeDatastore\",\n\t\trootId: function() { return gantt.config.root_id; },\n\t\tinitItem: utils.bind(_init_task, gantt),\n\t\tgetConfig: function() { return gantt.config; }\n\t});\n\n\tvar linksStore = gantt.createDatastore({\n\t\tname: \"link\",\n\t\tinitItem: utils.bind(_init_link, gantt)\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\ttasksStore.destructor();\n\t\tlinksStore.destructor();\n\t});\n\n\ttasksStore.attachEvent(\"onBeforeRefreshAll\", function(){\n\n\t\tvar order = tasksStore.getVisibleItems();\n\n\t\tfor(var i=0; i < order.length; i++){\n\t\t\tvar item = order[i];\n\t\t\titem.$index = i;\n\t\t\tgantt.resetProjectDates(item);\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onFilterItem\", function(id, task){\n\t\tvar min = null, max = null;\n\t\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\t\tif (gantt._isAllowedUnscheduledTask(task)) return true;\n\t\t\tmin = gantt.config.start_date.valueOf();\n\t\t\tmax = gantt.config.end_date.valueOf();\n\n\t\t\tif (+task.start_date > max || +task.end_date < +min)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\ttasksStore.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\tgantt._update_flags(oldId, newId);\n\t});\n\n\ttasksStore.attachEvent(\"onAfterUpdate\", function(id){\n\t\tgantt._update_parents(id);\n\t\tif(gantt.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar task = tasksStore.getItem(id);\n\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\tlinksStore.refresh(task.$source[i]);\n\t\t}\n\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\tlinksStore.refresh(task.$target[i]);\n\t\t}\n\t});\n\n\ttasksStore.attachEvent(\"onAfterItemMove\", function(sid, parent, tindex){\n\t\tvar source = gantt.getTask(sid);\n\n\t\tif(this.getNextSibling(sid) !== null){\n\t\t\tsource.$drop_target = this.getNextSibling(sid);\n\t\t} else if(this.getPrevSibling(sid) !== null){\n\t\t\tsource.$drop_target = \"next:\" + this.getPrevSibling(sid);\n\t\t}else{\n\t\t\tsource.$drop_target = \"next:null\";\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(action == \"delete\"){\n\t\t\tgantt._update_flags(id, null);\n\t\t}\n\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn;\n\t\t}\n\n\t\tif(gantt.config.fit_tasks && action !== \"paint\"){\n\t\t\tvar oldState = gantt.getState();\n\t\t\tcalculateScaleRange(gantt);\n\t\t\tvar newState = gantt.getState();\n\n\t\t\t//this._init_tasks_range();\n\t\t\tif (+oldState.min_date != +newState.min_date || +oldState.max_date != +newState.max_date) {\n\t\t\t\tgantt.render();\n\n\t\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\t\tif(action == \"add\" || action == \"move\" || action == \"delete\"){\n\t\t\tgantt.$layout.resize();\n\t\t}else if(!id){\n\t\t\tlinksStore.refresh();\n\t\t}\n\n\t});\n\n\tlinksStore.attachEvent(\"onAfterAdd\", function(id, link){\n\t\tsync_link(link);\n\t});\n\tlinksStore.attachEvent(\"onAfterUpdate\", function(id, link){\n\t\tsync_links();\n\t});\n\tlinksStore.attachEvent(\"onAfterDelete\", function(id, link){\n\t\tsync_link_delete(link);\n\t});\n\tlinksStore.attachEvent(\"onBeforeIdChange\", function(oldId, newId){\n\t\tsync_link_delete(gantt.mixin({id:oldId}, gantt.$data.linksStore.getItem(newId)));\n\t\tsync_link(gantt.$data.linksStore.getItem(newId));\n\t});\n\n\tfunction checkLinkedTaskVisibility(taskId){\n\t\tvar isVisible = gantt.isTaskVisible(taskId);\n\t\tif(!isVisible && gantt.isTaskExists(taskId)){\n\t\t\tvar parent = gantt.getParent(taskId);\n\t\t\tif(gantt.isTaskExists(parent) && gantt.isTaskVisible(parent)){\n\t\t\t\tparent = gantt.getTask(parent);\n\t\t\t\tif(gantt.isSplitTask(parent)){\n\t\t\t\t\tisVisible = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isVisible;\n\t}\n\n\tlinksStore.attachEvent(\"onFilterItem\", function(id, link){\n\t\tif (!gantt.config.show_links) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar sourceVisible = checkLinkedTaskVisibility(link.source);\n\t\tvar targetVisible = checkLinkedTaskVisibility(link.target);\n\n\t\tif (!(sourceVisible && targetVisible) ||\n\t\t\tgantt._isAllowedUnscheduledTask(gantt.getTask(link.source)) || gantt._isAllowedUnscheduledTask(gantt.getTask(link.target)))\n\t\t\treturn false;\n\n\t\treturn gantt.callEvent(\"onBeforeLinkDisplay\", [id, link]);\n\t});\n\n\n\t(function(){\n\t\t// delete all connected links after task is deleted\n\t\tvar treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tvar deletedLinks = {};\n\n\t\tgantt.attachEvent(\"onBeforeTaskDelete\", function(id, item){\n\t\t\tdeletedLinks[id] = treeHelper.getSubtreeLinks(gantt, id);\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onAfterTaskDelete\", function(id, item) {\n\t\t\tif(deletedLinks[id]){\n\t\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\t\tfor(var i in deletedLinks[id]){\n\t\t\t\t\t\tgantt.$data.linksStore.removeItem(i);\n\t\t\t\t\t\tsync_link_delete(deletedLinks[id][i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tdeletedLinks[id] = null;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t})();\n\n\tgantt.attachEvent(\"onAfterLinkDelete\", function(id, link) {\n\t\tgantt.refreshTask(link.source);\n\t\tgantt.refreshTask(link.target);\n\t});\n\n\tgantt.attachEvent(\"onParse\", sync_links);\n\n\tmapEvents({\n\t\tsource: linksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onLinkLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeLinkAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterLinkAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeLinkUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterLinkUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeLinkDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterLinkDelete\",\n\t\t\t\"onIdChange\":\"onLinkIdChange\"\n\t\t}\n\t});\n\n\tmapEvents({\n\t\tsource: tasksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onTaskLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeTaskAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterTaskAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeTaskUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterTaskUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeTaskDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterTaskDelete\",\n\t\t\t\"onIdChange\":\"onTaskIdChange\",\n\t\t\t\"onBeforeItemMove\":\"onBeforeTaskMove\",\n\t\t\t\"onAfterItemMove\":\"onAfterTaskMove\",\n\t\t\t\"onFilterItem\":\"onBeforeTaskDisplay\",\n\t\t\t\"onItemOpen\":\"onTaskOpened\",\n\t\t\t\"onItemClose\":\"onTaskClosed\",\n\t\t\t\"onBeforeSelect\":\"onBeforeTaskSelected\",\n\t\t\t\"onAfterSelect\":\"onTaskSelected\",\n\t\t\t\"onAfterUnselect\":\"onTaskUnselected\"\n\t\t}\n\t});\n\n\tgantt.$data = {\n\t\ttasksStore: tasksStore,\n\t\tlinksStore: linksStore\n\t};\n\n\tfunction sync_link(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tsourceTask.$source = sourceTask.$source || [];\n\t\t\tsourceTask.$source.push(link.id);\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\ttargetTask.$target = targetTask.$target || [];\n\t\t\ttargetTask.$target.push(link.id);\n\t\t}\n\t}\n\n\tfunction sync_link_delete(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tfor(var i = 0; i < sourceTask.$source.length; i++){\n\t\t\t\tif(sourceTask.$source[i] == link.id){\n\t\t\t\t\tsourceTask.$source.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\tfor(var i = 0; i < targetTask.$target.length; i++){\n\t\t\t\tif(targetTask.$target[i] == link.id){\n\t\t\t\t\ttargetTask.$target.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction sync_links() {\n\t\tvar task = null;\n\t\tvar tasks = gantt.$data.tasksStore.getItems();\n\n\t\tfor(var i = 0, len = tasks.length; i < len; i++){\n\t\t\ttask = tasks[i];\n\t\t\ttask.$source = [];\n\t\t\ttask.$target = [];\n\t\t}\n\n\t\tvar links = gantt.$data.linksStore.getItems();\n\t\tfor (var i = 0, len = links.length; i < len; i++) {\n\n\t\t\tvar link = links[i];\n\t\t\tsync_link(link);\n\t\t}\n\t}\n\n\tfunction mapEvents(conf){\n\t\tvar mapFrom = conf.source;\n\t\tvar mapTo = conf.target;\n\t\tfor(var i in conf.events){\n\t\t\t(function(sourceEvent, targetEvent){\n\t\t\t\tmapFrom.attachEvent(sourceEvent, function(){\n\t\t\t\t\treturn mapTo.callEvent(targetEvent, Array.prototype.slice.call(arguments));\n\t\t\t\t}, targetEvent);\n\t\t\t})(i, conf.events[i]);\n\t\t}\n\t}\n\n\tfunction _init_task(task) {\n\t\tif (!this.defined(task.id))\n\t\t\ttask.id = this.uid();\n\n\t\tif (task.start_date)\n\t\t\ttask.start_date = gantt.date.parseDate(task.start_date, \"parse_date\");\n\t\tif (task.end_date)\n\t\t\ttask.end_date = gantt.date.parseDate(task.end_date, \"parse_date\");\n\n\n\t\tvar duration = null;\n\t\tif (task.duration || task.duration === 0) {\n\t\t\ttask.duration = duration = task.duration * 1;\n\t\t}\n\n\t\tif (duration) {\n\t\t\tif (task.start_date && !task.end_date) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!task.start_date && task.end_date) {\n\t\t\t\ttask.start_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\tduration: -task.duration,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\ttask.progress = Number(task.progress) || 0;\n\n\t\tif (this._isAllowedUnscheduledTask(task)) {\n\t\t\tthis._set_default_task_timing(task);\n\t\t}\n\t\tthis._init_task_timing(task);\n\t\tif (task.start_date && task.end_date)\n\t\t\tthis.correctTaskWorkTime(task);\n\n\t\ttask.$source = [];\n\t\ttask.$target = [];\n\t\tif (task.parent === undefined) {\n\t\t\tthis.setParent(task, this.config.root_id);\n\t\t}\n\n\t\treturn task;\n\t}\n\n\tfunction _init_link(link) {\n\t\tif (!this.defined(link.id))\n\t\t\tlink.id = this.uid();\n\t\treturn link;\n\t}\n}\n\n\nmodule.exports = initDataStores;\n","function createLayoutFacade(){\n\n\tfunction getTimeline(gantt){\n\t\treturn gantt.$ui.getView(\"timeline\");\n\t}\n\n\tfunction getGrid(gantt){\n\t\treturn gantt.$ui.getView(\"grid\");\n\t}\n\n\tfunction getVerticalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t}\n\n\tfunction getHorizontalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t}\n\n\tvar DEFAULT_VALUE = \"DEFAULT_VALUE\";\n\n\tfunction tryCall(getView, method, args, fallback){\n\t\tvar view = getView(this);\n\t\tif (!(view && view.isVisible())) {\n\t\t\tif(fallback){\n\t\t\t\treturn fallback();\n\t\t\t}else{\n\t\t\t\treturn DEFAULT_VALUE;\n\t\t\t}\n\t\t} else {\n\t\t\treturn view[method].apply(view, args);\n\t\t}\n\t}\n\n\treturn {\n\n\t\tgetColumnIndex: function(name) {\n\t\t\tvar res = tryCall.call(this, getGrid, \"getColumnIndex\", [name]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tdateFromPos: function(x) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"dateFromPos\", Array.prototype.slice.call(arguments));\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn this.getState().min_date;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tposFromDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"posFromDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetRowTop: function(index) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getRowTop\", [index],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getRowTop\", [index]);}\n\t\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskTop: function(id) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemTop\", [id],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemTop\", [id]);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tgetTaskPosition: function(task, start_date, end_date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getItemPosition\", [task, start_date, end_date]);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\tvar top = this.getTaskTop(task.id);\n\t\t\t\tvar height = this.getTaskHeight();\n\n\t\t\t\treturn {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: top,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: 0\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskHeight: function() {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemHeight\", [],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemHeight\", []);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tcolumnIndexByDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"columnIndexByDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\troundTaskDates: function() {\n\t\t\ttryCall.call(this, getTimeline, \"roundTaskDates\", []);\n\t\t},\n\n\t\tgetScale: function() {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getScale\", []);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn null;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline || !timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn timeline._taskRenderer.rendered[id];\n\t\t\t}\n\t\t},\n\n\n\t\tgetLinkNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn timeline._linkRenderer.rendered[id];\n\t\t\t}\n\t\t},\n\n\t\tscrollTo: function(left, top){\n\t\t\tvar vertical = getVerticalScrollbar(this);\n\t\t\tvar horizontal = getHorizontalScrollbar(this);\n\n\t\t\tvar oldH = {position: 0},\n\t\t\t\toldV = {position: 0};\n\n\t\t\tif(vertical){\n\t\t\t\toldV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\toldH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tif (horizontal && left*1 == left){\n\t\t\t\thorizontal.scroll(left);\n\t\t\t}\n\t\t\tif(vertical && top*1 == top){\n\t\t\t\tvertical.scroll(top);\n\t\t\t}\n\n\t\t\tvar newV = {position: 0},\n\t\t\t\tnewH = {position: 0};\n\t\t\tif(vertical){\n\t\t\t\tnewV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\tnewH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onGanttScroll\", [oldH.position, oldV.position, newH.position, newV.position]);\n\t\t},\n\n\t\tshowDate: function(date){\n\t\t\tvar date_x = this.posFromDate(date);\n\t\t\tvar scroll_to = Math.max(date_x - this.config.task_scroll_offset, 0);\n\t\t\tthis.scrollTo(scroll_to);\n\t\t},\n\t\tshowTask: function(id) {\n\t\t\tvar pos = this.getTaskPosition(this.getTask(id));\n\n\t\t\tvar left = Math.max(pos.left - this.config.task_scroll_offset, 0);\n\n\t\t\tvar dataHeight = this._scroll_state().y;\n\t\t\tvar top;\n\t\t\tif(!dataHeight){\n\t\t\t\ttop = pos.top;\n\t\t\t}else{\n\t\t\t\ttop = pos.top - (dataHeight - this.config.row_height)/2;\n\t\t\t}\n\n\t\t\tthis.scrollTo(left, top);\n\t\t},\n\t\t_scroll_state: function(){\n\t\t\tvar result = {\n\t\t\t\tx: false,\n\t\t\t\ty: false,\n\t\t\t\tx_pos: 0,\n\t\t\t\ty_pos: 0,\n\t\t\t\tscroll_size: this.config.scroll_size + 1,//1px for inner content\n\t\t\t\tx_inner: 0,\n\t\t\t\ty_inner: 0\n\t\t\t};\n\n\t\t\tvar scrollVer = getVerticalScrollbar(this),\n\t\t\t\tscrollHor = getHorizontalScrollbar(this);\n\t\t\tif(scrollHor){\n\t\t\t\tvar horState = scrollHor.getScrollState();\n\t\t\t\tif(horState.visible){\n\t\t\t\t\tresult.x = horState.size;\n\t\t\t\t\tresult.x_inner = horState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.x_pos = horState.position || 0;\n\t\t\t}\n\n\t\t\tif(scrollVer){\n\t\t\t\tvar verState = scrollVer.getScrollState();\n\t\t\t\tif(verState.visible){\n\t\t\t\t\tresult.y = verState.size;\n\n\t\t\t\t\tresult.y_inner = verState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.y_pos = verState.position || 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tgetScrollState: function(){\n\t\t\tvar state = this._scroll_state();\n\t\t\treturn { x:state.x_pos, y:state.y_pos, inner_width:state.x, inner_height:state.y, width: state.x_inner, height: state.y_inner };\n\t\t}\n\n\t};\n\n}\n\nmodule.exports = createLayoutFacade;","module.exports = function(gantt) {\n\n};","var domHelpers = require(\"../../utils/dom_helpers\");\n\nvar initializer = (function() {\n\treturn function (gantt) {\n\t\treturn {\n\n\t\t\tgetVerticalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t\t\t},\n\t\t\tgetHorizontalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t\t\t},\n\n\t\t\t_legacyGridResizerClass: function(layout){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar r = resizers[i];\n\t\t\t\t\tvar gridResizer = false;\n\n\t\t\t\t\tvar prev = r.$parent.getPrevSibling(r.$id);\n\t\t\t\t\tif(prev && prev.$config && prev.$config.id === \"grid\"){\n\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar next = r.$parent.getNextSibling(r.$id);\n\t\t\t\t\t\tif(next && next.$config && next.$config.id === \"grid\"){\n\t\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(gridResizer){\n\t\t\t\t\t\tr.$config.css = (r.$config.css ? r.$config.css + \" \" : \"\") + \"gantt_grid_resize_wrap\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonCreated: function(layout) {\n\t\t\t\tvar first = true;\n\n\t\t\t\tthis._legacyGridResizerClass(layout);\n\n\t\t\t\tlayout.attachEvent(\"onBeforeResize\", function() {\n\t\t\t\t\tvar mainTimeline = gantt.$ui.getView(\"timeline\");\n\t\t\t\t\tif (mainTimeline)\n\t\t\t\t\t\tmainTimeline.$config.hidden = mainTimeline.$parent.$config.hidden = !gantt.config.show_chart;\n\n\t\t\t\t\tvar mainGrid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\t\tif(!mainGrid)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar showGrid = gantt.config.show_grid;\n\t\t\t\t\tif (first) {\n\t\t\t\t\t\tvar colsWidth = mainGrid._getColsTotalWidth();\n\t\t\t\t\t\tif (colsWidth !== false){\n\t\t\t\t\t\t\tgantt.config.grid_width = colsWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshowGrid = showGrid && !!gantt.config.grid_width;\n\t\t\t\t\t\tgantt.config.show_grid = showGrid;\n\t\t\t\t\t}\n\t\t\t\t\tmainGrid.$config.hidden = mainGrid.$parent.$config.hidden = !showGrid;\n\n\t\t\t\t\tif (!mainGrid.$config.hidden) {\n\t\t\t\t\t\t/* restrict grid width due to min_width, max_width, min_grid_column_width */\n\t\t\t\t\t\tvar grid_limits = mainGrid._getGridWidthLimits();\n\t\t\t\t\t\tif (grid_limits[0] && gantt.config.grid_width < grid_limits[0])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[0];\n\t\t\t\t\t\tif (grid_limits[1] && gantt.config.grid_width > grid_limits[1])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[1];\n\t\t\t\t\t\tif (mainTimeline && gantt.config.show_chart){\n\n\t\t\t\t\t\t\tmainGrid.$config.width = gantt.config.grid_width - 1;\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tif (mainTimeline && !domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t\t// timeline is being displayed after being not visible, reset grid with from full screen\n\t\t\t\t\t\t\t\t\tif (!mainGrid.$config.original_grid_width) {\n\t\t\t\t\t\t\t\t\t\tvar skinSettings = gantt.skins[gantt.skin];\n\t\t\t\t\t\t\t\t\t\tif(skinSettings && skinSettings.config && skinSettings.config.grid_width){\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width =  skinSettings.config.grid_width;\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tgantt.config.grid_width = mainGrid.$config.original_grid_width;\n\t\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmainGrid.$parent._setContentSize(mainGrid.$config.width, mainGrid.$config.height);\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, gantt.config.grid_width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\tif (mainGrid.$parent.$config.group) {\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, mainGrid.$parent.$config.width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (mainTimeline && domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t// hiding timeline, remember grid with to restore it when timeline is displayed again\n\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = gantt.config.grid_width;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfirst = false;\n\t\t\t\t});\n\t\t\t\tthis._initScrollStateEvents(layout);\n\t\t\t},\n\n\t\t\t_initScrollStateEvents: function(layout) {\n\t\t\t\tgantt._getVerticalScrollbar = this.getVerticalScrollbar;\n\t\t\t\tgantt._getHorizontalScrollbar = this.getHorizontalScrollbar;\n\n\t\t\t\tvar vertical = this.getVerticalScrollbar();\n\t\t\t\tvar horizontal = this.getHorizontalScrollbar();\n\t\t\t\tif (vertical) {\n\t\t\t\t\tvertical.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [scrollState.x, oldPos, scrollState.x, newPos]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (horizontal) {\n\t\t\t\t\thorizontal.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [oldPos, scrollState.y, newPos, scrollState.y]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tlayout.attachEvent(\"onResize\", function(){\n\t\t\t\t\tif (vertical && !gantt.$scroll_ver){\n\t\t\t\t\t\tgantt.$scroll_ver = vertical.$scroll_ver;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (horizontal && !gantt.$scroll_hor){\n\t\t\t\t\t\tgantt.$scroll_hor = horizontal.$scroll_hor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_findGridResizer: function(layout, grid){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\n\t\t\t\tvar gridFirst = true;\n\t\t\t\tvar gridResizer;\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar res = resizers[i];\n\t\t\t\t\tres._getSiblings();\n\t\t\t\t\tvar prev = res._behind;\n\t\t\t\t\tvar next = res._front;\n\t\t\t\t\tif(prev && prev.$content === grid || (prev.isChild && prev.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else if(next && next.$content === grid || (next.isChild && next.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tresizer: gridResizer,\n\t\t\t\t\tgridFirst: gridFirst\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tonInitialized: function (layout) {\n\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\tvar resizeInfo = this._findGridResizer(layout, grid);\n\n\t\t\t\t// expose grid resize events\n\t\t\t\tif(resizeInfo.resizer){\n\t\t\t\t\tvar gridFirst = resizeInfo.gridFirst,\n\t\t\t\t\t\tnext = resizeInfo.resizer;\n\t\t\t\t\tvar initialWidth;\n\t\t\t\t\tnext.attachEvent(\"onResizeStart\", function(prevCellWidth, nextCellWidth){\n\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tvar limits = grid._getGridWidthLimits();\n\n\t\t\t\t\t\t\t// min grid width is defined by min widths of its columns, unless grid has horizontal scroll\n\t\t\t\t\t\t\tif(!grid.$config.scrollable)\n\t\t\t\t\t\t\t\tviewCell.$config.minWidth = limits[0];\n\n\t\t\t\t\t\t\tviewCell.$config.maxWidth = limits[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialWidth = gridFirst ? prevCellWidth : nextCellWidth;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResizeStart\", [initialWidth]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResize\", function(newBehindSize, newFrontSize){\n\t\t\t\t\t\tvar newSize = gridFirst ? newBehindSize : newFrontSize;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResize\", [initialWidth, newSize]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResizeEnd\", function(oldBackSize, oldFrontSize, newBackSize, newFrontSize){\n\n\t\t\t\t\t\tvar oldSize = gridFirst ? oldBackSize : oldFrontSize;\n\t\t\t\t\t\tvar newSize = gridFirst ? newBackSize : newFrontSize;\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tviewCell.$config.minWidth = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar res = gantt.callEvent(\"onGridResizeEnd\", [oldSize, newSize]);\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\tgantt.config.grid_width = newSize;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\n\t\t\t}\n\t\t};\n\n\t};\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nvar initLinksDND = function(timeline, gantt) {\n\tvar _link_landing,\n\t\t_link_target_task,\n\t\t_link_target_task_start,\n\t\t_link_source_task,\n\t\t_link_source_task_start;\n\n\n\tfunction getVisibleMilestoneWidth() {\n\t\tvar origWidth = timeline.getItemHeight();//m-s have square shape\n\t\treturn Math.round(Math.sqrt(2 * origWidth * origWidth)) - 2;\n\t}\n\n\tfunction isMilestone(task) {\n\t\treturn gantt.getTaskType(task.type) == gantt.config.types.milestone;\n\t}\n\n\tfunction getDndState(){\n\t\treturn {\n\t\t\tlink_source_id : _link_source_task,\n\t\t\tlink_target_id : _link_target_task,\n\t\t\tlink_from_start : _link_source_task_start,\n\t\t\tlink_to_start : _link_target_task_start,\n\t\t\tlink_landing_area : _link_landing\n\t\t};\n\t}\n\n\tvar services = gantt.$services;\n\n\tvar state = services.getService(\"state\");\n\tvar DnD = services.getService(\"dnd\");\n\n\tstate.registerProvider(\"linksDnD\", getDndState);\n\n\tvar dnd = new DnD(timeline.$task_bars, { sensitivity : 0, updates_per_second : 60 }),\n\t\tstart_marker = \"task_start_date\",\n\t\tend_marker = \"task_end_date\",\n\t\tlink_edge_marker = \"gantt_link_point\",\n\t\tlink_landing_hover_area = \"gantt_link_control\";\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function(obj,e) {\n\t\tvar target = (e.target||e.srcElement);\n\t\tresetDndState();\n\t\tif(gantt.getState().drag_id)\n\t\t\treturn false;\n\n\t\tif(domHelpers.locateClassName(target, link_edge_marker)){\n\t\t\tif(domHelpers.locateClassName(target, start_marker))\n\t\t\t\t_link_source_task_start = true;\n\n\t\t\tvar sid = gantt.locate(e);\n\t\t\t_link_source_task = sid;\n\n\t\t\tvar t = gantt.getTask(sid);\n\t\t\tif(gantt.isReadonly(t)){\n\t\t\t\tresetDndState();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar shift = 0;\n\n\t\t\tthis._dir_start = getLinePos(t, !!_link_source_task_start, shift, timeline.$getConfig(), true);\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\n\t}, this));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function(obj,e) {\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\tupdateMarkedHtml(dnd.config.marker);\n\t}, this));\n\n\tfunction getLinePos(task, to_start, shift, cfg, isStart){\n\t\tvar taskPos = getMilestonePosition(task, function(task){ return gantt.getTaskPosition(task);}, cfg);\n\n\t\tvar pos = {x: taskPos.x, y: taskPos.y};\n\t\tif(!to_start){\n\t\t\tpos.x = taskPos.xEnd;\n\t\t}\n\n\t\t//var pos = gantt._get_task_pos(task, !!to_start);\n\t\tpos.y += gantt.config.row_height/2;\n\n\t\tvar offset = isMilestone(task) && isStart ? 2 : 0;\n\n\t\tshift = shift || 0;\n\t\tif(cfg.rtl)\n\t\t\tshift = shift * -1;\n\n\t\tpos.x += (to_start ? -1 : 1)*shift  - offset;\n\t\treturn pos;\n\t}\n\n\tfunction getMilestonePosition(task, getTaskPosition, cfg){\n\t\tvar pos = getTaskPosition(task);\n\n\t\tvar res = {\n\t\t\tx: pos.left,\n\t\t\ty: pos.top,\n\t\t\twidth: pos.width,\n\t\t\theight: pos.height\n\t\t};\n\n\t\tif(cfg.rtl){\n\t\t\tres.xEnd = res.x;\n\t\t\tres.x = res.xEnd + res.width;\n\t\t}else{\n\t\t\tres.xEnd = res.x + res.width;\n\t\t}\n\t\tres.yEnd = res.y + res.height;\n\n\t\tif(gantt.getTaskType(task.type) == gantt.config.types.milestone){\n\t\t\tvar milestoneWidth = getVisibleMilestoneWidth();\n\n\t\t\tres.x += (!cfg.rtl ? -1 : 1)*(milestoneWidth / 2);\n\t\t\tres.xEnd += (!cfg.rtl ? 1 : -1)*(milestoneWidth / 2);\n\n\t\t\t//pos.x -= milestoneWidth / 2;\n\t\t\t//pos.xEnd += milestoneWidth / 2;\n\t\t\tres.width = pos.xEnd - pos.x;\n\t\t}\n\n\n\t\treturn res;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function(obj,e) {\n\t\tvar dd = dnd.config;\n\t\tvar pos = dnd.getPosition(e);\n\t\tadvanceMarker(dd.marker, pos);\n\t\tvar landing = !!domHelpers.locateClassName(e, link_landing_hover_area);\n\n\t\tvar prevTarget = _link_target_task;\n\t\tvar prevLanding = _link_landing;\n\t\tvar prevToStart = _link_target_task_start;\n\n\t\tvar targ = gantt.locate(e),\n\t\t\tto_start = true;\n\t\t\n\t\t// can drag and drop link to another gantt on the page, such links are not supported\n\t\tvar sameGantt = domHelpers.isChildOf(e.target || e.srcElement, gantt.$root);\n\t\tif(!sameGantt){\n\t\t\tlanding = false;\n\t\t\ttarg = null;\n\t\t}\n\n\t\tif(landing){\n\t\t\t//refreshTask\n\t\t\tto_start = !domHelpers.locateClassName(e, end_marker);\n\t\t\tlanding = !!targ;\n\t\t}\n\n\t\t_link_target_task = targ;\n\t\t_link_landing = landing;\n\t\t_link_target_task_start = to_start;\n\n\t\tif(landing){\n\t\t\tvar t = gantt.getTask(targ);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar node = domHelpers.locateClassName(e, link_landing_hover_area);\n\t\t\tvar shift = 0;\n\t\t\tif(node){\n\t\t\t\tshift = Math.floor(node.offsetWidth  / 2);\n\t\t\t}\n\n\t\t\tthis._dir_end = getLinePos(t, !!_link_target_task_start,shift, config);\n\t\t}else{\n\t\t\tthis._dir_end = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t}\n\n\t\tvar targetChanged = !(prevLanding == landing && prevTarget == targ && prevToStart == to_start);\n\t\tif(targetChanged){\n\t\t\tif(prevTarget)\n\t\t\t\tgantt.refreshTask(prevTarget, false);\n\t\t\tif(targ)\n\t\t\t\tgantt.refreshTask(targ, false);\n\t\t}\n\n\t\tif(targetChanged){\n\t\t\tupdateMarkedHtml(dd.marker);\n\t\t}\n\n\t\tshowDirectingLine(this._dir_start.x, this._dir_start.y, this._dir_end.x, this._dir_end.y);\n\n\t\treturn true;\n\t}, this));\n\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function() {\n\t\tvar drag = getDndState();\n\n\t\tif(drag.link_source_id && drag.link_target_id && drag.link_source_id != drag.link_target_id){\n\t\t\tvar type = gantt._get_link_type(drag.link_from_start, drag.link_to_start);\n\n\t\t\tvar link = {source : drag.link_source_id, target: drag.link_target_id, type:type};\n\t\t\tif(link.type && gantt.isLinkAllowed(link)) {\n\t\t\t\tif(gantt.callEvent(\"onLinkCreated\", [link])){\n\t\t\t\t\tgantt.addLink(link);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tresetDndState();\n\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\telse {\n\t\t\tif (drag.link_source_id)\n\t\t\t\tgantt.refreshTask(drag.link_source_id, false);\n\t\t\tif (drag.link_target_id)\n\t\t\t\tgantt.refreshTask(drag.link_target_id, false);\n\t\t}\n\t\tremoveDirectionLine();\n\t}, this));\n\n\tfunction updateMarkedHtml(marker){\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_tooltip\"];\n\t\tif(link.link_source_id && link.link_target_id){\n\t\t\tif(gantt.isLinkAllowed(link.link_source_id, link.link_target_id, link.link_from_start, link.link_to_start)){\n\t\t\t\tcss.push(\"gantt_allowed_link\");\n\t\t\t}else{\n\t\t\t\tcss.push(\"gantt_invalid_link\");\n\t\t\t}\n\t\t}\n\n\t\tvar className = gantt.templates.drag_link_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start);\n\t\tif(className)\n\t\t\tcss.push(className);\n\n\t\tvar html = \"<div class='\"+className+ \"'>\" +\n\t\t\tgantt.templates.drag_link(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start) +\n\t\t\t\"</div>\";\n\t\tmarker.innerHTML = html;\n\t}\n\n\tfunction advanceMarker(marker, pos){\n\t\tmarker.style.left = pos.x + 5 + \"px\";\n\t\tmarker.style.top = pos.y + 5 + \"px\";\n\t}\n\n\tfunction resetDndState(){\n\t\t_link_source_task =\n\t\t\t_link_source_task_start =\n\t\t\t\t_link_target_task = null;\n\t\t_link_target_task_start = true;\n\t}\n\tfunction showDirectingLine(s_x, s_y, e_x, e_y){\n\t\tvar div = getDirectionLine();\n\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_direction\"];\n\t\tif(gantt.templates.link_direction_class){\n\t\t\tcss.push(gantt.templates.link_direction_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start));\n\t\t}\n\n\t\tvar dist =Math.sqrt( (Math.pow(e_x - s_x, 2)) + (Math.pow(e_y - s_y, 2)) );\n\t\tdist = Math.max(0, dist - 3);\n\t\tif(!dist)\n\t\t\treturn;\n\n\t\tdiv.className = css.join(\" \");\n\t\tvar tan = (e_y - s_y)/(e_x - s_x),\n\t\t\tangle = Math.atan(tan);\n\n\t\tif(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 2){\n\t\t\tangle += Math.PI;\n\t\t}else if(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 3){\n\t\t\tangle -= Math.PI;\n\t\t}\n\n\n\n\t\tvar sin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\ttop = Math.round(s_y),\n\t\t\tleft = Math.round(s_x);\n\n\n\t\tvar style = [\n\t\t\t\"-webkit-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-moz-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-ms-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-o-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"width:\" + Math.round(dist) + \"px\"\n\t\t];\n\n\t\tif(window.navigator.userAgent.indexOf(\"MSIE 8.0\") != -1){\n\t\t\t//ms-filter breaks styles in ie9, so add it only for 8th\n\t\t\tstyle.push(\"-ms-filter: \\\"\" + ieTransform(sin, cos) + \"\\\"\");\n\n\t\t\tvar shiftLeft = Math.abs(Math.round(s_x - e_x)),\n\t\t\t\tshiftTop = Math.abs(Math.round(e_y - s_y));\n\t\t\t//fix rotation axis\n\t\t\tswitch(coordinateCircleQuarter(s_x, e_x, s_y, e_y)){\n\t\t\t\tcase 1:\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\tstyle.push(\"top:\" +  top + \"px\");\n\t\tstyle.push(\"left:\" +  left + \"px\");\n\n\t\tdiv.style.cssText = style.join(\";\");\n\t}\n\n\tfunction ieTransform(sin, cos){\n\t\treturn \"progid:DXImageTransform.Microsoft.Matrix(\"+\n\t\t\t\"M11 = \"+cos+\",\"+\n\t\t\t\"M12 = -\"+sin+\",\"+\n\t\t\t\"M21 = \"+sin+\",\"+\n\t\t\t\"M22 = \"+cos+\",\"+\n\t\t\t\"SizingMethod = 'auto expand'\"+\n\t\t\")\";\n\t}\n\tfunction coordinateCircleQuarter(sX, eX, sY, eY){\n\t\tif(eX >= sX){\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 1;\n\t\t\t}else{\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t}else{\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 2;\n\t\t\t}else{\n\t\t\t\treturn 3;\n\t\t\t}\n\t\t}\n\n\t}\n\tfunction getDirectionLine(){\n\t\tif(!dnd._direction || !dnd._direction.parentNode){\n\t\t\tdnd._direction = document.createElement(\"div\");\n\t\t\ttimeline.$task_links.appendChild(dnd._direction);\n\t\t}\n\t\treturn dnd._direction;\n\t}\n\tfunction removeDirectionLine(){\n\t\tif(dnd._direction){\n\t\t\tif (dnd._direction.parentNode)\t//the event line can be detached because of data refresh\n\t\t\t\tdnd._direction.parentNode.removeChild(dnd._direction);\n\n\t\t\tdnd._direction = null;\n\t\t}\n\t}\n\tgantt.attachEvent(\"onGanttRender\", gantt.bind(function() {\n\t\tif(dnd._direction){\n\t\t\tshowDirectingLine(this._dir_start.x, this._dir_start.y, this._dir_end.x, this._dir_end.y);\n\t\t}\n\t}, this));\n};\n\nmodule.exports = {\n\tcreateLinkDND: function(){\n\t\treturn {\n\t\t\tinit: initLinksDND\n\t\t};\n\t}\n};","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\");\nvar timeout = require(\"../../../utils/timeout\");\n\nfunction createTaskDND(timeline, gantt){\n\tvar services = gantt.$services;\n\treturn {\n\t\tdrag: null,\n\t\tdragMultiple: {},\n\t\t_events: {\n\t\t\tbefore_start: {},\n\t\t\tbefore_finish: {},\n\t\t\tafter_finish: {}\n\t\t},\n\t\t_handlers: {},\n\t\tinit: function () {\n\t\t\tthis._domEvents = gantt._createDomEventScope();\n\t\t\tthis.clear_drag_state();\n\t\t\tvar drag = gantt.config.drag_mode;\n\t\t\tthis.set_actions();\n\n\t\t\tvar stateService = services.getService(\"state\");\n\t\t\tstateService.registerProvider(\"tasksDnd\", utils.bind(function(){\n\t\t\t\treturn {\n\t\t\t\t\tdrag_id : this.drag ? this.drag.id : undefined,\n\t\t\t\t\tdrag_mode : this.drag ? this.drag.mode : undefined,\n\t\t\t\t\tdrag_from_start : this.drag ? this.drag.left : undefined\n\t\t\t\t};\n\t\t\t}, this));\n\n\t\t\tvar evs = {\n\t\t\t\t\"before_start\": \"onBeforeTaskDrag\",\n\t\t\t\t\"before_finish\": \"onBeforeTaskChanged\",\n\t\t\t\t\"after_finish\": \"onAfterTaskDrag\"\n\t\t\t};\n\t\t\t//for now, all drag operations will trigger the same events\n\t\t\tfor (var stage in this._events) {\n\t\t\t\tfor (var mode in drag) {\n\t\t\t\t\tthis._events[stage][mode] = evs[stage];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._handlers[drag.move] = this._move;\n\t\t\tthis._handlers[drag.resize] = this._resize;\n\t\t\tthis._handlers[drag.progress] = this._resize_progress;\n\t\t},\n\t\tset_actions: function () {\n\t\t\tvar data = timeline.$task_data;\n\t\t\tthis._domEvents.attach(data, \"mousemove\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_move(e || event);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(data, \"mousedown\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_down(e || event);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(gantt.$root, \"mouseup\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_up(e || event);\n\t\t\t}, this));\n\t\t},\n\n\t\tclear_drag_state: function () {\n\t\t\tthis.drag = {\n\t\t\t\tid: null,\n\t\t\t\tmode: null,\n\t\t\t\tpos: null,\n\t\t\t\tstart_x: null,\n\t\t\t\tstart_y: null,\n\t\t\t\tobj: null,\n\t\t\t\tleft: null\n\t\t\t};\n\t\t\tthis.dragMultiple = {};\n\t\t},\n\t\t_resize: function (ev, shift, drag) {\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\tif (drag.left) {\n\t\t\t\tev.start_date = gantt.dateFromPos(coords_x.start + shift);\n\t\t\t\tif (!ev.start_date) {\n\t\t\t\t\tev.start_date = new Date(gantt.getState().min_date);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tev.end_date = gantt.dateFromPos(coords_x.end + shift);\n\t\t\t\tif (!ev.end_date) {\n\t\t\t\t\tev.end_date = new Date(gantt.getState().max_date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ev.end_date - ev.start_date < cfg.min_duration) {\n\t\t\t\tif (drag.left)\n\t\t\t\t\tev.start_date = gantt.calculateEndDate({start_date: ev.end_date, duration: -1, task: ev});\n\t\t\t\telse\n\t\t\t\t\tev.end_date = gantt.calculateEndDate({start_date: ev.start_date, duration: 1, task: ev});\n\t\t\t}\n\t\t\tgantt._init_task_timing(ev);\n\t\t},\n\t\t_resize_progress: function (ev, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar diffValue = !config.rtl ? (drag.pos.x - coords_x.start) : (coords_x.start - drag.pos.x);\n\n\t\t\tvar diff = Math.max(0, diffValue);\n\t\t\tev.progress = Math.min(1, diff / Math.abs(coords_x.end - coords_x.start));\n\t\t},\n\n\t\t_find_max_shift: function(dragItems, shift){\n\t\t\tvar correctShift;\n\t\t\tfor(var i in dragItems){\n\t\t\t\tvar drag = dragItems[i];\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\n\t\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\t\tvar minX = gantt.posFromDate( new Date(gantt.getState().min_date)),\n\t\t\t\t\tmaxX = gantt.posFromDate( new Date(gantt.getState().max_date));\n\n\t\t\t\tif(coords_x.end + shift > maxX){\n\t\t\t\t\tvar maxShift = maxX - coords_x.end;\n\t\t\t\t\tif(maxShift < correctShift || correctShift === undefined){\n\t\t\t\t\t\tcorrectShift = maxShift;\n\t\t\t\t\t}\n\t\t\t\t}else if(coords_x.start + shift < minX){\n\t\t\t\t\tvar minShift = minX - coords_x.start;\n\t\t\t\t\tif(minShift < correctShift || correctShift === undefined){\n\t\t\t\t\t\tcorrectShift = minShift;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn correctShift;\n\t\t},\n\t\t_move: function (ev, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\tvar new_start = gantt.dateFromPos(coords_x.start + shift),\n\t\t\t\tnew_end = gantt.dateFromPos(coords_x.end + shift);\n\t\t\tif (!new_start) {\n\t\t\t\tev.start_date = new Date(gantt.getState().min_date);\n\t\t\t\tev.end_date = gantt.dateFromPos(gantt.posFromDate(ev.start_date) + (coords_x.end - coords_x.start));\n\t\t\t} else if (!new_end) {\n\t\t\t\tev.end_date = new Date(gantt.getState().max_date);\n\t\t\t\tev.start_date = gantt.dateFromPos(gantt.posFromDate(ev.end_date) - (coords_x.end - coords_x.start));\n\t\t\t} else {\n\t\t\t\tev.start_date = new_start;\n\t\t\t\tev.end_date = new_end;\n\t\t\t}\n\t\t},\n\t\t_drag_task_coords: function (t, drag) {\n\t\t\tvar start = drag.obj_s_x = drag.obj_s_x || gantt.posFromDate(t.start_date);\n\t\t\tvar end = drag.obj_e_x = drag.obj_e_x || gantt.posFromDate(t.end_date);\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: end\n\t\t\t};\n\t\t},\n\t\t_mouse_position_change: function (oldPos, newPos) {\n\t\t\tvar dx = oldPos.x - newPos.x,\n\t\t\t\tdy = oldPos.y - newPos.y;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t},\n\t\t_is_number: function (n) {\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t},\n\n\t\ton_mouse_move: function (e) {\n\t\t\tif (this.drag.start_drag) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\tvar sX = this.drag.start_drag.start_x,\n\t\t\t\t\tsY = this.drag.start_drag.start_y;\n\n\t\t\t\tif ((Date.now() - this.drag.timestamp > 50) ||\n\t\t\t\t\t(this._is_number(sX) && this._is_number(sY) && this._mouse_position_change({\n\t\t\t\t\t\tx: sX,\n\t\t\t\t\t\ty: sY\n\t\t\t\t\t}, pos) > 20)) {\n\t\t\t\t\tthis._start_dnd(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar drag = this.drag;\n\n\t\t\tif (drag.mode) {\n\t\t\t\tif (!timeout(this, 40))//limit update frequency\n\t\t\t\t\treturn;\n\n\t\t\t\tthis._update_on_move(e);\n\n\t\t\t}\n\t\t},\n\n\t\t_update_item_on_move: function(shift, id, mode, drag, e){\n\t\t\tvar ev = gantt.getTask(id);\n\t\t\tvar original = gantt.mixin({}, ev);\n\t\t\tvar copy = gantt.mixin({}, ev);\n\t\t\tthis._handlers[mode].apply(this, [copy, shift, drag]);\n\t\t\tgantt.mixin(ev, copy, true);\n\t\t\t//gantt._update_parents(drag.id, true);\n\t\t\tgantt.callEvent(\"onTaskDrag\", [ev.id, mode, copy, original, e]);\n\t\t\tgantt.mixin(ev, copy, true);\n\t\t\tgantt.refreshTask(id);\n\t\t},\n\n\t\t_update_on_move: function (e) {\n\t\t\tvar drag = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (drag.mode) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t\t\tif (drag.pos && drag.pos.x == pos.x)\n\t\t\t\t\treturn;\n\n\t\t\t\tdrag.pos = pos;\n\n\t\t\t\tvar curr_date = gantt.dateFromPos(pos.x);\n\t\t\t\tif (!curr_date || isNaN(curr_date.getTime()))\n\t\t\t\t\treturn;\n\n\n\t\t\t\tvar shift = pos.x - drag.start_x;\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\n\t\t\t\tif (this._handlers[drag.mode]) {\n\n\t\t\t\t\tif(gantt.isSummaryTask(ev) && gantt.config.drag_project && drag.mode == config.drag_mode.move){\n\n\t\t\t\t\t\tvar initialDrag = {};\n\t\t\t\t\t\tinitialDrag[drag.id] = utils.copy(drag);\n\t\t\t\t\t\tvar maxShift = this._find_max_shift(utils.mixin(initialDrag, this.dragMultiple), shift);\n\t\t\t\t\t\tif(maxShift !== undefined){\n\t\t\t\t\t\t\tshift = maxShift;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\t\t\t\t\t\tfor(var i in this.dragMultiple){\n\t\t\t\t\t\t\tvar childDrag =  this.dragMultiple[i];\n\t\t\t\t\t\t\tthis._update_item_on_move(shift, childDrag.id, childDrag.mode, childDrag, e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\t\t\t\t\t}\n\t\t\t\t\tgantt._update_parents(drag.id);\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\ton_mouse_down: function (e, src) {\n\t\t\t// on Mac we do not get onmouseup event when clicking right mouse button leaving us in dnd state\n\t\t\t// let's ignore right mouse button then\n\t\t\tif (e.button == 2 && e.button !== undefined)\n\t\t\t\treturn;\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar id = gantt.locate(e);\n\t\t\tvar task = null;\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\ttask = gantt.getTask(id);\n\t\t\t}\n\n\t\t\tif (gantt.isReadonly(task) || this.drag.mode) return;\n\n\t\t\tthis.clear_drag_state();\n\n\t\t\tsrc = src || (e.target || e.srcElement);\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tvar drag = this._get_drag_mode(className, src);\n\n\t\t\tif (!className || !drag) {\n\t\t\t\tif (src.parentNode)\n\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\t\t\t\telse\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!drag) {\n\t\t\t\tif (gantt.checkEvent(\"onMouseDown\") && gantt.callEvent(\"onMouseDown\", [className.split(\" \")[0]])) {\n\t\t\t\t\tif (src.parentNode)\n\t\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (drag.mode && drag.mode != config.drag_mode.ignore && config[\"drag_\" + drag.mode]) {\n\t\t\t\t\tid = gantt.locate(src);\n\t\t\t\t\ttask = gantt.copy(gantt.getTask(id) || {});\n\n\t\t\t\t\tif (gantt.isReadonly(task)) {\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((gantt.isSummaryTask(task) && !config.drag_project) && drag.mode != config.drag_mode.progress) {//only progress drag is allowed for tasks with flexible duration\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrag.id = id;\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\t\tdrag.start_x = pos.x;\n\t\t\t\t\tdrag.start_y = pos.y;\n\t\t\t\t\tdrag.obj = task;\n\t\t\t\t\tthis.drag.start_drag = drag;\n\t\t\t\t\tthis.drag.timestamp = Date.now();\n\n\t\t\t\t} else\n\t\t\t\t\tthis.clear_drag_state();\n\t\t\t}\n\t\t},\n\t\t_fix_dnd_scale_time: function (task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar unit = gantt.getScale().unit,\n\t\t\t\tstep = gantt.getScale().step;\n\t\t\tif (!config.round_dnd_dates) {\n\t\t\t\tunit = 'minute';\n\t\t\t\tstep = config.time_step;\n\t\t\t}\n\n\t\t\tfunction fixStart(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(task.start_date, undefined, task))\n\t\t\t\t\ttask.start_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\t\tduration: -1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction fixEnd(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(new Date(task.end_date - 1), undefined, task))\n\t\t\t\t\ttask.end_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\t\tduration: 1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\t\tfixStart(task);\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.roundDate({date: task.end_date, unit: unit, step: step});\n\t\t\t\t\tfixEnd(task);\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\tfixStart(task);\n\t\t\t\ttask.end_date = gantt.calculateEndDate(task);\n\t\t\t}\n\t\t},\n\t\t_fix_working_times: function (task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar drag = drag || {mode: config.drag_mode.move};\n\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.getClosestWorkTime({date: task.end_date, dir: 'past', task: task});\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\tgantt.correctTaskWorkTime(task);\n\t\t\t}\n\t\t},\n\n\t\t_finalize_mouse_up: function(taskId, config, drag, e){\n\t\t\tvar ev = gantt.getTask(taskId);\n\n\t\t\tif (config.work_time && config.correct_work_time) {\n\t\t\t\tthis._fix_working_times(ev, drag);\n\t\t\t}\n\n\t\t\tthis._fix_dnd_scale_time(ev, drag);\n\n\t\t\tif (!this._fireEvent(\"before_finish\", drag.mode, [taskId, drag.mode, gantt.copy(drag.obj), e])) {\n\t\t\t\t//drag.obj._dhx_changed = false;\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tif(taskId == drag.id){\n\t\t\t\t\tdrag.obj._dhx_changed = false;\n\t\t\t\t\tgantt.mixin(ev, drag.obj, true);\n\t\t\t\t}\n\n\n\t\t\t\tgantt.refreshTask(ev.id);\n\t\t\t} else {\n\t\t\t\tvar drag_id = taskId;\n\n\t\t\t\tgantt._init_task_timing(ev);\n\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tgantt.updateTask(ev.id);\n\t\t\t\tthis._fireEvent(\"after_finish\", drag.mode, [drag_id, drag.mode, e]);\n\t\t\t}\n\n\t\t},\n\n\t\ton_mouse_up: function (e) {\n\n\t\t\tvar drag = this.drag;\n\t\t\tif (drag.mode && drag.id) {\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\t//drop\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\t\t\t\tvar dragMultiple = this.dragMultiple;\n\n\t\t\t\tif(gantt.isSummaryTask(ev) && config.drag_project && drag.mode == config.drag_mode.move){\n\t\t\t\t\tfor(var i in dragMultiple){\n\t\t\t\t\t\tthis._finalize_mouse_up(dragMultiple[i].id, config, dragMultiple[i], e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._finalize_mouse_up(drag.id, config, drag, e);\n\t\t\t}\n\t\t\tthis.clear_drag_state();\n\t\t},\n\t\t_get_drag_mode: function (className, el) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar modes = config.drag_mode;\n\t\t\tvar classes = (className || \"\").split(\" \");\n\t\t\tvar classname = classes[0];\n\t\t\tvar drag = {mode: null, left: null};\n\t\t\tswitch (classname) {\n\t\t\t\tcase \"gantt_task_line\":\n\t\t\t\tcase \"gantt_task_content\":\n\t\t\t\t\tdrag.mode = modes.move;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_drag\":\n\t\t\t\t\tdrag.mode = modes.resize;\n\n\t\t\t\t\tvar dragProperty = el.getAttribute(\"data-bind-property\");\n\n\t\t\t\t\tif (dragProperty == \"start_date\") {\n\t\t\t\t\t\tdrag.left = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdrag.left = false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_progress_drag\":\n\t\t\t\t\tdrag.mode = modes.progress;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_link_control\":\n\t\t\t\tcase \"gantt_link_point\":\n\t\t\t\t\tdrag.mode = modes.ignore;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdrag = null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn drag;\n\n\t\t},\n\n\t\t_start_dnd: function (e) {\n\t\t\tvar drag = this.drag = this.drag.start_drag;\n\t\t\tdelete drag.start_drag;\n\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar id = drag.id;\n\t\t\tif (!cfg[\"drag_\" + drag.mode] || !gantt.callEvent(\"onBeforeDrag\", [id, drag.mode, e]) || !this._fireEvent(\"before_start\", drag.mode, [id, drag.mode, e])) {\n\t\t\t\tthis.clear_drag_state();\n\t\t\t} else {\n\t\t\t\tdelete drag.start_drag;\n\n\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\tif(gantt.isSummaryTask(task) && gantt.config.drag_project && drag.mode == cfg.drag_mode.move){\n\t\t\t\t\tgantt.eachTask(function(child){\n\t\t\t\t\t\tthis.dragMultiple[child.id] = gantt.mixin({\n\t\t\t\t\t\t\tid: child.id,\n\t\t\t\t\t\t\tobj: child\n\t\t\t\t\t\t}, this.drag);\n\t\t\t\t\t}, task.id, this);\n\t\t\t\t}\n\n\t\t\t\tgantt.callEvent(\"onTaskDragStart\", []);\n\t\t\t}\n\n\t\t},\n\t\t_fireEvent: function (stage, mode, params) {\n\t\t\tgantt.assert(this._events[stage], \"Invalid stage:{\" + stage + \"}\");\n\n\t\t\tvar trigger = this._events[stage][mode];\n\n\t\t\tgantt.assert(trigger, \"Unknown after drop mode:{\" + mode + \"}\");\n\t\t\tgantt.assert(params, \"Invalid event arguments\");\n\n\n\t\t\tif (!gantt.checkEvent(trigger))\n\t\t\t\treturn true;\n\n\t\t\treturn gantt.callEvent(trigger, params);\n\t\t},\n\n\t\tround_task_dates: function(task){\n\t\t\tvar drag_state = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (!drag_state) {\n\t\t\t\tdrag_state = {mode: config.drag_mode.move};\n\t\t\t}\n\t\t\tthis._fix_dnd_scale_time(task, drag_state);\n\t\t},\n\t\tdestructor: function(){\n\t\t\tthis._domEvents.detachAll();\n\t\t}\n\t};\n}\n\nfunction initTaskDND() {\n\tvar _tasks_dnd;\n\treturn {\n\t\textend: function(timeline){\n\t\t\ttimeline.roundTaskDates = function (task) {\n\t\t\t\t_tasks_dnd.round_task_dates(task);\n\t\t\t};\n\n\t\t},\n\t\tinit: function(timeline, gantt){\n\t\t\t_tasks_dnd = createTaskDND(timeline, gantt);\n\t\t\t// TODO: entry point for touch handlers, move touch to timeline\n\t\t\ttimeline._tasks_dnd = _tasks_dnd;\n\t\t\treturn _tasks_dnd.init(gantt);\n\t\t},\n\t\tdestructor: function () {\n\t\t\tif (_tasks_dnd) {\n\t\t\t\t_tasks_dnd.destructor();\n\t\t\t\t_tasks_dnd = null;\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tcreateTaskDND: initTaskDND\n};\n","var utils = require(\"../../../utils/utils\"),\n\ttaskDnD = require(\"./tasks_dnd\"),\n\tlinkDnD = require(\"./links_dnd\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\tvar services = gantt.$services;\n\t\treturn {\n\t\t\tonCreated: function (timeline) {\n\t\t\t\tvar config = timeline.$config;\n\t\t\t\tconfig.bind = utils.defined(config.bind) ? config.bind : \"task\";\n\t\t\t\tconfig.bindLinks = utils.defined(config.bindLinks) ? config.bindLinks : \"link\";\n\n\t\t\t\ttimeline._linksDnD = linkDnD.createLinkDND();\n\t\t\t\ttimeline._tasksDnD = taskDnD.createTaskDND();\n\t\t\t\ttimeline._tasksDnD.extend(timeline);\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (timeline) {\n\t\t\t\tthis._attachDomEvents(gantt);\n\n\t\t\t\tthis._attachStateProvider(gantt, timeline);\n\n\t\t\t\ttimeline._tasksDnD.init(timeline, gantt);\n\t\t\t\ttimeline._linksDnD.init(timeline, gantt);\n\n\t\t\t\tif(timeline.$config.id == \"timeline\"){\n\t\t\t\t\tthis.extendDom(timeline);\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\t\t\t\tthis._clearDomEvents(gantt);\n\t\t\t\tthis._clearStateProvider(gantt);\n\t\t\t\tif (timeline._tasksDnD) {\n\t\t\t\t\ttimeline._tasksDnD.destructor();\n\t\t\t\t}\n\t\t\t},\n\t\t\textendDom: function(timeline){\n\t\t\t\tgantt.$task = timeline.$task;\n\t\t\t\tgantt.$task_scale = timeline.$task_scale;\n\t\t\t\tgantt.$task_data = timeline.$task_data;\n\t\t\t\tgantt.$task_bg = timeline.$task_bg;\n\t\t\t\tgantt.$task_links = timeline.$task_links;\n\t\t\t\tgantt.$task_bars = timeline.$task_bars;\n\t\t\t},\n\n\t\t\t_clearDomEvents: function(){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\t_attachDomEvents: function(gantt){\n\t\t\t\tfunction _delete_link_handler(id, e) {\n\t\t\t\t\tif (id && this.callEvent(\"onLinkDblClick\", [id, e])) {\n\n\t\t\t\t\t\tvar link = this.getLink(id);\n\t\t\t\t\t\tif (this.isReadonly(link)) return;\n\n\t\t\t\t\t\tvar title = \"\";\n\t\t\t\t\t\tvar question = this.locale.labels.link + \" \" + this.templates.link_description(this.getLink(id)) + \" \" + this.locale.labels.confirm_link_deleting;\n\n\t\t\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\t\t\tgantt._dhtmlx_confirm(question, title, function () {\n\t\t\t\t\t\t\t\tgantt.deleteLink(id);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, (this.config.touch ? 300 : 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_task_link\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar id = this.locate(e, this.config.link_attribute);\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\tthis.callEvent(\"onLinkClick\", [id, e]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_scale_cell\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\t\t\t\t\tvar date = gantt.dateFromPos(pos.x);\n\t\t\t\t\tvar coll = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\t\t\tvar coll_date = gantt.getScale().trace_x[coll];\n\n\t\t\t\t\tgantt.callEvent(\"onScaleClick\", [e, coll_date]);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_task_link\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e, gantt.config.link_attribute);\n\t\t\t\t\t_delete_link_handler.call(this, id, e);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_link_point\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e),\n\t\t\t\t\t\ttask = this.getTask(id);\n\n\t\t\t\t\tvar link = null;\n\t\t\t\t\tif (trg.parentNode && domHelpers.getClassName(trg.parentNode)) {\n\t\t\t\t\t\tif (domHelpers.getClassName(trg.parentNode).indexOf(\"_left\") > -1) {\n\t\t\t\t\t\t\tlink = task.$target[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink = task.$source[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (link)\n\t\t\t\t\t\t_delete_link_handler.call(this, link, e);\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), this.$task);\n\t\t\t},\n\n\t\t\t_attachStateProvider: function(gantt, timeline){\n\t\t\t\tvar self = timeline;\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.registerProvider(\"tasksTimeline\", function(){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tscale_unit: self._tasks ? self._tasks.unit : undefined,\n\t\t\t\t\t\tscale_step:  self._tasks ? self._tasks.step  : undefined\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_clearStateProvider: function(){\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.unregisterProvider(\"tasksTimeline\");\n\t\t\t}\n\t\t};\n\t};\n\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../../../../utils/dom_helpers\");\n\n/**\n * methods for highlighting current drag and drop position\n */\n\nfunction highlightPosition(target, root, grid){\n\tvar markerPos = getTaskMarkerPosition(target, grid);\n\t// setting position of row\n\troot.marker.style.left = markerPos.x + 9 + \"px\";\n\troot.marker.style.top = markerPos.y + \"px\";\n\tvar markerLine = root.markerLine;\n\tif(!markerLine){\n\t\tmarkerLine = document.createElement(\"div\");\n\t\tmarkerLine.className = \"gantt_drag_marker gantt_grid_dnd_marker\";\n\t\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\t\tmarkerLine.style.pointerEvents = \"none\";\n\t\tdocument.body.appendChild(markerLine);\n\t\troot.markerLine = markerLine;\n\t}\n\tif(target.child){\n\t\thighlightFolder(target, markerLine, grid);\n\t}else{\n\t\thighlightRow(target, markerLine, grid);\n\t}\n}\n\nfunction removeLineHighlight(root){\n\tif(root.markerLine && root.markerLine.parentNode){\n\t\troot.markerLine.parentNode.removeChild(root.markerLine);\n\t}\n\troot.markerLine = null;\n}\n\nfunction highlightRow(target, markerLine, grid){\n\tvar linePos = getLineMarkerPosition(target, grid);\n\n\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\tmarkerLine.style.left = linePos.x + \"px\";\n\tmarkerLine.style.height = \"4px\";\n\n\tmarkerLine.style.top = (linePos.y - 2) + \"px\";\n\tmarkerLine.style.width = linePos.width + \"px\";\n\n\treturn markerLine;\n}\nfunction highlightFolder(target, markerFolder, grid){\n\tvar id = target.targetParent;\n\tvar pos = gridToPageCoordinates({x: 0, y: grid.getItemTop(id)}, grid);\n\n\tmarkerFolder.innerHTML = \"<div class='gantt_grid_dnd_marker_folder'></div>\";\n\tmarkerFolder.style.width = grid.$grid_data.offsetWidth + \"px\";\n\tmarkerFolder.style.top = pos.y + \"px\";\n\tmarkerFolder.style.left = pos.x  + \"px\";\n\tmarkerFolder.style.height = grid.getItemHeight(id) + \"px\";\n\treturn markerFolder;\n}\n\nfunction getLineMarkerPosition(target, grid){\n\tvar store = grid.$config.rowStore;\n\tvar pos = {x:0, y:0};\n\tvar indentNode = grid.$grid_data.querySelector(\".gantt_tree_indent\");\n\tvar indent = 15;\n\tvar level = 0;\n\tif(indentNode){\n\t\tindent = indentNode.offsetWidth;\n\t}\n\tvar iconWidth = 40;\n\tif(target.targetId !== store.$getRootId()){\n\t\tvar itemTop = grid.getItemTop(target.targetId);\n\t\tvar itemHeight = grid.getItemHeight(target.targetId);\n\t\tlevel = store.exists(target.targetId) ? store.calculateItemLevel(store.getItem(target.targetId)) : 0;\n\n\t\tif(target.prevSibling){\n\t\t\tpos.y = itemTop;\n\t\t}else if(target.nextSibling){\n\t\t\tvar childCount = 0;\n\t\t\tstore.eachItem(function(child){\n\t\t\t\tif(store.getIndexById(child.id) !== -1)\n\t\t\t\t\tchildCount++;\n\t\t\t}, target.targetId);\n\n\t\t\tpos.y = itemTop + itemHeight + childCount*itemHeight;\n\t\t}else {\n\t\t\tpos.y = itemTop + itemHeight;\n\t\t\tlevel += 1;\n\t\t}\n\t}\n\tpos.x = iconWidth + level * indent;\n\tpos.width = Math.max(grid.$grid_data.offsetWidth - pos.x, 0);\n\treturn gridToPageCoordinates(pos, grid);\n}\n\nfunction gridToPageCoordinates(pos, grid){\n\tvar gridPos = domHelpers.getNodePosition(grid.$grid_data);\n\tpos.x += gridPos.x - grid.$grid.scrollLeft;\n\tpos.y += gridPos.y - grid.$grid_data.scrollTop;\n\treturn pos;\n}\n\nfunction getTaskMarkerPosition(e, grid) {\n\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\tvar ePos = domHelpers.getRelativeEventPosition(e, grid.$grid_data);\n\tvar store = grid.$config.rowStore;\n\t// row offset\n\tvar x = pos.x;\n\tvar y = ePos.y - 10;\n\n\tvar config = grid.$getConfig();\n\t// prevent moving row out of grid_data container\n\tif (y < pos.y) y = pos.y;\n\tvar gridHeight = store.countVisible() * config.row_height;\n\tif (y > pos.y + gridHeight - config.row_height) y = pos.y + gridHeight - config.row_height;\n\n\tpos.x = x;\n\tpos.y = y;\n\treturn pos;\n}\n\nmodule.exports = {\n\tremoveLineHighlight: removeLineHighlight,\n\thighlightPosition: highlightPosition\n};\n","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = true\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nmodule.exports = function getMultiLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store){\n\tvar result;\n\n\tif(targetTaskId !== store.$getRootId()){\n\t\tif(relTargetPos < 0.25){\n\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else if(relTargetPos > 0.60 && !(store.hasChild(targetTaskId) && store.getItem(targetTaskId).$open)){\n\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else {\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, targetTaskId, store);\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tif(store.hasChild(rootId) && eventTop >= 0){\n\t\t\tresult = dropTarget.lastChildTarget(dndTaskId, rootId, store);\n\t\t}else{\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, rootId, store);\n\t\t}\n\t}\n\n\treturn result;\n};","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = false\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nfunction getLast(store){\n\tvar current = store.getNext();\n\twhile(store.exists(current)){\n\n\t\tvar next = store.getNext(current);\n\t\tif(!store.exists(next)){\n\t\t\treturn current;\n\t\t}else{\n\t\t\tcurrent = next;\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findClosesTarget(dndTaskId, taskId, allowedLevel, store, up){\n\tvar prev = taskId;\n\twhile(store.exists(prev)){\n\t\tvar targetLevel = store.calculateItemLevel(store.getItem(prev));\n\t\tif((targetLevel === allowedLevel || targetLevel === (allowedLevel - 1)) && store.getBranchIndex(prev) > -1){\n\t\t\tbreak;\n\t\t}else {\n\t\t\tprev = up ? store.getPrev(prev) : store.getNext(prev);\n\t\t}\n\t}\n\n\tif(store.exists(prev)){\n\t\tif(store.calculateItemLevel(store.getItem(prev)) === allowedLevel){\n\t\t\treturn up ? dropTarget.nextSiblingTarget(dndTaskId, prev, store) : dropTarget.prevSiblingTarget(dndTaskId, prev, store);\n\t\t}else{\n\t\t\treturn dropTarget.firstChildTarget(dndTaskId, prev, store);\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findTargetAbove(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, true);\n}\nfunction findTargetBelow(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, false);\n}\n\nmodule.exports = function getSameLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store, level){\n\tvar result;\n\tif(targetTaskId !== store.$getRootId()) {\n\t\tif (relTargetPos < 0.5) {\n\t\t\tif (store.calculateItemLevel(store.getItem(targetTaskId)) === level) {\n\t\t\t\tif(store.getPrevSibling(targetTaskId)){\n\t\t\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, store.getPrevSibling(targetTaskId), store);\n\t\t\t\t}else{\n\t\t\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t\t\tif (result) {\n\t\t\t\t\tresult = findTargetBelow(dndTaskId, targetTaskId, level, store);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (store.calculateItemLevel(store.getItem(targetTaskId)) === level) {\n\t\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t} else {\n\t\t\t\tresult = findTargetBelow(dndTaskId, targetTaskId, level, store);\n\t\t\t\tif (result) {\n\t\t\t\t\tresult = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tvar rootLevel = store.getChildren(rootId);\n\t\tresult = dropTarget.createDropTargetObject();\n\t\tif(rootLevel.length && eventTop >= 0){\n\t\t\tresult = findTargetAbove(dndTaskId, getLast(store), level, store);\n\t\t}else{\n\t\t\tresult = findTargetBelow(dndTaskId, rootId, level, store);\n\t\t}\n\t}\n\n\treturn result;\n};\n","var domHelpers = require(\"../../../utils/dom_helpers\");\nvar dropTarget = require(\"./tasks_grid_dnd_marker_helpers/drop_target\");\nvar getLockedLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/locked_level\");\nvar getMultiLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/multi_level\");\nvar higlighter = require(\"./tasks_grid_dnd_marker_helpers/highlight\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\t\tif (domHelpers.closest(e.target, \".gantt_grid_editor_placeholder\")){\n\t\t\treturn false;\n\t\t}\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\t\tvar datastore = grid.$config.rowStore;\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\tdnd.config.marker.style.opacity = 0.4;\n\t\t\telement.style.position = \"static\";\n\t\t\telement.style.pointerEvents = \"none\";\n\t\t}\n\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = grid.$config.rowStore;\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.level = store.calculateItemLevel(task);\n\t\tdnd.config.drop_target = dropTarget.createDropTargetObject({\n\t\t\ttargetParent: store.getParent(task.id),\n\t\t\ttargetIndex: store.getBranchIndex(task.id),\n\t\t\ttargetId: task.id,\n\t\t\tnextSibling: true\n\t\t});\n\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tfunction getTargetTaskId(e){\n\t\tvar y = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\t\tvar store = grid.$config.rowStore;\n\n\t\ty = y || 0;\n\n\t\tif(y < 0){\n\t\t\treturn store.$getRootId();\n\t\t}\n\n\t\tvar index = Math.floor(y / grid.getItemHeight());\n\n\t\tif (index > store.countVisible() - 1)\n\t\t\treturn store.$getRootId();\n\n\t\treturn store.getIdByIndex(index);\n\t}\n\n\tfunction getDropPosition(e){\n\t\tvar targetTaskId = getTargetTaskId(e);\n\t\tvar relTargetPos = null;\n\t\tvar store = grid.$config.rowStore;\n\t\tvar config = grid.$getConfig();\n\t\tvar lockLevel = !config.order_branch_free;\n\n\t\tvar eventTop = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\n\t\tif(targetTaskId !== store.$getRootId()) {\n\t\t\tvar rowTop = grid.getItemTop(targetTaskId);\n\t\t\tvar rowHeight = grid.getItemHeight();\n\t\t\trelTargetPos = (eventTop - rowTop) / rowHeight;\n\t\t}\n\n\t\tvar result;\n\t\tif(!lockLevel){\n\t\t\tresult = getMultiLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store);\n\t\t}else{\n\t\t\tresult = getLockedLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store, dnd.config.level);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar target = getDropPosition(e);\n\n\t\tif(!target ||\n\t\t\tgantt.callEvent(\"onBeforeRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]) === false){\n\t\t\t\ttarget = dropTarget.createDropTargetObject(dnd.config.drop_target);\n\t\t\t}\n\n\t\thiglighter.highlightPosition(target, dnd.config, grid);\n\t\tdnd.config.drop_target = target;\n\n\t\tthis.callEvent(\"onRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = grid.$config.rowStore;\n\t\tvar task = store.getItem(dnd.config.id);\n\n\t\thiglighter.removeLineHighlight(dnd.config);\n\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\t\tvar target = dnd.config.drop_target;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]) === false) {\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tstore.move(dnd.config.id, target.targetIndex, target.targetParent);\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\t}\n\t\tstore.refresh(task.id);\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tfunction getStore(){\n\t\treturn gantt.getDatastore(grid.$config.bind);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\n\t\tif (domHelpers.closest(e.target, \".gantt_grid_editor_placeholder\")){\n\t\t\treturn false;\n\t\t}\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar datastore = getStore();\n\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\telement.style.position = \"static\";\n\t\t}\n\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = getStore();\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.index = store.getBranchIndex(dnd.config.id);\n\t\tdnd.config.parent = task.parent;\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tdnd.lastTaskOfLevel = function (level) {\n\t\tvar last_item = null;\n\t\tvar store = getStore();\n\t\tvar tasks = store.getItems();\n\t\tfor (var i = 0, len = tasks.length; i < len; i++) {\n\t\t\tif (tasks[i].$level == level) {\n\t\t\t\tlast_item = tasks[i];\n\t\t\t}\n\t\t}\n\t\treturn last_item ? last_item.id : null;\n\t};\n\tdnd._getGridPos = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\t\tvar store = getStore();\n\t\t// row offset\n\t\tvar x = pos.x;\n\t\tvar y = e.pos.y - 10;\n\n\t\tvar config = grid.$getConfig();\n\t\t// prevent moving row out of grid_data container\n\t\tif (y < pos.y) y = pos.y;\n\t\tvar gridHeight = store.countVisible() * config.row_height;\n\t\tif (y > pos.y + gridHeight - config.row_height) y = pos.y + gridHeight - config.row_height;\n\n\t\tpos.x = x;\n\t\tpos.y = y;\n\t\treturn pos;\n\t}, gantt);\n\tdnd._getTargetY = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\n\t\tvar y = e.pageY - pos.y + (grid.$state.scrollTop || 0);\n\t\tif (y < 0)\n\t\t\ty = 0;\n\t\treturn y;\n\t}, gantt);\n\tdnd._getTaskByY = gantt.bind(function (y, dropIndex) {\n\n\t\tvar config = grid.$getConfig(),\n\t\t\tstore = getStore();\n\n\t\ty = y || 0;\n\n\t\tvar index = Math.floor(y / config.row_height);\n\t\tindex = dropIndex < index ? index - 1 : index;\n\n\t\tif (index > store.countVisible() - 1)\n\t\t\treturn null;\n\n\t\treturn store.getIdByIndex(index);\n\t}, gantt);\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar dd = dnd.config;\n\t\tvar pos = dnd._getGridPos(e);\n\n\t\tvar config = grid.$getConfig(),\n\t\t\tstore = getStore();\n\n\t\t// setting position of row\n\t\tdd.marker.style.left = pos.x + 10 + \"px\";\n\t\tdd.marker.style.top = pos.y + \"px\";\n\n\t\t// highlight row when mouseover\n\t\tvar item = store.getItem(dnd.config.id);\n\t\tvar targetY = dnd._getTargetY(e);\n\t\tvar el = dnd._getTaskByY(targetY, store.getIndexById(item.id));\n\n\t\tif (!store.exists(el)) {\n\t\t\tel = dnd.lastTaskOfLevel(config.order_branch_free ? item.$level : 0);\n\t\t\tif (el == dnd.config.id) {\n\t\t\t\tel = null;\n\t\t\t}\n\t\t}\n\n\t\tfunction allowedLevel(next, item) {\n\t\t\treturn (!(store.isChildOf(over.id, item.id)) && (next.$level == item.$level || config.order_branch_free));\n\t\t}\n\n\t\tif (store.exists(el)) {\n\t\t\tvar over = store.getItem(el);\n\n\t\t\tif (store.getIndexById(over.id) * config.row_height + config.row_height / 2 < targetY) {\n\t\t\t\t//hovering over bottom part of item, check can be drop to bottom\n\t\t\t\tvar index = store.getIndexById(over.id);\n\t\t\t\tvar nextId = store.getNext(over.id);//adds +1 when hovering over placeholder\n\t\t\t\tvar next = store.getItem(nextId);\n\t\t\t\tif (next) {\n\t\t\t\t\tif (next.id != item.id) {\n\t\t\t\t\t\tover = next; //there is a valid target\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (config.order_branch_free) {\n\t\t\t\t\t\t\tif (!(store.isChildOf(item.id, over.id) && store.getChildren(over.id).length == 1))\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstore.move(item.id, store.getBranchIndex(over.id) + 1, store.getParent(over.id));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//we at end of the list, check and drop at the end of list\n\t\t\t\t\tnextId = store.getIdByIndex(index);\n\t\t\t\t\tnext = store.getItem(nextId);\n\n\t\t\t\t\tif (allowedLevel(next, item) && next.id != item.id) {\n\t\t\t\t\t\tstore.move(item.id, -1, store.getParent(next.id));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (config.order_branch_free) {\n\t\t\t\tif (over.id != item.id && allowedLevel(over, item)) {\n\t\t\t\t\tif (!store.hasChild(over.id)) {\n\t\t\t\t\t\tover.$open = true;\n\t\t\t\t\t\tstore.move(item.id, -1, over.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (store.getIndexById(over.id) || config.row_height / 3 < targetY) return;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//if item is on different level, check the one before it\n\t\t\tvar index = store.getIndexById(over.id),\n\t\t\t\tprevId = store.getIdByIndex(index - 1);\n\n\t\t\tvar prev = store.getItem(prevId);\n\n\t\t\tvar shift = 1;\n\t\t\twhile ((!prev || prev.id == over.id) && index - shift >= 0) {\n\n\t\t\t\tprevId = store.getIdByIndex(index - shift);\n\t\t\t\tprev = store.getItem(prevId);\n\t\t\t\tshift++;\n\t\t\t}\n\n\t\t\tif (item.id == over.id) return;\n\t\t\t//replacing item under cursor\n\t\t\tif (allowedLevel(over, item) && item.id != over.id) {\n\t\t\t\tstore.move(item.id, 0, 0, over.id);\n\n\t\t\t} else if (over.$level == item.$level - 1 && !store.getChildren(over.id).length) {\n\t\t\t\tstore.move(item.id, 0, over.id);\n\n\t\t\t} else if (prev && (allowedLevel(prev, item)) && (item.id != prev.id)) {\n\t\t\t\tstore.move(item.id, -1, store.getParent(prev.id));\n\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = getStore();\n\t\tvar task = store.getItem(dnd.config.id);\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, dnd.config.parent, dnd.config.index]) === false) {\n\t\t\tstore.move(dnd.config.id, dnd.config.index, dnd.config.parent);\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, task.$drop_target]);\n\t\t}\n\n\t\tthis.refreshData();\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var utils = require(\"../../../utils/utils\");\nvar rowDnd = require(\"./tasks_grid_dnd\");\nvar rowDndMarker = require(\"./tasks_grid_dnd_marker\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\treturn {\n\t\t\tonCreated: function (grid) {\n\t\t\t\tgrid.$config = utils.mixin(grid.$config, {\n\t\t\t\t\tbind: \"task\"\n\t\t\t\t});\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendGantt(grid);\n\t\t\t\t\tgantt.ext.inlineEditors = gantt.ext._inlineEditors.createEditors(grid);\n\t\t\t\t\tgantt.ext.inlineEditors.init();\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (grid) {\n\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\tif (config.order_branch) {\n\t\t\t\t\tif(config.order_branch == \"marker\"){\n\t\t\t\t\t\trowDndMarker.init(grid.$gantt, grid);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trowDnd.init(grid.$gantt, grid);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.initEvents(grid, gantt);\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendDom(grid);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDestroyed: function (grid) {\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tgantt.ext.inlineEditors.destructor();\n\t\t\t\t}\n\t\t\t\tthis.clearEvents(grid, gantt);\n\t\t\t},\n\n\t\t\tinitEvents: function (grid, gantt) {\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_row\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (id !== null) {\n\t\t\t\t\t\tvar task = this.getTask(id);\n\t\t\t\t\t\tif (config.scroll_on_click && !gantt._is_icon_open_click(e))\n\t\t\t\t\t\t\tthis.showDate(task.start_date);\n\t\t\t\t\t\tgantt.callEvent(\"onTaskRowClick\", [id, trg]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_grid_head_cell\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar column = trg.getAttribute(\"data-column-id\");\n\n\t\t\t\t\tif (!gantt.callEvent(\"onGridHeaderClick\", [column, e]))\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar config = grid.$getConfig();\n\n\t\t\t\t\tif (column == \"add\") {\n\t\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\t\tmouseEvents.callHandler(\"click\", \"gantt_add\", grid.$grid, [e, config.root_id]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (config.sort) {\n\t\t\t\t\t\tvar sorting_method = column,\n\t\t\t\t\t\t\tconf;\n\n\t\t\t\t\t\tfor (var i = 0; i < config.columns.length; i++) {\n\t\t\t\t\t\t\tif (config.columns[i].name == column) {\n\t\t\t\t\t\t\t\tconf = config.columns[i];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (conf && conf.sort !== undefined && conf.sort !== true) {\n\t\t\t\t\t\t\tsorting_method = conf.sort;\n\n\t\t\t\t\t\t\tif (!sorting_method) { // column sort property 'false', no sorting\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar sort = (this._sort && this._sort.direction && this._sort.name == column) ? this._sort.direction : \"desc\";\n\t\t\t\t\t\t// invert sort direction\n\t\t\t\t\t\tsort = (sort == \"desc\") ? \"asc\" : \"desc\";\n\t\t\t\t\t\tthis._sort = {\n\t\t\t\t\t\t\tname: column,\n\t\t\t\t\t\t\tdirection: sort\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.sort(sorting_method, sort == \"desc\");\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_add\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (config.readonly) return;\n\n\t\t\t\t\tvar item = {};\n\t\t\t\t\tthis.createTask(item, id ? id : gantt.config.root_id);\n\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t},\n\n\t\t\tclearEvents: function(grid, gantt){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\textendDom: function(grid){\n\t\t\t\tgantt.$grid = grid.$grid;\n\t\t\t\tgantt.$grid_scale = grid.$grid_scale;\n\t\t\t\tgantt.$grid_data = grid.$grid_data;\n\t\t\t},\n\t\t\textendGantt: function(grid){\n\t\t\t\tgantt.getGridColumns = gantt.bind(grid.getGridColumns, grid);\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeStart\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeStart\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResize\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResize\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResizeEnd\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeEnd\", arguments);\n\t\t\t\t});\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeComplete\", function(columns, totalWidth){\n\t\t\t\t\tgantt.config.grid_width = totalWidth;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n})();\n\nmodule.exports = initializer;","var helpers = require(\"../../../utils/helpers\");\nvar smartRender = require(\"./smart_render_wrapper\");\nvar isRowInViewPort = require(\"./viewport/task_row_checker\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nfunction createGridLineRender(gantt){\n\n\tfunction isInViewPort(item, view, viewport){\n\t\tif(gantt.$keyboardNavigation && gantt.$keyboardNavigation.dispatcher.isTaskFocused(item.id)){\n\t\t\treturn true;\n\t\t}\n\n\t\treturn isRowInViewPort(item, view, viewport);\n\t}\n\n\tfunction _render_grid_item(item, view, viewport) {\n\t\tvar columns = view.getGridColumns();\n\t\tvar config = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\n\t\tvar store = view.$config.rowStore;\n\n\t\tif(config.rtl){\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\n\t\tvar cells = [];\n\t\tvar has_child;\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\t\t\tvar cell;\n\n\t\t\tvar value;\n\t\t\tvar textValue;\n\t\t\tif (col.name == \"add\") {\n\t\t\t\tvar aria = gantt._waiAria.gridAddButtonAttrString(col);\n\n\t\t\t\tvalue = \"<div \" + aria + \" class='gantt_add'></div>\";\n\t\t\t\ttextValue = \"\";\n\t\t\t} else {\n\t\t\t\tif (col.template)\n\t\t\t\t\tvalue = col.template(item);\n\t\t\t\telse\n\t\t\t\t\tvalue = item[col.name];\n\n\t\t\t\tif (helpers.isDate(value))\n\t\t\t\t\tvalue = templates.date_grid(value, item);\n\n\t\t\t\tif (value === null || value === undefined) {\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t}\n\n\t\t\t\ttextValue = value;\n\t\t\t\tvalue = \"<div class='gantt_tree_content'>\" + value + \"</div>\";\n\t\t\t}\n\t\t\tvar css = \"gantt_cell\" + (last ? \" gantt_last_cell\" : \"\");\n\n\t\t\tvar tree = [];\n\t\t\tif (col.tree) {\n\t\t\t\tfor (var j = 0; j < item.$level; j++)\n\t\t\t\t\ttree.push(templates.grid_indent(item));\n\n\t\t\t\thas_child = store.hasChild(item.id) && !(gantt.isSplitTask(item) && !gantt.config.open_split_tasks);\n\t\t\t\tif (has_child) {\n\t\t\t\t\ttree.push(templates.grid_open(item));\n\t\t\t\t\ttree.push(templates.grid_folder(item));\n\t\t\t\t} else {\n\t\t\t\t\ttree.push(templates.grid_blank(item));\n\t\t\t\t\ttree.push(templates.grid_file(item));\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar style = \"width:\" + (col.width - (last ? 1 : 0)) + \"px;\";\n\t\t\tif (this.defined(col.align))\n\t\t\t\tstyle += \"text-align:\" + col.align + \";\";\n\n\t\t\tvar aria = gantt._waiAria.gridCellAttrString(col, textValue);\n\n\t\t\ttree.push(value);\n\t\t\tif(config.rtl){\n\t\t\t\ttree = tree.reverse();\n\t\t\t}\n\t\t\tcell = \"<div class='\" + css + \"' data-column-index='\"+i+\"' data-column-name='\"+col.name+\"' style='\" + style + \"' \" + aria + \">\" + tree.join(\"\") + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tvar css = gantt.getGlobalTaskIndex(item.id) % 2 === 0 ? \"\" : \" odd\";\n\t\tcss += (item.$transparent) ? \" gantt_transparent\" : \"\";\n\n\t\tcss += (item.$dataprocessor_class ? \" \" + item.$dataprocessor_class : \"\");\n\n\t\tif (templates.grid_row_class) {\n\t\t\tvar css_template = templates.grid_row_class.call(gantt, item.start_date, item.end_date, item);\n\t\t\tif (css_template)\n\t\t\t\tcss += \" \" + css_template;\n\t\t}\n\n\t\tif(store.isSelected(item.id)) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\tvar el = document.createElement(\"div\");\n\t\tel.className = \"gantt_row\" + css + \" gantt_row_\" + gantt.getTaskType(item.type);\n\t\tvar height = view.getItemHeight();\n\t\tel.style.height = height + \"px\";\n\t\tel.style.lineHeight = height + \"px\";\n\n\t\tif(config.smart_rendering){\n\t\t\tel.style.position = \"absolute\";\n\t\t\tel.style.left = \"0px\";\n\t\t\tel.style.top = view.getItemTop(item.id) + \"px\";\n\t\t}\n\n\t\tif(view.$config.item_attribute){\n\t\t\tel.setAttribute(view.$config.item_attribute, item.id);\n\t\t}\n\n\t\tgantt._waiAria.taskRowAttr(item, el);\n\n\t\tel.innerHTML = cells.join(\"\");\n\t\treturn el;\n\t}\n\n\t//return _render_grid_item;\n\n\treturn smartRender(\n\t\t_render_grid_item,\n\t\tfunction(){},\n\t\tisInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createGridLineRender;\n\n","\n\nmodule.exports = function isLinkInViewPort(item, view, viewport){\n\tvar source = view.$gantt.getTask(item.source);\n\tvar target = view.$gantt.getTask(item.target);\n\n\t// check vertical visibility first since it's a lighter check\n\tvar sourceTop = view.getItemTop(source.id);\n\tvar sourceHeight = view.getItemHeight(source);\n\n\tvar targetTop = view.getItemTop(target.id);\n\tvar targetHeight = view.getItemHeight(target);\n\n\tif(viewport.y > sourceTop + sourceHeight && \n\t\tviewport.y > targetTop + targetHeight){\n\t\treturn false;\n\t}\n\n\tif(viewport.y_end < targetTop && \n\t\tviewport.y_end < targetHeight){\n\t\treturn false;\n\t}\n\n\tvar padding = 100;\n\tvar sourceLeft = view.posFromDate(source.start_date);\n\tvar sourceRight = view.posFromDate(source.end_date);\n\tvar targetLeft = view.posFromDate(target.start_date);\n\tvar targetRight = view.posFromDate(target.end_date);\n\t\n\tif(sourceLeft > sourceRight){\n\t\t// rtl\n\t\tvar tmp = sourceRight;\n\t\tsourceRight = sourceLeft;\n\t\tsourceLeft = tmp;\n\t}\n\tif(targetLeft > targetRight){\n\t\t// rtl\n\t\tvar tmp = targetRight;\n\t\ttargetRight = targetLeft;\n\t\ttargetLeft = tmp;\n\t}\n\tsourceLeft += -padding; // add buffer for custom elements\n\tsourceRight += padding;\n\ttargetLeft += -padding; // add buffer for custom elements\n\ttargetRight += padding;\n\n\tif(viewport.x > sourceRight && \n\t\tviewport.x > targetRight){\n\t\treturn false;\n\t}\n\n\tif(viewport.x_end < sourceLeft && \n\t\tviewport.x_end < targetLeft){\n\t\treturn false;\n\t}\n\treturn true;\n};\n","var smartRender = require(\"./smart_render_wrapper\");\nvar isLinkInViewPort = require(\"./viewport/link_checker\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\n\nfunction createLinkRender(gantt){\n\nfunction _render_link_element(link, view) {\n\tvar config = view.$getConfig();\n\n\tvar pt = path_builder.get_endpoint(link, view);\n\tvar dy = pt.e_y - pt.y;\n\tvar dx = pt.e_x - pt.x;\n\tif(!dx && !dy){\n\t\treturn null;\n\t}\n\n\n\tvar dots = path_builder.get_points(link, view);\n\tvar lines = drawer.get_lines(dots, view);\n\n\tvar div = document.createElement(\"div\");\n\n\tvar css = \"gantt_task_link\";\n\n\tif (link.color) {\n\t\tcss += \" gantt_link_inline_color\";\n\t}\n\tvar cssTemplate = gantt.templates.link_class ? gantt.templates.link_class(link) : \"\";\n\tif (cssTemplate) {\n\t\tcss += \" \" + cssTemplate;\n\t}\n\n\tif (config.highlight_critical_path && gantt.isCriticalLink) {\n\t\tif (gantt.isCriticalLink(link))\n\t\t\tcss += \" gantt_critical_link\";\n\t}\n\n\tdiv.className = css;\n\n\tif(view.$config.link_attribute){\n\t\tdiv.setAttribute(view.$config.link_attribute, link.id);\n\t}\n\n\tfor (var i = 0; i < lines.length; i++) {\n\t\tif (i == lines.length - 1) {\n\t\t\tlines[i].size -= config.link_arrow_size;\n\t\t}\n\t\tvar el = drawer.render_line(lines[i], lines[i + 1], view);\n\t\tif (link.color) {\n\t\t\tel.firstChild.style.backgroundColor = link.color;\n\t\t}\n\t\tdiv.appendChild(el);\n\t}\n\n\tvar direction = lines[lines.length - 1].direction;\n\tvar endpoint = _render_link_arrow(dots[dots.length - 1], direction, view);\n\tif (link.color) {\n\t\tendpoint.style.borderColor = link.color;\n\t}\n\tdiv.appendChild(endpoint);\n\n\tgantt._waiAria.linkAttr(link, div);\n\n\treturn div;\n}\n\nfunction _render_link_arrow(point, direction, view) {\n\tvar config = view.$getConfig();\n\tvar div = document.createElement(\"div\");\n\tvar top = point.y;\n\tvar left = point.x;\n\n\tvar size = config.link_arrow_size;\n\tvar line_width = config.row_height;\n\tvar className = \"gantt_link_arrow gantt_link_arrow_\" + direction;\n\tswitch (direction) {\n\t\tcase drawer.dirs.right:\n\t\t\ttop -= (size - line_width) / 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.left:\n\t\t\ttop -= (size - line_width) / 2;\n\t\t\tbreak;\n\t\tcase drawer.dirs.up:\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.down:\n\t\t\ttop += size * 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tdiv.style.cssText = [\n\t\t\"top:\" + top + \"px\",\n\t\t\"left:\" + left + 'px'].join(';');\n\tdiv.className = className;\n\n\treturn div;\n}\n\n\nvar drawer = {\n\tcurrent_pos: null,\n\tdirs: {\"left\": 'left', \"right\": 'right', \"up\": 'up', \"down\": 'down'},\n\tpath: [],\n\tclear: function () {\n\t\tthis.current_pos = null;\n\t\tthis.path = [];\n\t},\n\tpoint: function (pos) {\n\t\tthis.current_pos = gantt.copy(pos);\n\t},\n\tget_lines: function (dots) {\n\t\tthis.clear();\n\t\tthis.point(dots[0]);\n\t\tfor (var i = 1; i < dots.length; i++) {\n\t\t\tthis.line_to(dots[i]);\n\t\t}\n\t\treturn this.get_path();\n\t},\n\tline_to: function (pos) {\n\t\tvar next = gantt.copy(pos);\n\t\tvar prev = this.current_pos;\n\n\t\tvar line = this._get_line(prev, next);\n\t\tthis.path.push(line);\n\t\tthis.current_pos = next;\n\t},\n\tget_path: function () {\n\t\treturn this.path;\n\t},\n\tget_wrapper_sizes: function (v, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\ty = v.y + (config.row_height - wrapper_size) / 2;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\tleft: v.x - v.size - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y - v.size,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y /*- wrapper_size/2*/,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn res;\n\t},\n\tget_line_sizes: function (v, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\tline_size = config.link_line_width,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\tsize = v.size + line_size;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\theight: line_size,\n\t\t\t\t\twidth: size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\theight: size,\n\t\t\t\t\twidth: line_size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\n\t\treturn res;\n\t},\n\trender_line: function (v, end, view) {\n\t\tvar pos = this.get_wrapper_sizes(v, view);\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.style.cssText = [\n\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"height:\" + pos.height + \"px\",\n\t\t\t\"width:\" + pos.width + \"px\"\n\t\t].join(';');\n\t\twrapper.className = \"gantt_line_wrapper\";\n\n\t\tvar innerPos = this.get_line_sizes(v, view);\n\t\tvar inner = document.createElement(\"div\");\n\t\tinner.style.cssText = [\n\t\t\t\"height:\" + innerPos.height + \"px\",\n\t\t\t\"width:\" + innerPos.width + \"px\",\n\t\t\t\"margin-top:\" + innerPos.marginTop + \"px\",\n\t\t\t\"margin-left:\" + innerPos.marginLeft + \"px\"\n\t\t].join(\";\");\n\n\t\tinner.className = \"gantt_link_line_\" + v.direction;\n\t\twrapper.appendChild(inner);\n\n\t\treturn wrapper;\n\t},\n\t_get_line: function (from, to) {\n\t\tvar direction = this.get_direction(from, to);\n\t\tvar vect = {\n\t\t\tx: from.x,\n\t\t\ty: from.y,\n\t\t\tdirection: this.get_direction(from, to)\n\t\t};\n\t\tif (direction == this.dirs.left || direction == this.dirs.right) {\n\t\t\tvect.size = Math.abs(from.x - to.x);\n\t\t} else {\n\t\t\tvect.size = Math.abs(from.y - to.y);\n\t\t}\n\t\treturn vect;\n\t},\n\tget_direction: function (from, to) {\n\t\tvar direction = 0;\n\t\tif (to.x < from.x) {\n\t\t\tdirection = this.dirs.left;\n\t\t} else if (to.x > from.x) {\n\t\t\tdirection = this.dirs.right;\n\t\t} else if (to.y > from.y) {\n\t\t\tdirection = this.dirs.down;\n\t\t} else {\n\t\t\tdirection = this.dirs.up;\n\t\t}\n\t\treturn direction;\n\t}\n\n};\n\nvar path_builder = {\n\n\tpath: [],\n\tclear: function () {\n\t\tthis.path = [];\n\t},\n\tcurrent: function () {\n\t\treturn this.path[this.path.length - 1];\n\t},\n\tpoint: function (next) {\n\t\tif (!next)\n\t\t\treturn this.current();\n\n\t\tthis.path.push(gantt.copy(next));\n\t\treturn next;\n\t},\n\tpoint_to: function (direction, diff, point) {\n\t\tif (!point)\n\t\t\tpoint = gantt.copy(this.point());\n\t\telse\n\t\t\tpoint = {x: point.x, y: point.y};\n\t\tvar dir = drawer.dirs;\n\t\tswitch (direction) {\n\t\t\tcase (dir.left):\n\t\t\t\tpoint.x -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.right):\n\t\t\t\tpoint.x += diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.up):\n\t\t\t\tpoint.y -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.down):\n\t\t\t\tpoint.y += diff;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn this.point(point);\n\t},\n\tget_points: function (link, view) {\n\t\tvar pt = this.get_endpoint(link, view);\n\t\tvar xy = gantt.config;\n\n\t\tvar dy = pt.e_y - pt.y;\n\t\tvar dx = pt.e_x - pt.x;\n\n\t\tvar dir = drawer.dirs;\n\n\t\tthis.clear();\n\t\tthis.point({x: pt.x, y: pt.y});\n\n\t\tvar shiftX = 2 * xy.link_arrow_size;//just random size for first line\n\t\tvar lineType = this.get_line_type(link, view.$getConfig());\n\n\t\tvar forward = (pt.e_x > pt.x);\n\t\tif (lineType.from_start && lineType.to_start) {\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t}\n\t\t\tthis.point_to(dir.right, shiftX);\n\n\t\t} else if (!lineType.from_start && lineType.to_start) {\n\t\t\tforward = (pt.e_x > (pt.x + 2 * shiftX));\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tdx -= shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx -= 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\n\t\t\t\tthis.point_to(dir.down, sign * (xy.row_height / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (xy.row_height / 2)));\n\t\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\t}\n\n\t\t} else if (!lineType.from_start && !lineType.to_start) {\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t}\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t} else if (lineType.from_start && !lineType.to_start) {\n\n\t\t\tforward = (pt.e_x > (pt.x - 2 * shiftX));\n\t\t\tthis.point_to(dir.left, shiftX);\n\n\t\t\tif (!forward) {\n\t\t\t\tdx += shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx += 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\t\t\t\tthis.point_to(dir.down, sign * (xy.row_height / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (xy.row_height / 2)));\n\t\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.path;\n\t},\n\tget_line_type: function(link, config){\n\t\tvar types = config.links;\n\t\tvar from_start = false, to_start = false;\n\t\tif (link.type == types.start_to_start) {\n\t\t\tfrom_start = to_start = true;\n\t\t} else if (link.type == types.finish_to_finish) {\n\t\t\tfrom_start = to_start = false;\n\t\t} else if (link.type == types.finish_to_start) {\n\t\t\tfrom_start = false;\n\t\t\tto_start = true;\n\t\t} else if (link.type == types.start_to_finish) {\n\t\t\tfrom_start = true;\n\t\t\tto_start = false;\n\t\t} else {\n\t\t\tgantt.assert(false, \"Invalid link type\");\n\t\t}\n\n\t\tif(config.rtl){\n\t\t\tfrom_start = !from_start;\n\t\t\tto_start = !to_start;\n\t\t}\n\n\t\treturn {from_start: from_start, to_start: to_start};\n\t},\n\n\tget_endpoint: function (link, view) {\n\t\tvar config = view.$getConfig();\n\n\t\tvar lineType = this.get_line_type(link, config);\n\t\tvar from_start = lineType.from_start,\n\t\t\tto_start = lineType.to_start;\n\n\t\tvar source = gantt.getTask(link.source);\n\t\tvar target = gantt.getTask(link.target);\n\n\t\tvar from = getMilestonePosition(source, view),\n\t\t\tto = getMilestonePosition(target, view);\n\n\t\treturn {\n\t\t\tx: from_start ? from.left : (from.left + from.width),\n\t\t\te_x: to_start ? to.left : (to.left + to.width),\n\t\t\ty: from.top,\n\t\t\te_y: to.top\n\t\t};\n\t}\n};\n\nfunction getMilestonePosition(task, view){\n\tvar config = view.$getConfig();\n\tvar pos = view.getItemPosition(task);\n\tif(gantt.getTaskType(task.type) == config.types.milestone){\n\t\tvar milestoneHeight = gantt.getTaskHeight();\n\t\tvar milestoneWidth = Math.sqrt(2*milestoneHeight*milestoneHeight);\n\t\tpos.left -= milestoneWidth / 2;\n\t\tpos.width = milestoneWidth;\n\t}\n\treturn pos;\n}\n\nreturn smartRender(\n\t_render_link_element,\n\tfunction(){},\n\tisLinkInViewPort,\n\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createLinkRender;","var smartRender = require(\"./smart_render_wrapper\");\nvar isRowInViewPort = require(\"./viewport/task_row_checker\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nfunction getIndexRange(scale, viewportLeft, viewPortRight){\n\tvar firstCellIndex = 0;\n\tvar lastCellIndex = scale.left.length - 1;\n\tfor(var i = 0; i < scale.left.length; i++){\n\t\tvar left = scale.left[i];\n\t\tif(left < viewportLeft){\n\t\t\tfirstCellIndex = i;\n\t\t}\n\t\tif(left > viewPortRight){\n\t\t\tlastCellIndex = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn {\n\t\tstart: firstCellIndex,\n\t\tend: lastCellIndex\n\t};\n}\n\nfunction createTaskBgRender(gantt){\n\tvar renderedCells = {};\n\tvar visibleCells = {};\n\n\tfunction isRendered(item, columnIndex){\n\t\tif(renderedCells[item.id][columnIndex] && renderedCells[item.id][columnIndex].parentNode){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction detachRenderedCell(itemId, columnIndex){\n\t\tif(renderedCells[itemId] && renderedCells[itemId][columnIndex] &&\n\t\t\trenderedCells[itemId][columnIndex].parentNode\n\t\t\t){\n\t\t\t\trenderedCells[itemId][columnIndex].parentNode.removeChild(renderedCells[itemId][columnIndex]);\n\t\t\t}\n\t}\n\n\tfunction getCellTemplate(view){\n\t\tvar templates = view.$getTemplates();\n\t\tvar cssTemplate;\n\t\tif (typeof templates.task_cell_class !== \"undefined\") {\n\t\t\tcssTemplate = templates.task_cell_class;\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tvar log = console.warn || console.log;\n\t\t\tlog('gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.');\n\t\t} else {\n\t\t\tcssTemplate = templates.timeline_cell_class;\n\t\t}\n\t\treturn cssTemplate;\n\t}\n\n\tfunction renderCells(item, view, engine, viewPort){\n\t\tvar config = view.$getConfig();\n\t\tvar cfg = view.getScale();\n\t\tvar count = cfg.count;\n\t\tvar cssTemplate = getCellTemplate(view);\n\n\t\tif (config.show_task_cells) {\n\t\t\tif(!renderedCells[item.id]){\n\t\t\t\trenderedCells[item.id] = {};\n\t\t\t}\n\t\t\tif(!visibleCells[item.id]){\n\t\t\t\tvisibleCells[item.id] = {};\n\t\t\t}\n\n\t\t\tvar range = getIndexRange(cfg, viewPort.x, viewPort.x_end);\n\n\t\t\tvar row = engine.rendered[item.id];\n\n\t\t\tfor(var i in visibleCells[item.id]){\n\t\t\t\tvar index = visibleCells[item.id][i];\n\n\t\t\t\tif(Number(index) < range.start || Number(index) > range.end){\n\t\t\t\t\tdetachRenderedCell(item.id, index);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvisibleCells[item.id][columnIndex] = {};\n\t\t\n\t\t\t// TODO: do not iterate all cell, only ones in the viewport and once that are already rendered\n\t\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\t\tvar cell = renderOneCell(cfg, columnIndex, item, viewPort, count, cssTemplate, config);\n\t\t\t\tif(!cell && isRendered(item, columnIndex)){\n\t\t\t\t\tdetachRenderedCell(item.id, columnIndex);\n\t\t\t\t}else if (cell && !cell.parentNode){\n\t\t\t\t\trow.appendChild(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isColumnVisible(columnIndex, scale, viewPort){\n\t\tvar width = scale.width[columnIndex];\n\t\tif(width <= 0){\n\t\t\treturn false;\n\t\t}\n\t\tif(!gantt.config.smart_rendering || isLegacyRender(gantt)){\n\t\t\treturn true;\n\t\t}\n\t\tvar cellLeftCoord = scale.left[columnIndex] - width;\n\t\tvar cellRightCoord = scale.left[columnIndex] + width;\n\t\treturn (cellLeftCoord <= viewPort.x_end && cellRightCoord >= viewPort.x);//do not render skipped columns\n\t}\n\n\tfunction renderOneCell(scale, columnIndex, item, viewPort, count, cssTemplate, config){\n\t\tvar width = scale.width[columnIndex],\n\t\t\tcssclass = \"\";\n\n\t\tif (isColumnVisible(columnIndex, scale, viewPort)) {//do not render skipped columns\n\t\t\t\n\t\t\tvar cssTemplateContent = cssTemplate(item, scale.trace_x[columnIndex]);\n\n\t\t\tif(config.static_background){\n\t\t\t\t// if cell render in static background is not allowed, or if it's a blank cell\n\t\t\t\tif(!(config.static_background_cells && cssTemplateContent)){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(renderedCells[item.id][columnIndex]){\n\t\t\t\tvisibleCells[item.id][columnIndex] = columnIndex;\n\t\t\t\treturn renderedCells[item.id][columnIndex];\n\t\t\t}\n\t\t\tvar cell = document.createElement(\"div\");\n\t\t\tcell.style.width = (width) + \"px\";\n\n\t\t\tcssclass = \"gantt_task_cell\" + (columnIndex == count - 1 ? \" gantt_last_cell\" : \"\");\n\t\t\tif (cssTemplateContent) {\n\t\t\t\tcssclass += \" \" + cssTemplateContent;\n\t\t\t}\n\t\t\tcell.className = cssclass;\n\n\t\t\tif(gantt.config.smart_rendering){\n\t\t\t\tcell.style.position = \"absolute\";\n\t\t\t\tcell.style.left = scale.left[columnIndex] + \"px\";\n\t\t\t\trenderedCells[item.id][columnIndex] = cell;\n\t\t\t\tvisibleCells[item.id][columnIndex] = columnIndex;\n\t\t\t}\n\t\t\treturn cell;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction _render_bg_line(item, view, viewPort) {\n\t\tvar config = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\t\tvar cfg = view.getScale();\n\t\tvar count = cfg.count;\n\n\t\tif(config.static_background && !config.static_background_cells){\n\t\t\treturn null;\n\t\t}\n\n\t\tvar row = document.createElement(\"div\");\n\n\t\tvar cellTemplate = getCellTemplate(view);\n\n\t\tvar range = getIndexRange(cfg, viewPort.x, viewPort.x_end);\n\n\t\tif(!config.smart_rendering || isLegacyRender(gantt)){\n\t\t\trange = {\n\t\t\t\tstart: 0,\n\t\t\t\tend: count - 1\n\t\t\t};\n\t\t}\n\t\tif (config.show_task_cells) {\n\t\t\trenderedCells[item.id] = {};\n\t\t\tvisibleCells[item.id] = {};\n\t\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\t\tvar cell = renderOneCell(cfg, columnIndex, item, viewPort, count, cellTemplate, config);\n\t\t\t\tif(cell){\n\t\t\t\t\trow.appendChild(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar odd = gantt.getGlobalTaskIndex(item.id) % 2 !== 0;\n\t\tvar cssTemplate = templates.task_row_class(item.start_date, item.end_date, item);\n\t\tvar css = \"gantt_task_row\" + (odd ? \" odd\" : \"\") + (cssTemplate ? ' ' + cssTemplate : '');\n\n\t\tvar store = view.$config.rowStore;\n\t\tif(store.isSelected(item.id)) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\trow.className = css;\n\n\t\tif (config.smart_rendering) {\n\t\t\trow.style.position = \"absolute\";\n\t\t\trow.style.top = view.getItemTop(item.id) + \"px\";\n\t\t\trow.style.width = \"100%\";\n\t\t}\n\t\trow.style.height = (config.row_height) + \"px\";\n\n\t\tif(view.$config.item_attribute){\n\t\t\trow.setAttribute(view.$config.item_attribute, item.id);\n\t\t}\n\n\t\treturn row;\n\t}\n\n\treturn smartRender(\n\t\t_render_bg_line,\n\t\trenderCells,\n\t\tisRowInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createTaskBgRender;\n","var smartRender = require(\"./smart_render_wrapper\");\nvar isBarInViewPort = require(\"./viewport/task_bar_checker\");\nvar createBaseBarRender = require(\"./task_bar_render\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nfunction createTaskRenderer(gantt){\n\tvar defaultRender = createBaseBarRender(gantt);\n\n\tfunction renderSplitTask(task, timeline) {\n\t\tif (gantt.isSplitTask(task) && ((gantt.config.open_split_tasks && !task.$open) || !gantt.config.open_split_tasks)) {\n\t\t\tvar el = document.createElement('div'),\n\t\t\t\tsizes = gantt.getTaskPosition(task);\n\n\t\t\tvar sub_tasks = gantt.getChildren(task.id);\n\n\n\t\t\tfor (var i = 0; i < sub_tasks.length; i++) {\n\t\t\t\tvar child = gantt.getTask(sub_tasks[i]);\n\n\t\t\t\tvar element = defaultRender(child, timeline);\n\t\t\t\tif(!element)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tvar padding = Math.floor((gantt.config.row_height - sizes.height) / 2);\n\n\t\t\t\telement.style.top = (sizes.top + padding) + \"px\";\n\t\t\t\telement.className += \" gantt_split_child\";\n\n\t\t\t\tel.appendChild(element);\n\t\t\t}\n\t\t\treturn el;\n\t\t}\n\t\treturn false;\n\t}\n\n\treturn smartRender(\n\t\trenderSplitTask,\n\t\tfunction(){},\n\t\tisBarInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n}\n\nmodule.exports = createTaskRenderer;","var smartRender = require(\"./smart_render_wrapper\");\nvar isBarInViewPort = require(\"./viewport/task_bar_checker\");\nvar createBaseBarRender = require(\"./task_bar_render\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nmodule.exports = function createTaskRenderer(gantt){\n\tvar defaultRender = createBaseBarRender(gantt);\n\n\treturn smartRender(\n\t\tdefaultRender,\n\t\tfunction(){},\n\t\tisBarInViewPort,\n\t\tgantt.config.smart_rendering && !isLegacyRender(gantt)\n\t);\n};","module.exports = function (gantt) {\n\treturn function processTaskDateProperties(item, mapTo, mode) {\n\t\tif (mode == \"keepDates\") {\n\t\t\tkeepDatesOnEdit(item, mapTo);\n\t\t} else if (mode == \"keepDuration\") {\n\t\t\tkeepDurationOnEdit(item, mapTo);\n\t\t} else {\n\t\t\tdefaultActionOnEdit(item, mapTo);\n\t\t}\n\t};\n\n\t// resize task\n\t// resize task when start/end/duration changes\n\tfunction keepDatesOnEdit(item, mapTo) {\n\t\tif (mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t} else if (mapTo == \"end_date\" || mapTo == \"start_date\") {\n\t\t\titem.duration = gantt.calculateDuration(item);\n\t\t}\n\t}\n\n\t// move task(before 6.2)\n\t// move task when start/end dates changes\n\t// resize task when duration changes\n\tfunction keepDurationOnEdit(item, mapTo) {\n\t\tif (mapTo == \"end_date\") {\n\t\t\titem.start_date = gantt.calculateEndDate({\n\t\t\t\tstart_date: item.end_date,\n\t\t\t\tduration: -item.duration,\n\t\t\t\ttask: item\n\t\t\t}\n\t\t\t);\n\t\t} else if (mapTo == \"start_date\" || mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t}\n\t}\n\n\t// default behavior\n\t// move task when start date changes\n\t// resize task when end date/duration changes\n\tfunction defaultActionOnEdit(item, mapTo) {\n\t\tif (mapTo == \"start_date\" || mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t} else if (mapTo == \"end_date\") {\n\t\t\titem.duration = gantt.calculateDuration(item);\n\t\t}\n\t}\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction PredecessorEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(PredecessorEditor, BaseEditor);\n\n\tfunction parseInputString(value, config) {\n\t\tvar predecessors = (value || \"\").split(config.delimiter || \",\");\n\t\tfor (var i = 0; i < predecessors.length; i++) {\n\t\t\tvar val = predecessors[i].trim();\n\t\t\tif (val) {\n\t\t\t\tpredecessors[i] = val;\n\t\t\t} else {\n\t\t\t\tpredecessors.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\tpredecessors.sort();\n\t\treturn predecessors;\n\t}\n\n\tfunction formatPredecessors(task, config, gantt) {\n\t\tvar links = task.$target;\n\t\tvar labels = [];\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = gantt.getLink(links[i]);\n\t\t\tvar pred = gantt.getTask(link.source);\n\t\t\tlabels.push(gantt.getWBSCode(pred));\n\t\t}\n\t\treturn labels.join((config.delimiter || \",\") + \" \");\n\t}\n\n\tfunction getSelectedLinks(taskId, predecessorCodes) {\n\t\tvar links = [];\n\t\tpredecessorCodes.forEach(function (code) {\n\t\t\tvar predecessor = gantt.getTaskByWBSCode(code);\n\t\t\tif (predecessor) {\n\t\t\t\tvar link = {\n\t\t\t\t\tsource: predecessor.id,\n\t\t\t\t\ttarget: taskId,\n\t\t\t\t\ttype: gantt.config.links.finish_to_start,\n\t\t\t\t\tlag: 0\n\t\t\t\t};\n\t\t\t\tif (gantt.isLinkAllowed(link)) {\n\t\t\t\t\tlinks.push(link);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn links;\n\t}\n\n\tfunction getLinksDiff(task, predecessorCodes) {\n\t\tvar selectedLinks = getSelectedLinks(task.id, predecessorCodes);\n\t\tvar existingLinksSearch = {};\n\t\ttask.$target.forEach(function (linkId) {\n\t\t\tvar link = gantt.getLink(linkId);\n\t\t\texistingLinksSearch[link.source + \"_\" + link.target] = link.id;\n\t\t});\n\n\t\tvar linksToAdd = [];\n\t\tselectedLinks.forEach(function (link) {\n\t\t\tvar linkKey = link.source + \"_\" + link.target;\n\t\t\tif (!existingLinksSearch[linkKey]) {\n\t\t\t\tlinksToAdd.push(link);\n\t\t\t} else {\n\t\t\t\tdelete existingLinksSearch[linkKey];\n\t\t\t}\n\t\t});\n\n\t\tvar linksToDelete = [];\n\t\tfor (var i in existingLinksSearch) {\n\t\t\tlinksToDelete.push(existingLinksSearch[i]);\n\t\t}\n\n\t\treturn {\n\t\t\tadd: linksToAdd,\n\t\t\tremove: linksToDelete\n\t\t};\n\t}\n\n\tutils.mixin(PredecessorEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = formatPredecessors(value, column.editor, gantt);\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn parseInputString((this.get_input(node).value || \"\"), column.editor);\n\t\t},\n\t\tsave: function (id, column, node) {\n\t\t\tvar task = gantt.getTask(id);\n\n\t\t\tvar linksDiff = getLinksDiff(task, this.get_value(id, column, node));\n\n\t\t\tif (linksDiff.add.length || linksDiff.remove.length) {\n\t\t\t\tgantt.batchUpdate(function () {\n\t\t\t\t\tlinksDiff.add.forEach(function (link) {\n\t\t\t\t\t\tgantt.addLink(link);\n\t\t\t\t\t});\n\t\t\t\t\tlinksDiff.remove.forEach(function (linkId) {\n\t\t\t\t\t\tgantt.deleteLink(linkId);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (gantt.autoSchedule)\n\t\t\t\t\t\tgantt.autoSchedule();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar inputPredecessors = this.get_value(id, column, node);\n\t\t\tvar taskPredecessors = parseInputString(formatPredecessors(value, column.editor, gantt), column.editor);\n\n\t\t\treturn inputPredecessors.join() !== taskPredecessors.join();\n\t\t}\n\t}, true);\n\n\treturn PredecessorEditor;\n};","module.exports = function (gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tvar html5DateFormat = \"%Y-%m-%d\";\n\n\tvar dateToStr = null;\n\tvar strToDate = null;\n\n\tfunction init() {\n\t\tif (!dateToStr) {\n\t\t\tdateToStr = gantt.date.date_to_str(html5DateFormat);\n\t\t}\n\t\tif (!strToDate) {\n\t\t\tstrToDate = gantt.date.str_to_date(html5DateFormat);\n\t\t}\n\t}\n\n\tfunction DateEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(DateEditor, BaseEditor);\n\n\tutils.mixin(DateEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\n\t\t\tinit();\n\t\t\tvar minValue = dateToStr(config.min || gantt.getState().min_date);\n\t\t\tvar maxValue = dateToStr(config.max || gantt.getState().max_date);\n\n\t\t\tvar html = \"<div style='width:140px'><input type='date' min='\" + minValue + \"' max='\" + maxValue + \"' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tif (value && value.getFullYear) {\n\t\t\t\tthis.get_input(node).value = dateToStr(value);\n\t\t\t} else {\n\t\t\t\tthis.get_input(node).value = value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\tif (!value || isNaN(value.getTime()))\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\tvar parsed;\n\t\t\ttry {\n\t\t\t\tparsed = strToDate(this.get_input(node).value || \"\");\n\t\t\t} catch (e) {\n\t\t\t\tparsed = null;// return null will cancel changes\n\t\t\t}\n\n\t\t\treturn parsed;\n\t\t}\n\t}, true);\n\n\treturn DateEditor;\n};\n","module.exports = function(gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction SelectEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(SelectEditor, BaseEditor);\n\n\tutils.mixin(SelectEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><select name='\" + column.name + \"'>\";\n\t\t\tvar optionsHtml = [],\n\t\t\t\toptions = config.options || [];\n\n\t\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\t\toptionsHtml.push(\"<option value='\" + config.options[i].key + \"'>\" + options[i].label + \"</option>\");\n\t\t\t}\n\n\t\t\thtml += optionsHtml.join(\"\") + \"</select></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"select\");\n\t\t}\n\t}, true);\n\n\treturn SelectEditor;\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction NumberEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(NumberEditor, BaseEditor);\n\n\tutils.mixin(NumberEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar min = config.min || 0,\n\t\t\t\tmax = config.max || 100;\n\n\t\t\tvar html = \"<div><input type='number' min='\" + min + \"' max='\" + max + \"' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn !isNaN(parseInt(value, 10));\n\t\t}\n\t}, true);\n\n\treturn NumberEditor;\n};","module.exports = function(gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction TextEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(TextEditor, BaseEditor);\n\n\tutils.mixin(TextEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t}\n\t}, true);\n\n\treturn TextEditor;\n};","module.exports = {\n\tinit: function(controller, grid){\n\t\tvar self = controller;\n\t\tvar gantt = grid.$gantt;\n\n\t\tvar onBlurDelay = null;\n\t\tvar keyNav = gantt.ext.keyboardNavigation;\n\t\tkeyNav.attachEvent(\"onBeforeFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell) {\n\t\t\t\tvar columnName = activeCell.columnName;\n\t\t\t\tvar id = activeCell.id;\n\n\t\t\t\tvar editorState = self.getState();\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tif(editorState.id == id && editorState.columnName === columnName) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tvar state = controller.getState();\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell && !(activeCell.id == state.id && activeCell.columnName == state.columnName)) {\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tself.save();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tcontroller.attachEvent(\"onHide\", function(){\n\t\t\tclearTimeout(onBlurDelay);\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onBlur\", function () {\n\t\t\tonBlurDelay = setTimeout(function(){\n\t\t\t\tself.save();\n\t\t\t});\n\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function(id,e){\n\t\t\t// block lightbox on double click inside editor\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif(cell && controller.isVisible() && cell.columnName == state.columnName){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif(gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif(controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName){\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t}else{\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tself.save();\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onKeyDown\", function(command, e){\n\t\t\tvar activeCell = controller.locateCell(e.target);\n\t\t\tvar hasEditor = activeCell ? controller.getEditorConfig(activeCell.columnName) : false;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tvar keyCode = e.keyCode;\n\t\t\tvar preventKeyNav = false;\n\n\t\t\tswitch (keyCode){\n\t\t\t\tcase keyboard.ENTER:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.save();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}else if(hasEditor && !(e.ctrlKey || e.metaKey || e.shiftKey)){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.ESC:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.hide();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.UP:\n\t\t\t\tcase keyboard.DOWN:\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.LEFT:\n\t\t\t\tcase keyboard.RIGHT:\n\t\t\t\t\tif(state.editorType === \"date\"){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.SPACE:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.DELETE:\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif(controller.isVisible()){\n\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar newState = controller.getState();\n\t\t\t\t\t\tif(newState.id){\n\t\t\t\t\t\t\tkeyNav.focus({type:\"taskCell\", id: newState.id, column:newState.columnName});\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif(controller.isVisible())\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\telse{\n\n\t\t\t\t\t\t// start editing on character key\n\t\t\t\t\t\tif((keyCode >= 48 && keyCode <= 57) || // [0-9]\n\t\t\t\t\t\t\t(keyCode > 95 && keyCode < 112) || // numpad\n\t\t\t\t\t\t\t(keyCode >= 64 && keyCode <= 91) || // [a-z]\n\t\t\t\t\t\t\t(keyCode > 185 && keyCode < 193) || //;=-,etc\n\t\t\t\t\t\t\t(keyCode > 218  && keyCode < 223)\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\tvar modifiers = command.modifiers;\n\n\t\t\t\t\t\t\tvar anyModifier = modifiers.alt || modifiers.ctrl || modifiers.meta || modifiers.shift;\n\t\t\t\t\t\t\tif(modifiers.alt){\n\t\t\t\t\t\t\t\t// don't start editing on alt+key\n\t\t\t\t\t\t\t}else if (anyModifier && keyNav.getCommandHandler(command, \"taskCell\")){\n\t\t\t\t\t\t\t\t// don't start editing if command already have a keyboard shortcut\n\t\t\t\t\t\t\t}else if(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (preventKeyNav){\n\t\t\t\treturn false;\n\t\t\t} else{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t});\n\t},\n\tonShow: function(controller, placeholder, grid){},\n\tonHide: function(controller, placeholder, grid){\n\t\tvar gantt = grid.$gantt;\n\t\tgantt.focus();\n\n\t},\n\tdestroy: function(){}\n};\n\n","module.exports = {\n\tinit: function (controller, grid) {\n\t\tvar gantt = grid.$gantt;\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif (gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif (controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName) {\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tif (controller.isVisible() && controller.isChanged()) {\n\t\t\t\tcontroller.save();\n\t\t\t} else {\n\t\t\t\tcontroller.hide();\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function (id, e) {\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif (cell && controller.isVisible() && cell.columnName == state.columnName) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t},\n\n\tonShow: function (controller, placeholder, grid) {\n\t\tif (grid.$getConfig().keyboard_navigation) {\n\t\t\t// keyboard navigation extension will handle arrows if enabled\n\t\t\treturn;\n\t\t}\n\t\tvar gantt = grid.$gantt;\n\t\tplaceholder.onkeydown = function (e) {\n\t\t\te = e || window.event;\n\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tif (e.defaultPrevented || (e.shiftKey && e.keyCode != keyboard.TAB)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar shouldPrevent = true;\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tcontroller.save();\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tcontroller.hide();\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tshouldPrevent = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (shouldPrevent) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t};\n\t},\n\tonHide: function () {\n\n\t},\n\n\tdestroy: function () {\n\n\t}\n};\n\n","var defaultMapping = require(\"./keyboard_mappings/default\");\nvar keyNavMappings = require(\"./keyboard_mappings/keyboard_navigation\");\n\nmodule.exports = function(gantt){\n\n\tvar mapping = null;\n\n\treturn {\n\t\tsetMapping: function(map){\n\t\t\tmapping = map;\n\t\t},\n\t\tgetMapping: function(){\n\n\t\t\tif(mapping){\n\t\t\t\treturn mapping;\n\t\t\t}else if(gantt.config.keyboard_navigation_cells){\n\t\t\t\treturn keyNavMappings;\n\t\t\t}else{\n\t\t\t\treturn defaultMapping;\n\t\t\t}\n\t\t}\n\t};\n};\n","var getKeyboardMapping = require(\"./keyboard_mappings\");\nvar textEditorFactory = require(\"./editors/text\"),\n\tnumberEditorFactory = require(\"./editors/number\"),\n\tselectEditorFactory = require(\"./editors/select\"),\n\tdateEditorFactory = require(\"./editors/date\"),\n\tpredecessorEditorFactory = require(\"./editors/predecessor\");\nvar utils = require(\"../../../../utils/utils\");\nvar domHelpers = require(\"../../../../utils/dom_helpers\");\nvar eventable = require(\"../../../../utils/eventable\");\nvar linkedPropertiesProcessor = require(\"./linked_properties\");\n\nfunction initConfigs(gantt){\n\tgantt.config.editor_types = {\n\t\ttext: new (textEditorFactory(gantt))(),\n\t\tnumber: new (numberEditorFactory(gantt))(),\n\t\tselect: new (selectEditorFactory(gantt))(),\n\t\tdate: new (dateEditorFactory(gantt))(),\n\t\tpredecessor: new (predecessorEditorFactory(gantt))()\n\t};\n}\n\nfunction create(gantt){\n\tvar keyboardMapping = getKeyboardMapping(gantt);\n\n\tvar eventBus = {};\n\teventable(eventBus);\n\n\tfunction createGridEditors(grid) {\n\n\t\tfunction _getGridCellFromNode(node){\n\t\t\tif(!domHelpers.isChildOf(node, grid.$grid)){\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar row = domHelpers.locateAttribute(node, grid.$config.item_attribute);\n\t\t\tvar cell = domHelpers.locateAttribute(node, \"data-column-name\");\n\t\t\tif(cell){\n\t\t\t\tvar columnName = cell.getAttribute(\"data-column-name\");\n\t\t\t\tvar id = row.getAttribute(grid.$config.item_attribute);\n\t\t\t\treturn {\n\t\t\t\t\tid: id,\n\t\t\t\t\tcolumnName: columnName\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction _getEditorPosition(itemId, columnName) {\n\t\t\tvar top = grid.getItemTop(itemId);\n\t\t\tvar height = grid.getItemHeight(itemId);\n\t\t\tvar cols = grid.getGridColumns();\n\t\t\tvar left = 0,\n\t\t\t\twidth = 0;\n\n\t\t\tfor (var i = 0; i < cols.length; i++) {\n\t\t\t\tif (cols[i].name == columnName) {\n\t\t\t\t\twidth = cols[i].width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tleft += cols[i].width;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttop: top,\n\t\t\t\tleft: left,\n\t\t\t\theight: height,\n\t\t\t\twidth: width\n\t\t\t};\n\t\t}\n\n\t\tfunction findVisibleIndex(grid, columnName) {\n\t\t\tvar columns = grid.getGridColumns();\n\t\t\tfor (var i = 0; i < columns.length; i++){\n\t\t\t\tif(columns[i].name == columnName){\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tfunction _createPlaceholder(itemId, columnName) {\n\t\t\tvar pos = _getEditorPosition(itemId, columnName);\n\t\t\tvar el = document.createElement(\"div\");\n\t\t\tel.className = \"gantt_grid_editor_placeholder\";\n\t\t\tel.setAttribute(grid.$config.item_attribute, itemId);\n\t\t\tel.setAttribute(\"data-column-name\", columnName);\n\n\t\t\tvar visibleIndex = findVisibleIndex(grid, columnName);\n\t\t\tel.setAttribute(\"data-column-index\", visibleIndex);\n\n\t\t\tel.style.cssText = [\n\t\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\t\"width:\" + pos.width + \"px\",\n\t\t\t\t\"height:\" + pos.height + \"px\"\n\t\t\t].join(\";\");\n\n\t\t\treturn el;\n\t\t}\n\n\t\tvar updateTaskDateProperties = linkedPropertiesProcessor(gantt);\n\n\t\tvar handlers = [];\n\t\tvar store = null;\n\t\tvar controller = {\n\t\t\t_itemId: null,\n\t\t\t_columnName: null,\n\t\t\t_editor: null,\n\t\t\t_editorType: null,\n\t\t\t_placeholder: null,\n\n\t\t\tlocateCell: _getGridCellFromNode,\n\t\t\tgetEditorConfig: function (columnName) {\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\treturn column.editor;\n\t\t\t},\n\n\t\t\tinit: function () {\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.init){\n\t\t\t\t\tmapping.init(this, grid);\n\t\t\t\t}\n\n\t\t\t\tstore = grid.$gantt.getDatastore(grid.$config.bind);\n\n\t\t\t\tvar self = this;\n\n\t\t\t\thandlers.push(store.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\t\t\t\tif(self._itemId == oldId){\n\t\t\t\t\t\tself._itemId = newId;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\thandlers.push(store.attachEvent(\"onStoreUpdated\", function(){\n\t\t\t\t\tif(grid.$gantt.getState(\"batchUpdate\").batch_update){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(self.isVisible() && !store.isVisible(self._itemId)){\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis.init = function(){};\n\t\t\t},\n\n\t\t\tgetState: function(){\n\t\t\t\treturn {\n\t\t\t\t\teditor: this._editor,\n\t\t\t\t\teditorType: this._editorType,\n\t\t\t\t\tplaceholder: this._placeholder,\n\t\t\t\t\tid: this._itemId,\n\t\t\t\t\tcolumnName: this._columnName\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tstartEdit: function(itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\n\t\t\t\tif(!store.exists(itemId)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\t\t\t\tif (gantt.isReadonly(store.getItem(itemId))) {\n\t\t\t\t\tthis.callEvent(\"onEditPrevent\", [editorState]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.callEvent(\"onBeforeEditStart\", [editorState]) === false) {\n\t\t\t\t\tthis.callEvent(\"onEditPrevent\", [editorState]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.show(editorState.id, editorState.columnName);\n\t\t\t\tthis.setValue();\n\n\t\t\t\tthis.callEvent(\"onEditStart\", [editorState]);\n\t\t\t},\n\t\t\tisVisible: function(){\n\t\t\t\treturn !!(this._editor && domHelpers.isChildOf(this._placeholder, document.body));\n\t\t\t},\n\t\t\tshow: function (itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\n\t\t\t\tvar column = grid.getColumn(editorState.columnName);\n\t\t\t\tvar editorConfig = this.getEditorConfig(column.name);\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar editor = grid.$getConfig().editor_types[editorConfig.type];\n\n\t\t\t\tvar placeholder = _createPlaceholder(editorState.id, editorState.columnName);\n\t\t\t\tgrid.$grid_data.appendChild(placeholder);\n\t\t\t\teditor.show(editorState.id, column, editorConfig, placeholder);\n\t\t\t\tthis._editor = editor;\n\t\t\t\tthis._placeholder = placeholder;\n\t\t\t\tthis._itemId = editorState.id;\n\t\t\t\tthis._columnName = editorState.columnName;\n\t\t\t\tthis._editorType = editorConfig.type;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onShow){\n\t\t\t\t\tmapping.onShow(this, placeholder, grid);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tsetValue: function () {\n\t\t\t\tvar state = this.getState();\n\t\t\t\tvar itemId = state.id,\n\t\t\t\t\tcolumnName = state.columnName;\n\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(itemId);\n\t\t\t\t}\n\n\t\t\t\tthis._editor.set_value(value, itemId, column, this._placeholder);\n\t\t\t\tthis.focus();\n\t\t\t},\n\n\t\t\tfocus: function(){\n\t\t\t\tthis._editor.focus(this._placeholder);\n\t\t\t},\n\n\t\t\tgetValue: function () {\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\t\t\t\treturn this._editor.get_value(this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\t_getItemValue: function() {\n\t\t\t\tvar editorConfig = this.getEditorConfig(this._columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar item = gantt.getTask(this._itemId);\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(this._itemId);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tisChanged: function(){\n\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\n\t\t\t\tvar value = this._getItemValue();\n\n\t\t\t\treturn this._editor.is_changed(value, this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\thide: function () {\n\t\t\t\tif(!this._itemId)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onHide){\n\t\t\t\t\tmapping.onHide(this, this._placeholder, grid);\n\t\t\t\t}\n\n\t\t\t\tthis._itemId = null;\n\t\t\t\tthis._columnName = null;\n\t\t\t\tthis._editorType = null;\n\t\t\t\tif (!this._placeholder) return;\n\n\t\t\t\tif (this._editor) {\n\t\t\t\t\tthis._editor.hide(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._editor = null;\n\t\t\t\tif (this._placeholder.parentNode) {\n\t\t\t\t\tthis._placeholder.parentNode.removeChild(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._placeholder = null;\n\n\t\t\t\tthis.callEvent(\"onEditEnd\", [{id: itemId, columnName: columnName}]);\n\t\t\t},\n\t\t\tsave: function () {\n\t\t\t\tif(!(this.isVisible() && store.exists(this._itemId) && this.isChanged())) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tif(!store.exists(itemId)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\t\t\t\tvar editorState = {\n\t\t\t\t\tid: itemId,\n\t\t\t\t\tcolumnName: columnName,\n\t\t\t\t\tnewValue: this.getValue(),\n\t\t\t\t\toldValue: this._getItemValue()\n\t\t\t\t};\n\t\t\t\tif (this.callEvent(\"onBeforeSave\", [editorState]) !== false) {\n\t\t\t\t\tif (this._editor.is_valid(editorState.newValue, editorState.id, editorState.columnName, this._placeholder)) {\n\n\t\t\t\t\t\tvar mapTo = editorConfig.map_to;\n\t\t\t\t\t\tvar value = editorState.newValue;\n\t\t\t\t\t\tif (mapTo != \"auto\") {\n\t\t\t\t\t\t\titem[mapTo] = value;\n\t\t\t\t\t\t\tupdateTaskDateProperties(item, mapTo, gantt.config.inline_editors_date_processing);\n\n\t\t\t\t\t\t\tstore.updateItem(itemId);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._editor.save(itemId, grid.getColumn(columnName), this._placeholder);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.callEvent(\"onSave\", [editorState]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.hide();\n\t\t\t},\n\n\t\t\t_findEditableCell: function findEditableCell(start, direction){\n\t\t\t\tvar nextIndex = start;\n\t\t\t\tvar columns = grid.getGridColumns();\n\t\t\t\tvar nextColumn = columns[nextIndex];\n\n\t\t\t\tvar columnName = nextColumn ? nextColumn.name : null;\n\t\t\t\tif(columnName){\n\t\t\t\t\twhile(columnName && !this.getEditorConfig(columnName)){\n\t\t\t\t\t\tcolumnName = this._findEditableCell(start + direction, direction);\n\t\t\t\t\t}\n\t\t\t\t\treturn columnName;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tgetNextCell: function moveCell(dir){\n\t\t\t\treturn this._findEditableCell(grid.getColumnIndex(this._columnName) + dir, dir);\n\t\t\t},\n\n\t\t\tgetFirstCell: function getFirstCell(){\n\t\t\t\treturn this._findEditableCell(0, 1);\n\t\t\t},\n\n\t\t\tgetLastCell: function getLastCell(){\n\t\t\t\treturn this._findEditableCell(grid.getGridColumns().length - 1, -1);\n\t\t\t},\n\n\t\t\teditNextCell: function nextCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(1)){\n\t\t\t\t\tvar task = this.moveRow(1);\n\t\t\t\t\tcell = this.getFirstCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevCell: function prevCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(-1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(-1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(-1)){\n\t\t\t\t\tvar task = this.moveRow(-1);\n\t\t\t\t\tcell = this.getLastCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmoveRow: function moveRow(dir) {\n\t\t\t\tvar moveTask = dir > 0 ? gantt.getNext : gantt.getPrev;\n\t\t\t\tmoveTask = gantt.bind(moveTask, gantt);\n\n\t\t\t\tvar nextItem = moveTask(this._itemId);\n\t\t\t\t// skip readonly rows\n\t\t\t\twhile (gantt.isTaskExists(nextItem) && gantt.isReadonly(gantt.getTask(nextItem))) {\n\t\t\t\t\tnextItem = moveTask(nextItem);\n\t\t\t\t}\n\t\t\t\treturn nextItem;\n\t\t\t},\n\n\t\t\teditNextRow: function nextRow(){\n\t\t\t\tvar row = this.getNextCell(1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevRow: function prevRow(){\n\t\t\t\tvar row = this.getNextCell(-1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdestructor: function(){\n\t\t\t\thandlers.forEach(function(handlerId){\n\t\t\t\t\tstore.detachEvent(handlerId);\n\t\t\t\t});\n\t\t\t\tstore = null;\n\t\t\t\tthis.hide();\n\t\t\t\tthis.detachAllEvents();\n\t\t\t}\n\t\t};\n\n\t\tutils.mixin(controller, keyboardMapping);\n\t\tutils.mixin(controller, eventBus);\n\n\t\treturn controller;\n\t}\n\n\n\tvar inlineEditController = {\n\t\tinit: initConfigs,\n\t\tcreateEditors: createGridEditors\n\t};\n\n\tutils.mixin(inlineEditController, keyboardMapping);\n\tutils.mixin(inlineEditController, eventBus);\n\n\treturn inlineEditController;\n}\n\n\n\n\nmodule.exports = create;","var utils = require(\"../../../utils/utils\");\nvar ResourceTimeline = require(\"./resource_timeline\");\nvar resourceStoreMixin = require(\"../resource_store_mixin\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceHistogram = (function (_super) {\n\n\tfunction ResourceHistogram(parent, config, factory, gantt) {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\tself.$config.bindLinks = null;\n\t\treturn self;\n\t}\n\n\t__extends(ResourceHistogram, _super);\n\n\tutils.mixin(ResourceHistogram.prototype, {\n\t\t_createLayerConfig: function(){\n\t\t\tvar self = this;\n\t\t\tvar taskFilter = function(){\n\t\t\t\treturn self.isVisible();\n\t\t\t};\n\n\t\t\tvar taskLayers = [\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.resourceHistogram(),\n\t\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg(),\n\t\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar linkLayers = [];\n\n\t\t\treturn {\n\t\t\t\ttasks: taskLayers,\n\t\t\t\tlinks: linkLayers\n\t\t\t};\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceHistogram.prototype, resourceStoreMixin(_super), true);\n\n\treturn ResourceHistogram;\n})(ResourceTimeline);\n\n\nmodule.exports = ResourceHistogram;\n\n\n","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tresourceStoreMixin = require(\"../resource_store_mixin\"),\n\tGrid = require(\"./grid\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceGrid = (function (_super) {\n\n\tfunction ResourceGrid(parent, config, factory, gantt) {\n\t\treturn _super.apply(this, arguments) || this;\n\t}\n\n\t__extends(ResourceGrid, _super);\n\n\tutils.mixin(ResourceGrid.prototype, {\n\t\tinit: function(){\n\t\t\tif(this.$config.bind === undefined){\n\t\t\t\tthis.$config.bind = this.$getConfig().resource_store;\n\t\t\t}\n\t\t\t_super.prototype.init.apply(this, arguments);\n\t\t},\n\n\t\t_initEvents: function(){\n\t\t\tvar gantt = this.$gantt;\n\t\t\t_super.prototype._initEvents.apply(this, arguments);\n\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_row\", gantt.bind(function (e, id, trg) {\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return true;\n\n\t\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\t\tif(target){\n\t\t\t\t\tstore.select(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}, this), this.$grid);\n\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceGrid.prototype, resourceStoreMixin(ResourceGrid), true);\n\n\treturn ResourceGrid;\n})(Grid);\n\nmodule.exports = ResourceGrid;","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nfunction createResizer(gantt, grid){\n// renders resize elements in the grid header\n\tvar _render_grid_header_resize = function () {\n\t\tvar columns = grid.getGridColumns(),\n\t\t\tconfig = grid.$getConfig(),\n\t\t\twidth = 0,\n\t\t\ttotalWidth = grid.$config.width,\n\t\t\tlineHeigth = config.scale_height;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar col = columns[i];\n\n\t\t\tvar pos;\n\t\t\twidth += col.width;\n\t\t\tif(config.rtl){\n\t\t\t\tpos = totalWidth - width;\n\t\t\t}else{\n\t\t\t\tpos = width;\n\t\t\t}\n\n\t\t\tif (col.resize) {\n\t\t\t\tvar resize_el = document.createElement(\"div\");\n\t\t\t\tresize_el.className = \"gantt_grid_column_resize_wrap\";\n\t\t\t\tresize_el.style.top = \"0px\";\n\t\t\t\tresize_el.style.height = lineHeigth + \"px\";\n\t\t\t\tresize_el.innerHTML = \"<div class='gantt_grid_column_resize'></div>\";\n\t\t\t\tresize_el.setAttribute(config.grid_resizer_column_attribute, i);\n\n\t\t\t\tgantt._waiAria.gridSeparatorAttr(resize_el);\n\n\t\t\t\tgrid.$grid_scale.appendChild(resize_el);\n\n\t\t\t\tresize_el.style.left = Math.max(0, pos) + \"px\";\n\t\t\t}\n\t\t}\n\t};\n\n\tvar _grid_resize = {\n\t\tcolumn_before_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar el = domHelpers.locateAttribute(e, config.grid_resizer_column_attribute);\n\t\t\tif (!el) return false;\n\n\t\t\tvar column_index = this.locate(e, config.grid_resizer_column_attribute),\n\t\t\t\tcolumn = grid.getGridColumns()[column_index];\n\n\t\t\tif (grid.callEvent(\"onColumnResizeStart\", [column_index, column]) === false)\n\t\t\t\treturn false;\n\t\t}, gantt),\n\n\t\tcolumn_after_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar column_index = this.locate(e, config.grid_resizer_column_attribute);\n\t\t\tdnd.config.marker.innerHTML = \"\";\n\t\t\tdnd.config.marker.className += \" gantt_grid_resize_area\";\n\t\t\tdnd.config.marker.style.height = grid.$grid.offsetHeight + \"px\";\n\t\t\tdnd.config.marker.style.top = \"0px\";\n\t\t\tdnd.config.drag_index = column_index;\n\n\t\t}, gantt),\n\n\t\tcolumn_drag_move: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar dd = dnd.config,\n\t\t\t\tcolumns = grid.getGridColumns();\n\t\t\tvar index = parseInt(dd.drag_index, 10);\n\t\t\tvar target_column = columns[index];\n\t\t\tvar\tpos = domHelpers.getNodePosition(grid.$grid_scale),\n\t\t\t\tpointerPosition = parseInt(dd.marker.style.left, 10),\n\t\t\t\tminPointerPosition = target_column.min_width ? target_column.min_width : config.min_grid_column_width,\n\t\t\t\tmaxPointerPosition = grid.$grid_data.offsetWidth,// - config.min_grid_column_width * (columns.length - dd.drag_index - 2),// 1 for current column + 1 for last column\n\t\t\t\tmarkerStartPosition = 0,\n\t\t\t\tmarker_width = 0;\n\n\t\t\t\n\t\t/*\tif(config.rtl){\n\t\t\t\tindex = columns.length - 1 - index;\n\t\t\t\tcolumns = columns.reverse();\n\t\t\t}*/\n\n\t\t\tif(!config.rtl){\n\t\t\t\tpointerPosition -= pos.x - 1;\n\t\t\t}else{\n\t\t\t\tpointerPosition = (pos.x + pos.width - 1) - pointerPosition;\n\t\t\t}\n\n\t\t\t//pointerPosition -= pos.x - 1;\n\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\tminPointerPosition += columns[i].width;\n\t\t\t\tmarkerStartPosition += columns[i].width;\n\t\t\t}\n\n\t\t\tif (pointerPosition < minPointerPosition) {\n\t\t\t\tpointerPosition = minPointerPosition;\n\t\t\t}\n\n\t\t\tif (config.keep_grid_width) {\n\t\t\t\tvar limit_max = 0;\n\t\t\t\tfor (var i=index+1; i<columns.length; i++) {\n\t\t\t\t\tif (columns[i].min_width)\n\t\t\t\t\t\tmaxPointerPosition -= columns[i].min_width;\n\t\t\t\t\telse if (config.min_grid_column_width)\n\t\t\t\t\t\tmaxPointerPosition -= config.min_grid_column_width;\n\n\t\t\t\t\tif (columns[i].max_width && limit_max !== false)\n\t\t\t\t\t\tlimit_max += columns[i].max_width;\n\t\t\t\t\telse\n\t\t\t\t\t\tlimit_max = false;\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// we have to restrict min value if only ALL right-side columns have 'max_width' field\n\t\t\t\tif (limit_max) {\n\t\t\t\t\tminPointerPosition = grid.$grid_data.offsetWidth - limit_max;\n\t\t\t\t}\n\t\t\t\tif (pointerPosition < minPointerPosition) {\n\t\t\t\t\tpointerPosition = minPointerPosition;\n\t\t\t\t}\n\n\t\t\t\tif (pointerPosition > maxPointerPosition)\n\t\t\t\t\tpointerPosition = maxPointerPosition;\n\t\t\t} else if (!grid.$config.scrollable) {\n\t\t\t\tvar targetWidth = pointerPosition;\n\t\t\t\tvar rightColumnsWidth = 0;\n\t\t\t\tfor (var i=index+1; i<columns.length; i++) {\n\t\t\t\t\trightColumnsWidth += columns[i].width;\n\t\t\t\t}\n\t\n\t\t\t\tif(targetWidth + rightColumnsWidth > gantt.$container.offsetWidth){\n\t\t\t\t\tpointerPosition = gantt.$container.offsetWidth - rightColumnsWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdd.left = pointerPosition - 1;// -1 for border\n\n\t\t\tmarker_width = Math.abs(pointerPosition - markerStartPosition);\n\n\t\t\t// column.max_width - maximum width of the column, user defined\n\t\t\tif (target_column.max_width && marker_width > target_column.max_width)\n\t\t\t\tmarker_width = target_column.max_width;\n\n\t\t\tif(config.rtl){\n\t\t\t\tmarkerStartPosition = (pos.width - markerStartPosition) + 2 - marker_width;\n\t\t\t}\n\t\t\tdd.marker.style.top = pos.y + \"px\";\n\t\t\tdd.marker.style.left = pos.x - 1 + markerStartPosition + \"px\";\n\t\t\tdd.marker.style.width = marker_width + \"px\";\n\n\t\t\tgrid.callEvent(\"onColumnResize\", [index, columns[index], marker_width - 1]);\n\t\t\treturn true;\n\t\t}, gantt),\n\n\t\tcolumn_drag_end: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\t\t\tvar columns = grid.getGridColumns(),\n\t\t\t\tcolumns_width = 0,\n\t\t\t\tindex = parseInt(dnd.config.drag_index, 10),\n\t\t\t\ttarget_column = columns[index];\n\n\t\t\t// var colIndex = index;\n\t\t\t/*if(config.rtl){\n\t\t\t\tcolIndex = columns.length - 1 - target_index;\n\t\t\t\tcolumns = columns.reverse();\n\t\t\t}*/\n\n\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\tcolumns_width += columns[i].width;\n\t\t\t}\n\n\t\t\tvar final_width = (target_column.min_width && (dnd.config.left - columns_width) < target_column.min_width) ?\n\t\t\t\ttarget_column.min_width : (dnd.config.left - columns_width);\n\n\t\t\tif (target_column.max_width && target_column.max_width < final_width) // TODO: probably can be omitted\n\t\t\t\tfinal_width = target_column.max_width;\n\n\t\t\tif (grid.callEvent(\"onColumnResizeEnd\", [index, target_column, final_width]) === false)\n\t\t\t\treturn;\n\n\t\t\tif (target_column.width == final_width)\n\t\t\t\treturn;\n\n\t\t\ttarget_column.width = final_width;\n\n\t\t\tif (config.keep_grid_width) {\n\t\t\t\tcolumns_width = config.grid_width;\n\t\t\t} else {\n\t\t\t\t// in other case we set a new grid width and call gantt render\n\t\t\t\tfor (var i = index, l = columns.length; i < l; i++) {\n\t\t\t\t\tcolumns_width += columns[i].width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgrid.callEvent(\"onColumnResizeComplete\", [columns, grid._setColumnsWidth(columns_width, index)]);\n\n\t\t\tif(!grid.$config.scrollable){\n\t\t\t\tgantt.$layout._syncCellSizes(grid.$config.group, config.grid_width);\n\t\t\t}\n\t\t\t//grid.callEvent(\"onColumnResizeComplete\", [columns, columns_width]);\n\n\t\t\tthis.render();\n\t\t}, gantt)\n\t};\n\n// calls the initialization of the D'n'D events for resize elements\n\tvar _init_resize = function () {\n\t\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\t\tvar config = grid.$getConfig();\n\n\t\tvar dnd = new DnD(grid.$grid_scale, {updates_per_second: 60});\n\t\tif (gantt.defined(config.dnd_sensitivity))\n\t\t\tdnd.config.sensitivity = config.dnd_sensitivity;\n\n\t\tdnd.attachEvent(\"onBeforeDragStart\", function (obj, e) {\n\t\t\treturn _grid_resize.column_before_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onAfterDragStart\", function (obj, e) {\n\t\t\treturn _grid_resize.column_after_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragMove\", function (obj, e) {\n\t\t\treturn _grid_resize.column_drag_move(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragEnd\", function (obj, e) {\n\t\t\treturn _grid_resize.column_drag_end(dnd, obj, e);\n\t\t});\n\n\t};\n\n\treturn {\n\t\tinit: _init_resize,\n\t\tdoOnRender: _render_grid_header_resize\n\t};\n}\n\nmodule.exports = createResizer;","var utils = require(\"../../../utils/utils\"),\n\tenv = require(\"../../../utils/env\");\n\nvar createStaticBgHelper = function(utils, env){\n\n\tvar canvasBgCache = {};\n\tvar staticBgStyleId = \"gantt-static-bg-styles-\" + utils.uid();\n\n\tfunction renderBgCanvas(targetNode, config, scale, totalHeight) {\n\t\tif (!config.static_background) return;\n\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tif (!canvas.getContext) return; // if canvas is not supported (for IE8)\n\n\t\t// clear previous bg data\n\t\ttargetNode.innerHTML = \"\";\n\n\t\tvar styleParams = getCellStyles(targetNode);\n\t\tvar png = createBackgroundTiles(styleParams, config, scale);\n\t\tvar bgDivs = createBgDivs(png, config, scale, totalHeight);\n\n\t\tvar fragment = document.createDocumentFragment();\n\n\t\tbgDivs.forEach(function (div) {\n\t\t\tfragment.appendChild(div);\n\t\t});\n\n\t\ttargetNode.appendChild(fragment);\n\t}\n\n\tfunction getColumnWidths(scale) {\n\t\tvar widths = scale.width;\n\t\tvar differentWidths = {};\n\t\tfor (var i = 0; i < widths.length; i++) {\n\t\t\tif (widths[i] * 1)\n\t\t\t\tdifferentWidths[widths[i]] = true;\n\t\t}\n\t\treturn differentWidths;\n\t}\n\n\tfunction parseRgb(rgbCss) {\n\t\tvar result = /^rgba?\\(([\\d]{1,3}), *([\\d]{1,3}), *([\\d]{1,3}) *(,( *[\\d.]+ *))?\\)$/i.exec(rgbCss);\n\t\treturn result ? {\n\t\t\tr: result[1] * 1,\n\t\t\tg: result[2] * 1,\n\t\t\tb: result[3] * 1,\n\t\t\ta: (result[5] * 255) || 255\n\t\t} : null;\n\t}\n\n\tfunction getUrlFromCache(key) {\n\t\treturn canvasBgCache[key] || null;\n\t}\n\n\tfunction getHashKey(width, height, cellStyles) {\n\t\treturn (width + '' + height + cellStyles.bottomBorderColor + cellStyles.rightBorderColor).replace(/[^\\w\\d]/g, '');\n\t}\n\n\tfunction getStyleElement() {\n\t\tvar style = document.getElementById(staticBgStyleId);\n\n\t\tif (!style) {\n\t\t\tstyle = document.createElement(\"style\");\n\t\t\tstyle.id = staticBgStyleId;\n\t\t\tdocument.body.appendChild(style);\n\t\t}\n\t\treturn style;\n\t}\n\n\tfunction cleanup() {\n\t\tvar style = document.getElementById(staticBgStyleId);\n\t\tif (style && style.parentNode) {\n\t\t\tstyle.parentNode.removeChild(style);\n\t\t}\n\t}\n\n\tfunction cacheUrl(key, url) {\n\t\tcanvasBgCache[key] = url;\n\t}\n\n\tfunction generateBgUrl(width, height, cellStyles) {\n\t\t// use relatively big bg image about 500*500px in order to reduce misalignments due browser zoom\n\t\tvar cols = Math.floor(500 / width) || 1;\n\t\tvar rows = Math.floor(500 / height) || 1;\n\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tcanvas.height = height * rows;\n\t\tcanvas.width = width * cols;\n\n\t\tvar context = canvas.getContext(\"2d\");\n\n\t\tdrawGrid(height, width, rows, cols, context, cellStyles);\n\n\t\treturn canvas.toDataURL();\n\n\t\tfunction drawGrid(rowHeight, colWidth, rows, cols, context, styles) {\n\t\t\t// paint pixels manually instead of using lineTo in order to prevent canvas aliasing\n\t\t\tvar image = context.createImageData(colWidth * cols, rowHeight * rows);\n\t\t\timage.imageSmoothingEnabled = false;\n\n\t\t\tvar verticalLineWidth = styles.rightBorderWidth * 1;\n\t\t\tvar verticalLineColor = parseRgb(styles.rightBorderColor);\n\n\t\t\tvar x = 0,\n\t\t\t\ty = 0,\n\t\t\t\tw = 0;\n\n\t\t\tfor (var col = 1; col <= cols; col++) {\n\t\t\t\tx = col * colWidth - 1;\n\t\t\t\tfor (w = 0; w < verticalLineWidth; w++) {\n\t\t\t\t\tfor (y = 0; y < rowHeight * rows; y++) {\n\t\t\t\t\t\tdrawDot(x - w, y, verticalLineColor, image);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar horizontalLineWidth = styles.bottomBorderWidth * 1;\n\t\t\tvar horizontalLineColor = parseRgb(styles.bottomBorderColor);\n\n\t\t\ty = 0;\n\t\t\tfor (var row = 1; row <= rows; row++) {\n\t\t\t\ty = row * rowHeight - 1;\n\t\t\t\tfor (w = 0; w < horizontalLineWidth; w++) {\n\t\t\t\t\tfor (x = 0; x < colWidth * cols; x++) {\n\t\t\t\t\t\tdrawDot(x, y - w, horizontalLineColor, image);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontext.putImageData(image, 0, 0);\n\t\t}\n\n\t\tfunction drawDot(x, y, color, matrix) {\n\t\t\tvar rowLength = width * cols;\n\n\t\t\tvar index = (y * rowLength + x) * 4;\n\n\t\t\tmatrix.data[index] = color.r;\n\t\t\tmatrix.data[index + 1] = color.g;\n\t\t\tmatrix.data[index + 2] = color.b;\n\t\t\tmatrix.data[index + 3] = color.a;\n\t\t}\n\t}\n\n\tfunction getCssClass(key) {\n\t\treturn \"gantt-static-bg-\" + key;\n\t}\n\n\tfunction createBackgroundTiles(cellStyles, config, scale) {\n\t\tvar data = {};\n\t\tvar widths = getColumnWidths(scale),\n\t\t\theight = config.row_height;\n\n\t\tvar styleHTML = \"\";\n\t\tfor (var i in widths) {\n\n\t\t\tvar width = i * 1;\n\t\t\tvar key = getHashKey(width, height, cellStyles);\n\t\t\tvar cachedUrl = getUrlFromCache(key);\n\n\t\t\tif (!cachedUrl) {\n\t\t\t\tvar bgImage = generateBgUrl(width, height, cellStyles);\n\t\t\t\tcacheUrl(key, bgImage);\n\t\t\t\tstyleHTML += \".\" + getCssClass(key) + \"{ background-image: url('\" + bgImage + \"');}\";\n\t\t\t}\n\n\t\t\tdata[i] = getCssClass(key);\n\t\t}\n\n\t\tif (styleHTML) {\n\t\t\tvar style = getStyleElement();\n\t\t\tstyle.innerHTML += styleHTML;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tfunction createBgDivs(bgTiles, config, scale, dataHeight) {\n\t\tvar divs = [];\n\t\tvar tile,\n\t\t\tprevWidth = 0,\n\t\t\tprevCell;\n\n\t\tvar widths = scale.width.filter(function (i) {\n\t\t\treturn !!i;\n\t\t});\n\n\t\tvar leftPos = 0;\n\n\t\t//TODO: fixme\n\t\t// bg image misalignments on horizontal scroll on very large time scales, especially in IE/Edge browsers\n\t\t// limiting max tile width seems to solve the issue, but can increase rendering time\n\t\tvar maxTileSize = 100000;\n\t\tif (env.isIE) {\n\t\t\t// special case for IE11 on win7x and probably 8x\n\t\t\tvar appVersion = navigator.appVersion || \"\";\n\t\t\tif (appVersion.indexOf(\"Windows NT 6.2\") != -1 ||\n\t\t\t\tappVersion.indexOf(\"Windows NT 6.1\") != -1 ||\n\t\t\t\tappVersion.indexOf(\"Windows NT 6.0\") != -1) {\n\n\t\t\t\tmaxTileSize = 20000;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < widths.length; i++) {\n\t\t\t//var currentWidth = cells[i].clientWidth;\n\t\t\tvar cell = widths[i];\n\n\t\t\tif ((cell != prevCell && prevCell !== undefined) || (i == widths.length - 1) || (prevWidth > maxTileSize)) {\n\n\t\t\t\tvar totalHeight = dataHeight,\n\t\t\t\t\tcurrentTop = 0,\n\t\t\t\t\trowHeight = Math.floor(maxTileSize / config.row_height) * config.row_height;\n\n\t\t\t\tvar tileWidth = prevWidth;\n\n\t\t\t\twhile (totalHeight > 0) {\n\t\t\t\t\tvar currentHeight = Math.min(totalHeight, rowHeight);\n\t\t\t\t\ttotalHeight -= rowHeight;\n\n\t\t\t\t\ttile = document.createElement(\"div\");\n\n\t\t\t\t\ttile.style.height = currentHeight + \"px\";\n\t\t\t\t\ttile.style.position = \"absolute\";\n\t\t\t\t\ttile.style.top = currentTop + \"px\";\n\t\t\t\t\ttile.style.left = leftPos + \"px\";\n\t\t\t\t\ttile.style.pointerEvents = \"none\";\n\n\t\t\t\t\ttile.style.whiteSpace = \"no-wrap\";\n\t\t\t\t\ttile.className = bgTiles[prevCell || cell];\n\n\t\t\t\t\t// if last - short by 1 px (bug fix)\n\t\t\t\t\tif (i == widths.length - 1) {\n\t\t\t\t\t\ttileWidth = cell + tileWidth - 1;\n\t\t\t\t\t}\n\t\t\t\t\ttile.style.width = tileWidth + \"px\";\n\n\t\t\t\t\tdivs.push(tile);\n\t\t\t\t\tcurrentTop += currentHeight;\n\t\t\t\t}\n\t\t\t\tprevWidth = 0;\n\t\t\t\tleftPos += tileWidth;\n\n\t\t\t\t//cell = 0;\n\t\t\t}\n\t\t\tif (cell) {\n\t\t\t\tprevWidth += cell;\n\t\t\t\tprevCell = cell;\n\t\t\t}\n\n\t\t}\n\n\t\treturn divs;\n\t}\n\n\tfunction getCellStyles(targetNode) {\n\t\t// creating temp DOM structure for resolving style parameters. Will be removed after calculating.\n\t\tvar cell = document.createElement(\"div\");\n\t\tcell.className = \"gantt_task_cell\";\n\t\tvar row = document.createElement(\"div\");\n\t\trow.className = \"gantt_task_row\";\n\t\trow.appendChild(cell);\n\t\ttargetNode.appendChild(row);\n\n\t\tvar rowStyles = getComputedStyle(row),\n\t\t\tcellStyles = getComputedStyle(cell);\n\n\t\tvar params = {\n\t\t\tbottomBorderWidth: rowStyles.getPropertyValue(\"border-bottom-width\").replace(\"px\", \"\"),\n\t\t\trightBorderWidth: cellStyles.getPropertyValue(\"border-right-width\").replace(\"px\", \"\"),\n\t\t\tbottomBorderColor: rowStyles.getPropertyValue(\"border-bottom-color\"),\n\t\t\trightBorderColor: cellStyles.getPropertyValue(\"border-right-color\")\n\t\t};\n\n\t\ttargetNode.removeChild(row);\n\n\t\treturn params;\n\t}\n\n\treturn {\n\t\trender: renderBgCanvas,\n\t\tdestroy: cleanup\n\t};\n};\n\nmodule.exports = {\n\tcreate: function(){\n\t\treturn createStaticBgHelper(utils, env);\n\t}\n};\n\n","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tenv = require(\"../../../utils/env\"),\n\tCell = require(\"./cell\");\n\nvar ScrollbarCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ScrollbarCell, _super);\n\tfunction ScrollbarCell(parent, config, factory, gantt) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tthis.$config = utils.mixin(config, {scroll: \"x\"});\n\t\t_this._scrollHorizontalHandler = utils.bind(_this._scrollHorizontalHandler, _this);\n\t\t_this._scrollVerticalHandler = utils.bind(_this._scrollVerticalHandler, _this);\n\t\t_this._outerScrollVerticalHandler = utils.bind(_this._outerScrollVerticalHandler, _this);\n\t\t_this._outerScrollHorizontalHandler = utils.bind(_this._outerScrollHorizontalHandler, _this);\n\t\t_this._mouseWheelHandler = utils.bind(_this._mouseWheelHandler, _this);\n\n\t\tthis.$config.hidden = true;\n\t\tvar size = gantt.config.scroll_size;\n\n\t\tif(gantt.env.isIE){\n\t\t\t// full element height/width must be bigger than just a browser scrollbar,\n\t\t\t// otherwise the scrollbar element won't be scrolled on click\n\t\t\tsize += 1;\n\t\t}\n\n\t\tif(this._isHorizontal()){\n\t\t\t_this.$config.height = size;\n\t\t\t_this.$parent.$config.height = size;\n\t\t}else{\n\t\t\t_this.$config.width = size;\n\t\t\t_this.$parent.$config.width = size;\n\t\t}\n\n\t\tthis.$config.scrollPosition = 0;\n\n\t\t_this.$name = \"scroller\";\n\t\treturn _this;\n\t}\n\n\tScrollbarCell.prototype.init = function(container){\n\t\tcontainer.innerHTML = this.$toHTML();\n\t\tthis.$view = container.firstChild;\n\n\t\tif(!this.$view){\n\t\t\tthis.init();\n\t\t}\n\t\tif(this._isVertical()){\n\t\t\tthis._initVertical();\n\t\t}else{\n\t\t\tthis._initHorizontal();\n\t\t}\n\t\tthis._initMouseWheel();\n\t\tthis._initLinkedViews();\n\t};\n\n\tScrollbarCell.prototype.$toHTML = function () {\n\t\tvar className = this._isHorizontal() ? \"gantt_hor_scroll\" : \"gantt_ver_scroll\";\n\t\treturn \"<div class='gantt_layout_cell \"+className+\"'><div style='\"+(this._isHorizontal() ? \"width:2000px\" : \"height:2000px\")+\"'></div></div>\";\n\t};\n\n\tScrollbarCell.prototype._getRootParent = function(){\n\t\tvar parent = this.$parent;\n\t\twhile(parent && parent.$parent){\n\t\t\tparent = parent.$parent;\n\t\t}\n\t\tif(parent){\n\t\t\treturn parent;\n\t\t}\n\t};\n\n\n\tfunction eachCell(root, res){\n\t\tres.push(root);\n\t\tif(root.$cells){\n\t\t\tfor(var i = 0; i < root.$cells.length; i++){\n\t\t\t\teachCell(root.$cells[i], res);\n\t\t\t}\n\t\t}\n\t}\n\tScrollbarCell.prototype._eachView = function(){\n\t\tvar res = [];\n\t\teachCell(this._getRootParent(), res);\n\t\treturn res;\n\t};\n\n\tScrollbarCell.prototype._getLinkedViews = function(){\n\t\tvar views = this._eachView();\n\t\tvar res = [];\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].$config && ((this._isVertical() && views[i].$config.scrollY == this.$id) || (this._isHorizontal() && views[i].$config.scrollX == this.$id)) ){\n\t\t\t\tres.push(views[i]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\n\tScrollbarCell.prototype._initHorizontal = function(){\n\t\tthis.$scroll_hor = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollHorizontalHandler);\n\n\t};\n\n\tScrollbarCell.prototype._initLinkedViews = function(){\n\t\tvar views = this._getLinkedViews();\n\t\tvar css = this._isVertical() ?\"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical\" : \"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal\";\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\t//views[i].$config.css = [views[i].$config.css || \"\", css].join(\" \");\n\t\t\tdomHelpers.addClassName(views[i].$view || views[i].getNode(), css);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._initVertical = function(){\n\t\tthis.$scroll_ver = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollVerticalHandler);\n\t};\n\n\tScrollbarCell.prototype._updateLinkedViews = function(){\n\t};\n\n\tScrollbarCell.prototype._initMouseWheel = function(){\n\t\tvar ff = env.isFF;\n\t\tif (ff)\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"wheel\", this._mouseWheelHandler);\n\t\telse\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"mousewheel\", this._mouseWheelHandler);\n\t};\n\n\n\n\n\tScrollbarCell.prototype.scrollHorizontally = function(left){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_hor.scrollLeft = left;\n\t\tthis.$config.codeScrollLeft = left;\n\t\tleft = this.$scroll_hor.scrollLeft;\n\n\t\tvar views = this._getLinkedViews();\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(left, undefined);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = left;\n\t\tthis.callEvent(\"onScroll\", [oldSize, left, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\tScrollbarCell.prototype.scrollVertically = function(top){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_ver.scrollTop = top;\n\t\ttop = this.$scroll_ver.scrollTop;\n\n\t\tvar views = this._getLinkedViews();\n\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(undefined, top);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = top;\n\t\tthis.callEvent(\"onScroll\", [oldSize, top, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\n\tScrollbarCell.prototype._isVertical = function(){\n\t\treturn this.$config.scroll == \"y\";\n\t};\n\tScrollbarCell.prototype._isHorizontal = function(){\n\t\treturn this.$config.scroll == \"x\";\n\t};\n\tScrollbarCell.prototype._scrollHorizontalHandler = function (e) {\n\t\tif(this._isVertical() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\t//in safari we can catch previous onscroll after setting new value from mouse-wheel event\n\t\t//set delay to prevent value drifiting\n\t\tif ((new Date()) - ( this._wheel_time || 0 ) < 100) return true;\n\t\tif (this.$gantt._touch_scroll_active) return;\n\t\tvar left = this.$scroll_hor.scrollLeft;\n\n\t\tthis.scrollHorizontally(left);\n\n\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t};\n\tScrollbarCell.prototype._outerScrollHorizontalHandler = function(e){\n\t\tif(this._isVertical()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.show = function(){\n\t\tthis.$parent.show();\n\t};\n\tScrollbarCell.prototype.hide = function(){\n\t\tthis.$parent.hide();\n\t};\n\n\tScrollbarCell.prototype._getScrollSize = function(){\n\t\tvar scrollSize = 0;\n\t\tvar outerSize = 0;\n\t\tvar isHorizontal = this._isHorizontal();\n\n\t\tvar linked = this._getLinkedViews();\n\t\tvar view;\n\t\tvar scrollProperty = isHorizontal ? \"scrollWidth\" : \"scrollHeight\",\n\t\t\tinnerSizeProperty = isHorizontal ? \"contentX\" : \"contentY\";\n\t\tvar outerProperty = isHorizontal ? \"x\" : \"y\";\n\t\tvar offset = this._getScrollOffset();\n\n\t\tfor(var i = 0; i < linked.length; i++){\n\t\t\tview = linked[i];\n\t\t\tif(!(view && view.$content && view.$content.getSize && !view.$config.hidden)) continue;\n\n\t\t\tvar sizes = view.$content.getSize();\n\t\t\tvar cellScrollSize;\n\t\t\tif(sizes.hasOwnProperty(scrollProperty)){\n\t\t\t\tcellScrollSize = sizes[scrollProperty];\n\t\t\t}else{\n\t\t\t\tcellScrollSize = sizes[innerSizeProperty];\n\t\t\t}\n\n\t\t\tif(offset){\n\t\t\t\t// precalculated vertical/horizontal offsets of scrollbar to emulate 4.x look\n\t\t\t\tif(sizes[innerSizeProperty] > sizes[outerProperty] && sizes[innerSizeProperty] > scrollSize && (cellScrollSize > (sizes[outerProperty] - offset + 2))){\n\t\t\t\t\tscrollSize = cellScrollSize + (isHorizontal ? 0 : 2);\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar nonScrollableSize = Math.max(sizes[innerSizeProperty] - cellScrollSize, 0);\n\t\t\t\tvar scrollableViewPortSize = Math.max(sizes[outerProperty] - nonScrollableSize, 0);\n\t\t\t\tcellScrollSize = cellScrollSize + nonScrollableSize;\n\n\t\t\t\tif(cellScrollSize > scrollableViewPortSize && (cellScrollSize > scrollSize) ){\n\t\t\t\t\t//|| (cellScrollSize === scrollSize && sizes[outerProperty] < outerSize) // same scroll width but smaller scrollable view port\n\n\t\t\t\t\tscrollSize = cellScrollSize;\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\touterScroll: outerSize,\n\t\t\tinnerScroll: scrollSize\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.scroll = function(position){\n\t\tif(this._isHorizontal()){\n\t\t\tthis.scrollHorizontally(position);\n\t\t}else{\n\t\t\tthis.scrollVertically(position);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.getScrollState = function(){\n\t\treturn {\n\t\t\tvisible: this.isVisible(),\n\t\t\tdirection: this.$config.scroll,\n\t\t\tsize: this.$config.outerSize,\n\t\t\tscrollSize: this.$config.scrollSize || 0,\n\t\t\tposition: this.$config.scrollPosition || 0\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.setSize = function(width, height){\n\t\t_super.prototype.setSize.apply(this, arguments);\n\n\t\tvar scrollSizes = this._getScrollSize();\n\n\t\tvar ownSize = (this._isVertical() ? height : width) - this._getScrollOffset() + (this._isHorizontal() ? 1 : 0);\n\n\t\tif(scrollSizes.innerScroll && ownSize > scrollSizes.outerScroll){\n\t\t\tscrollSizes.innerScroll += (ownSize - scrollSizes.outerScroll);\n\t\t}\n\t\tthis.$config.scrollSize = scrollSizes.innerScroll;\n\n\t\tthis.$config.width = width;\n\t\tthis.$config.height = height;\n\t\tthis._setScrollSize(scrollSizes.innerScroll);\n\t};\n\n\tScrollbarCell.prototype.isVisible = function(){\n\t\treturn !!(this.$parent && this.$parent.$view.parentNode);\n\t};\n\n\tScrollbarCell.prototype.shouldShow = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn false;\n\t\t}else if(scrollSizes.innerScroll && !(this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.shouldHide = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\n\tScrollbarCell.prototype.toggleVisibility = function(){\n\t\tif(this.shouldHide()){\n\t\t\tthis.hide();\n\t\t}else if(this.shouldShow()){\n\t\t\tthis.show();\n\t\t}\n\t};\n\t\n\tScrollbarCell.prototype._getScaleOffset = function(view){\n\t\tvar offset = 0;\n\t\tif(view && (view.$config.view == \"timeline\" || view.$config.view == \"grid\")){\n\t\t\toffset = view.$content.$getConfig().scale_height;\n\t\t}\n\t\treturn offset;\n\t};\n\n\tScrollbarCell.prototype._getScrollOffset = function(){\n\t\tvar offset = 0;\n\t\tif(this._isVertical()){\n\t\t\tvar parentLayout = this.$parent.$parent;\n\t\t\toffset = Math.max(\n\t\t\t\tthis._getScaleOffset(parentLayout.getPrevSibling(this.$parent.$id)),\n\t\t\t\tthis._getScaleOffset(parentLayout.getNextSibling(this.$parent.$id))\n\t\t\t\t);\n\t\t}else{\n\t\t\tvar linked = this._getLinkedViews();\n\n\t\t\tfor (var i = 0; i < linked.length; i++) {\n\t\t\t\tvar view = linked[i],\n\t\t\t\t\tvparent = view.$parent;\n\t\t\t\tvar cells = vparent.$cells;\n\n\t\t\t\tvar last = cells[cells.length - 1];\n\n\t\t\t\tif (last && last.$config.view == \"scrollbar\" && last.$config.hidden === false) {\n\t\t\t\t\toffset = last.$config.width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\treturn offset || 0;\n\t};\n\n\tScrollbarCell.prototype._setScrollSize = function(size){\n\t\tvar property = this._isHorizontal() ? \"width\" : \"height\";\n\t\tvar scrollbar = this._isHorizontal() ? this.$scroll_hor : this.$scroll_ver;\n\n\t\tvar offset = this._getScrollOffset();\n\n\t\tvar node = scrollbar.firstChild;\n\n\t\tif(offset){\n\t\t\tif(this._isVertical()){\n\n\t\t\t\tthis.$config.outerSize = (this.$config.height - offset + 3);\n\t\t\t\tscrollbar.style.height = this.$config.outerSize + \"px\";\n\t\t\t\tscrollbar.style.top = (offset-1) + \"px\";\n\t\t\t\tdomHelpers.addClassName(scrollbar, this.$parent._borders.top);\n\t\t\t\tdomHelpers.addClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\t}else{\n\t\t\t\tthis.$config.outerSize = (this.$config.width - offset + 1);\n\t\t\t\tscrollbar.style.width = this.$config.outerSize + \"px\";\n\t\t\t\t//domHelpers.addClassName(scrollbar, this.$parent._borders.right);\n\t\t\t}\n\t\t}else{\n\t\t\tscrollbar.style.top = \"auto\";\n\t\t\tdomHelpers.removeClassName(scrollbar, this.$parent._borders.top);\n\t\t\tdomHelpers.removeClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\tthis.$config.outerSize = this.$config.height;\n\t\t}\n\n\t\tnode.style[property] = size + \"px\";\n\t};\n\n\tScrollbarCell.prototype._scrollVerticalHandler = function (e) {\n\t\tif(this._scrollHorizontalHandler() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.$gantt._touch_scroll_active) return;\n\t\tvar top = this.$scroll_ver.scrollTop;\n\t\tvar prev = this._oldTop;\n\t\tif(top == prev) return;\n\n\t\tthis.scrollVertically(top);\n\n\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\n\t};\n\tScrollbarCell.prototype._outerScrollVerticalHandler = function(e){\n\t\tif(this._scrollHorizontalHandler()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._checkWheelTarget = function(targetNode){\n\t\tvar connectedViews = this._getLinkedViews().concat(this);\n\n\t\tfor(var i = 0; i < connectedViews.length; i++){\n\t\t\tvar node = connectedViews[i].$view;\n\t\t\tif(domHelpers.isChildOf(targetNode, node)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tScrollbarCell.prototype._mouseWheelHandler = function(e){\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(!this._checkWheelTarget(target))\n\t\t\treturn;\n\n\t\tthis._wheel_time = new Date();\n\n\t\tvar res = {};\n\t\tvar ff = env.isFF;\n\t\tvar wx = ff ? (e.deltaX*-20) : e.wheelDeltaX*2;\n\t\tvar wy = ff ? (e.deltaY*-40) : e.wheelDelta;\n\n\t\tif(e.shiftKey && !(e.deltaX || e.wheelDeltaX)){\n\t\t\t// shift+mousewheel for horizontal scroll\n\t\t\twx = wy*2;\n\t\t\twy = 0;\n\t\t}\n\n\t\tif (wx && Math.abs(wx) > Math.abs(wy)){\n\t\t\tif(this._isVertical()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.x) return true;//no horisontal scroll, must not block scrolling\n\t\t\tif(!this.$scroll_hor || !this.$scroll_hor.offsetWidth) return true;\n\n\t\t\tvar dir  = wx/-40;\n\t\t\tvar oldLeft = this._oldLeft;\n\t\t\tvar left = oldLeft+dir*30;\n\t\t\tthis.scrollHorizontally(left);\n\t\t\tthis.$scroll_hor.scrollLeft = left;\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldLeft == this.$scroll_hor.scrollLeft){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t\t} else {\n\t\t\tif(this._isHorizontal()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.y) return true;//no vertical scroll, must not block scrolling\n\t\t\tif(!this.$scroll_ver || !this.$scroll_ver.offsetHeight) return true;\n\n\t\t\tvar dir  = wy/-40;\n\t\t\tif (typeof wy == \"undefined\")\n\t\t\t\tdir = e.detail;\n\n\t\t\tvar oldTop = this._oldTop;\n\t\t\tvar top = this.$scroll_ver.scrollTop+dir*30;\n\n\t\t\t//if(!this.$gantt.config.prevent_default_scroll &&\n\t\t\t//\t(this.$gantt._cached_scroll_pos && ((this.$gantt._cached_scroll_pos.y == top) || (this.$gantt._cached_scroll_pos.y <= 0 && top <= 0)))) return true;\n\n\n\t\t\tthis.scrollVertically(top);\n\t\t\tthis.$scroll_ver.scrollTop = top;\n\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldTop == this.$scroll_ver.scrollTop){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\t\t}\n\n\t\tif (e.preventDefault)\n\t\t\te.preventDefault();\n\t\te.cancelBubble=true;\n\t\treturn false;\n\t};\n\n\treturn ScrollbarCell;\n})(Cell);\n\nmodule.exports = ScrollbarCell;","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tCell = require(\"./cell\");\n\nvar ResizerCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ResizerCell, _super);\n\tfunction ResizerCell(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tvar startBackSize, startFrontSize;\n\n\t\t_this._moveHandler = function (e) {\n\t\t\t_this._moveResizer(_this._resizer, e.pageX, e.pageY);\n\t\t};\n\t\t_this._upHandler = function () {\n\t\t\tvar newSizes = _this._getNewSizes();\n\t\t\tif(_this.callEvent(\"onResizeEnd\", [startBackSize, startFrontSize, newSizes ? newSizes.back : 0, newSizes ? newSizes.front : 0]) !== false){\n\t\t\t\t_this._setSizes();\n\t\t\t}\n\n\t\t\t_this._setBackground(false);\n\t\t\t_this._clearResizer();\n\t\t\t_this._clearListeneres();\n\t\t};\n\n\t\t_this._clearListeneres = function(){\n\t\t\tthis.$domEvents.detach(document, \"mouseup\", _this._upHandler);\n\t\t\tthis.$domEvents.detach(document, \"mousemove\", _this._moveHandler);\n\t\t\tthis.$domEvents.detach(document, \"mousemove\", _this._startOnMove);\n\t\t\tthis.$domEvents.detach(document, \"mouseup\", _this._cancelDND);\n\t\t};\n\n\t\t_this._callStartDNDEvent = function(){\n\t\t\tif (this._xMode) {\n\t\t\t\tstartBackSize = this._behind.$config.width || this._behind.$view.offsetWidth;\n\t\t\t\tstartFrontSize = this._front.$config.width || this._front.$view.offsetWidth;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstartBackSize = this._behind.$config.height || this._behind.$view.offsetHeight;\n\t\t\t\tstartFrontSize = this._front.$config.height || this._front.$view.offsetHeight;\n\t\t\t}\n\n\t\t\tif(_this.callEvent(\"onResizeStart\", [startBackSize, startFrontSize]) === false){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\t_this._startDND = function(e){\n\t\t\tvar res = this._callStartDNDEvent();\n\t\t\tif(res === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar stop = false;\n\t\t\tthis._eachGroupItem(function(resizer){\n\t\t\t\tresizer._getSiblings();\n\t\t\t\tif(resizer._callStartDNDEvent() === false){\n\t\t\t\t\tstop = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(stop){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_this._moveHandler(e);\n\n\t\t\t_this.$domEvents.attach(document, \"mousemove\", _this._moveHandler);\n\t\t\t_this.$domEvents.attach(document, \"mouseup\", _this._upHandler);\n\t\t};\n\n\t\t_this._cancelDND = function(){\n\t\t\t_this._setBackground(false);\n\t\t\t_this._clearResizer();\n\t\t\t_this._clearListeneres();\n\t\t};\n\n\t\t_this._startOnMove = function(e){\n\t\t\tif(_this._isPosChanged(e)){\n\t\t\t\t_this._clearListeneres();\n\t\t\t\t_this._startDND(e);\n\t\t\t}\n\t\t};\n\n\t\t_this._downHandler = function (e) {\n\t\t\t_this._getSiblings();\n\n\t\t\tif (_this._behind.$config.collapsed || _this._front.$config.collapsed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_this._setBackground(true);\n\t\t\t_this._resizer = _this._setResizer();\n\n\t\t\t_this._positions = {\n\t\t\t\tx: e.pageX,\n\t\t\t\ty: e.pageY,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t};\n\n\t\t\t_this.$domEvents.attach(document, \"mousemove\", _this._startOnMove);\n\t\t\t_this.$domEvents.attach(document, \"mouseup\", _this._cancelDND);\n\t\t};\n\t\t_this.$name = \"resizer\";\n\t\treturn _this;\n\t}\n\tResizerCell.prototype.init = function () {\n\t\tvar _this = this;\n\t\t_super.prototype.init.call(this);\n\t\tthis._xMode = this.$config.mode === \"x\";\n\t\tif (this._xMode && !this.$config.width) {\n\t\t\tthis.$config.width = this.$config.minWidth = 1;\n\t\t}\n\t\telse if (!this._xMode && !this.$config.height) {\n\t\t\tthis.$config.height = this.$config.minHeight = 1;\n\t\t}\n\n\t\tthis.$config.margin = -1;\n\n\t\tthis.$domEvents.attach(this.$view, \"mousedown\", _this._downHandler);\n\n\t};\n\tResizerCell.prototype.$toHTML = function () {\n\t\tvar mode = this.$config.mode;\n\t\tvar css = this.$config.css || \"\";\n\t\treturn \"<div class='gantt_layout_cell gantt_resizer gantt_resizer_\"+mode+\"'><div class='gantt_layout_content gantt_resizer_\" + mode + (css ? (\" \" + css) : \"\") + \"'></div></div>\";\n\t};\n\n\tResizerCell.prototype._clearResizer = function(){\n\t\tif(this._resizer){\n\t\t\tif(this._resizer.parentNode){\n\t\t\t\tthis._resizer.parentNode.removeChild(this._resizer);\n\t\t\t}\n\t\t\tthis._resizer = null;\n\t\t}\n\t};\n\n\tResizerCell.prototype._isPosChanged = function(e){\n\t\tif(!this._positions){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(Math.abs(this._positions.x - e.pageX) > 3 || Math.abs(this._positions.y - e.pageY) > 3){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(Date.now() - this._positions.timestamp > 300){\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tResizerCell.prototype._getSiblings = function () {\n\t\tvar cells = this.$parent.getCells();\n\n\t\tif(this.$config.prev){\n\t\t\tthis._behind = this.$factory.getView(this.$config.prev);\n\t\t\tif(!(this._behind instanceof Cell)){\n\t\t\t\tthis._behind = this._behind.$parent;\n\t\t\t}\n\t\t}\n\t\tif(this.$config.next){\n\t\t\tthis._front = this.$factory.getView(this.$config.next);\n\t\t\tif(!(this._front instanceof Cell)){\n\t\t\t\tthis._front = this._behind.$parent;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tif (this === cells[i]) {\n\t\t\t\tif(!this._behind)\n\t\t\t\t\tthis._behind = cells[i - 1];\n\t\t\t\tif(!this._front)\n\t\t\t\t\tthis._front = cells[i + 1];\n\t\t\t}\n\t\t}\n\t};\n\tResizerCell.prototype._setBackground = function (state) {\n\t\tvar classes = \"gantt_resizing\";\n\t\tif (!state) {\n\t\t\tdomHelpers.removeClassName(this._behind.$view, classes);\n\t\t\tdomHelpers.removeClassName(this._front.$view, classes);\n\t\t\tdomHelpers.removeClassName(document.body, 'gantt_noselect');\n\t\t\treturn;\n\t\t}\n\t\tdomHelpers.addClassName(this._behind.$view, classes, true);\n\t\tdomHelpers.addClassName(this._front.$view, classes, true);\n\t\tdomHelpers.addClassName(document.body, 'gantt_noselect', true);\n\t};\n\tResizerCell.prototype._setResizer = function () {\n\t\tvar resizer = document.createElement(\"div\");\n\t\tresizer.className = \"gantt_resizer_stick\";\n\t\tthis.$view.appendChild(resizer);\n\t\tthis.$view.style.overflow = \"visible\";\n\t\tresizer.style.height = this.$view.style.height;\n\t\treturn resizer;\n\t};\n\n\tResizerCell.prototype._getDirection = function(x, y){\n\t\tvar shift;\n\t\tif (this._xMode) {\n\t\t\tshift = x - this._positions.x;\n\t\t}else{\n\t\t\tshift = y - this._positions.y;\n\t\t}\n\t\treturn shift ? shift < 0 ? -1 : 1 : 0;\n\t};\n\n\tResizerCell.prototype._getResizePosition = function(x, y){\n\t\tvar size;\n\t\tvar behindSide;\n\t\tvar behindMin;\n\t\tvar frontSide;\n\t\tvar frontMin;\n\t\tif (this._xMode) {\n\t\t\tsize = x - this._positions.x;\n\t\t\tbehindSide = this._behind.$config.width || this._behind.$view.offsetWidth;\n\t\t\tfrontSide = this._front.$config.width || this._front.$view.offsetWidth;\n\t\t\tbehindMin = this._behind.$config.minWidth;\n\t\t\tfrontMin = this._front.$config.minWidth;\n\t\t}\n\t\telse {\n\t\t\tsize = y - this._positions.y;\n\t\t\tbehindSide = this._behind.$config.height || this._behind.$view.offsetHeight;\n\t\t\tfrontSide = this._front.$config.height || this._front.$view.offsetHeight;\n\t\t\tbehindMin = this._front.$config.minHeight;\n\t\t\tfrontMin = this._front.$config.minHeight;\n\t\t}\n\t\tvar direction = this._getDirection(x, y);\n\t\tvar newBehindSide,\n\t\t\tnewFrontSide;\n\n\t\tif (direction === -1) {\n\t\t\tnewFrontSide = frontSide - size;\n\t\t\tnewBehindSide = behindSide - Math.abs(size);\n\n\t\t\tif (frontSide - size > this._front.$config.maxWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (Math.abs(size) >= behindSide) {\n\t\t\t\tsize = -Math.abs(behindSide - 2);\n\t\t\t}\n\t\t\t// if min width\n\t\t\tif (behindSide - Math.abs(size) <= behindMin) {\n\t\t\t\t//this._resizer.style.background = \"red\";\n\t\t\t\tsize = -Math.abs(behindSide - behindMin);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tnewFrontSide = frontSide - Math.abs(size);\n\t\t\tnewBehindSide = behindSide + size;\n\n\t\t\tif (behindSide + size > this._behind.$config.maxWidth) {\n\t\t\t\tsize = this._behind.$config.maxWidth - behindSide;\n\t\t\t\t// return;\n\t\t\t}\n\t\t\tif (Math.abs(size) >= frontSide) {\n\t\t\t\tsize = frontSide - 2;\n\t\t\t}\n\t\t\t// if min width\n\t\t\tif (frontSide - Math.abs(size) <= frontMin) {\n\t\t\t\tsize = Math.abs(frontSide - frontMin);\n\t\t\t}\n\t\t}\n\n\t\tif (direction === -1) {\n\t\t\tnewFrontSide = frontSide - size;\n\t\t\tnewBehindSide = behindSide - Math.abs(size);\n\t\t} else {\n\t\t\tnewFrontSide = frontSide - Math.abs(size);\n\t\t\tnewBehindSide = behindSide + size;\n\t\t}\n\n\t\treturn {\n\t\t\tsize: size,\n\t\t\tnewFrontSide: newFrontSide,\n\t\t\tnewBehindSide: newBehindSide\n\t\t};\n\t};\n\n\tResizerCell.prototype._getGroupName = function(){\n\t\tthis._getSiblings();\n\t\treturn this._front.$config.group || this._behind.$config.group;\n\t};\n\n\tResizerCell.prototype._eachGroupItem = function(callback, master){\n\t\tvar layout = this.$factory.getView(\"main\");\n\n\t\tvar group = this._getGroupName();\n\n\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\t\tfor(var i = 0; i < resizers.length; i++) {\n\t\t\tif (resizers[i]._getGroupName() == group && resizers[i] != this) {\n\t\t\t\tcallback.call(master || this, resizers[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tResizerCell.prototype._getGroupResizePosition = function(x, y){\n\t\tvar sizes = this._getResizePosition(x, y);\n\n\t\tif(!this._getGroupName()){\n\t\t\treturn sizes;\n\t\t}\n\n\t\tvar positions = [sizes];\n\n\t\tthis._eachGroupItem(function(resizer){\n\t\t\tresizer._getSiblings();\n\t\t\tvar pos = utils.copy(this._positions);\n\t\t\tif(this._xMode){\n\t\t\t\tpos.x += (resizer._behind.$config.width - this._behind.$config.width);\n\t\t\t}else{\n\t\t\t\tpos.y += (resizer._behind.$config.height - this._behind.$config.height);\n\t\t\t}\n\t\t\tresizer._positions = pos;\n\t\t\tpositions.push(resizer._getResizePosition(x, y));\n\t\t});\n\n\t\tvar minMax;\n\t\tfor(var i =0; i < positions.length; i++){\n\t\t\tif(!positions[i]) return;\n\t\t\tif(minMax === undefined){\n\t\t\t\tminMax = positions[i];\n\t\t\t}else if(positions[i].newBehindSide > minMax.newBehindSide){\n\t\t\t\tminMax = positions[i];\n\t\t\t}\n\t\t}\n\n\t/*\tif(minMax != sizes){\n\t\t\tminMax.size = minMax.size;\n\t\t}*/\n\n\t\treturn minMax;\n\t};\n\n\tResizerCell.prototype._moveResizer = function (av, x, y) {\n\t\tif (x === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar sizes = this._getGroupResizePosition(x, y);\n\t\tif(!sizes)\n\t\t\treturn;\n\n\t\tif (Math.abs(sizes.size) === 1) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._xMode) {\n\t\t\tav.style.left = sizes.size + 'px';\n\t\t\tthis._positions.nextX = sizes.size || 0;\n\t\t}\n\t\telse {\n\t\t\tav.style.top = sizes.size + 'px';\n\t\t\tthis._positions.nextY = sizes.size || 0;\n\t\t}\n\n\t\tthis.callEvent(\"onResize\", [sizes.newBehindSide, sizes.newFrontSide]);\n\t};\n\tResizerCell.prototype._setGravity = function (cell) {\n\t\tvar size = this._xMode ? \"offsetWidth\" : \"offsetHeight\";\n\t\tvar position = this._xMode ? this._positions.nextX : this._positions.nextY;\n\t\tvar frontSize = this._front.$view[size];\n\t\tvar behindSize = this._behind.$view[size];\n\t\tvar frontG = this._front.getSize().gravity;\n\t\tvar behindG = this._behind.getSize().gravity;\n\t\tvar newFrontG = (frontSize - position) / frontSize * frontG;\n\t\tvar newBehindG = (behindSize + position) / behindSize * behindG;\n\t\tif (cell !== \"front\") {\n\t\t\tthis._front.$config.gravity = newFrontG;\n\t\t}\n\t\tif (cell !== \"behind\") {\n\t\t\tthis._behind.$config.gravity = newBehindG;\n\t\t}\n\t};\n\n/*\tResizerCell.prototype.setSize = function(){\n\t\t_super.apply(this, arguments)\n\t};*/\n\n\tResizerCell.prototype._getNewSizes = function(){\n\t\tvar behindSize = this._xMode ? this._behind.$config.width : this._behind.$config.height;\n\t\tvar frontSize = this._xMode ? this._front.$config.width : this._front.$config.height;\n\t\tvar position = this._xMode ? this._positions.nextX : this._positions.nextY;\n\n\t\tif(!frontSize && !behindSize){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\tfront: frontSize ? ((frontSize - position) || 1) : 0,\n\t\t\tback: behindSize ? ((behindSize + position) || 1) : 0\n\t\t};\n\t};\n\n\tResizerCell.prototype._assignNewSizes = function(newSizes){\n\t\tthis._getSiblings();\n\t\tvar side = this._xMode ? 'width' : 'height';\n\n\t\t// if only gravity cells\n\t\tif (!newSizes) {\n\t\t\tthis._setGravity();\n\t\t}\n\t\telse {\n\t\t\tif (!newSizes.front) {\n\t\t\t\tthis._setGravity(\"behind\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._front.$config[side] = newSizes.front;\n\t\t\t}\n\t\t\tif (!newSizes.back) {\n\t\t\t\tthis._setGravity(\"front\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._behind.$config[side] = newSizes.back;\n\t\t\t}\n\t\t}\n\n\t};\n\n\tResizerCell.prototype._setSizes = function () {\n\t\tif (this._resizer) {\n\t\t\tthis.$view.removeChild(this._resizer);\n\t\t}\n\t\tvar newSizes = this._getNewSizes();\n\n\t\tif (this._positions.nextX || this._positions.nextY) {\n\t\t\tthis._assignNewSizes(newSizes);\n\n\t\t\tvar side = this._xMode ? 'width' : 'height';\n\t\t\tif(this._front.$config.group){\n\t\t\t\tthis.$gantt.$layout._syncCellSizes(this._front.$config.group, this._front.$config[side]);\n\t\t\t}else if(this._behind.$config.group){\n\t\t\t\tthis.$gantt.$layout._syncCellSizes(this._behind.$config.group, this._behind.$config[side]);\n\t\t\t}\n\n\t\t\tif(this._getGroupName()){\n\t\t\t\tthis.$factory.getView(\"main\").resize();\n\t\t\t}else{\n\t\t\t\tthis.$parent.resize();\n\t\t\t}\n\n\t\t}\n\t};\n\treturn ResizerCell;\n}(Cell));\n\nmodule.exports = ResizerCell;","var __extends = require(\"../../../utils/extends\"),\n\tutils = require(\"../../../utils/utils\"),\n\tCell = require(\"./cell\");\n\nvar ViewCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewCell, _super);\n\tfunction ViewCell(parent, config, factory) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(config.view){\n\t\t\tif(config.id){\n\t\t\t\t// pass id to the nested view\n\t\t\t\tthis.$id = utils.uid();\n\t\t\t}\n\t\t\tvar childConfig = utils.copy(config);\n\t\t\tdelete childConfig.config;\n\t\t\tdelete childConfig.templates;\n\n\t\t\tthis.$content = this.$factory.createView(config.view, this, childConfig, this);\n\t\t\tif(!this.$content)\n\t\t\t\treturn false;\n\t\t}\n\n\t\t_this.$name = \"viewCell\";\n\t\treturn _this;\n\t}\n\n\tViewCell.prototype.destructor = function(){\n\t\tthis.clear();\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tViewCell.prototype.clear = function(){\n\n\t\tthis.$initialized = false;\n\n\t\t// call destructor\n\t\tif (this.$content){\n\t\t\tvar method = this.$content.unload || this.$content.destructor;\n\t\t\tif (method){\n\t\t\t\tmethod.call(this.$content);\n\t\t\t}\n\t\t}\n\n\t\t_super.prototype.clear.call(this);\n\n\t};\n\n\tViewCell.prototype.scrollTo = function(left, top){\n\n\t\tif(this.$content && this.$content.scrollTo){\n\t\t\tthis.$content.scrollTo(left, top);\n\t\t}else{\n\t\t\t_super.prototype.scrollTo.call(this, left, top);\n\t\t}\n\t};\n\n\tViewCell.prototype._setContentSize = function(x, y){\n\t\tvar borders = this._getBorderSizes();\n\t\tvar outerX = x + borders.horizontal;\n\t\tvar outerY = y + borders.vertical;\n\t\tthis.$config.width = outerX;\n\t\tthis.$config.height = outerY;\n\t};\n\n\tViewCell.prototype.setSize = function(x, y){\n\t\t_super.prototype.setSize.call(this, x, y);\n\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (!this.$initialized) {\n\t\t\t\tthis.$initialized = true;\n\t\t\t\tvar header = this.$view.childNodes[0];\n\t\t\t\tvar content = this.$view.childNodes[1];\n\t\t\t\tif(!content) content = header;\n\n\t\t\t\t/*if(this.$content.$config){\n\t\t\t\t\tthis.$content.$config.width = this.$lastSize.contentX;\n\t\t\t\t\tthis.$content.$config.height = this.$lastSize.contentY;\n\t\t\t\t}*/\n\t\t\t\tthis.$content.init(content);\n\t\t\t}\n\t\t}\n\t};\n\n\tViewCell.prototype.setContentSize = function(){\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (this.$initialized) {\n\t\t\t\tthis.$content.setSize(this.$lastSize.contentX, this.$lastSize.contentY);\n\t\t\t}\n\t\t}\n\t};\n\n\n\tViewCell.prototype.getContentSize = function(){\n\t\tvar size = _super.prototype.getContentSize.call(this);\n\n\t\tif(this.$content && this.$initialized){\n\t\t\tvar childSize = this.$content.getSize();\n\t\t\tsize.width = childSize.contentX === undefined ? childSize.width : childSize.contentX;\n\t\t\tsize.height = childSize.contentY === undefined ? childSize.height : childSize.contentY;\n\t\t}\n\n\t\tvar borders = this._getBorderSizes();\n\t\tsize.width += borders.horizontal;\n\t\tsize.height += borders.vertical;\n\n\t\treturn size;\n\t};\n\n\treturn ViewCell;\n}(Cell));\n\nmodule.exports = ViewCell;","var __extends = require(\"../../../utils/extends\"),\n\tLayout = require(\"./layout\"),\n\tCell = require(\"./cell\");\n\nvar ViewLayout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewLayout, _super);\n\tfunction ViewLayout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tfor (var i = 0; i < _this.$cells.length; i++) {\n\t\t\t_this.$cells[i].$config.hidden = (i !== 0);\n\t\t}\n\t\t_this.$cell = _this.$cells[0];\n\t\t_this.$name = \"viewLayout\";\n\n\t\treturn _this;\n\t}\n\tViewLayout.prototype.cell = function (id) {\n\t\tvar cell = _super.prototype.cell.call(this, id);\n\t\tif (!cell.$view) {\n\t\t\tthis.$fill(null, this);\n\t\t}\n\t\treturn cell;\n\t};\n\tViewLayout.prototype.moveView = function (view) {\n\t\tvar body = this.$view;\n\t\tif (this.$cell) {\n\t\t\tthis.$cell.$config.hidden = true;\n\t\t\tbody.removeChild(this.$cell.$view);\n\t\t}\n\t\tthis.$cell = view;\n\t\tbody.appendChild(view.$view);\n\t};\n\tViewLayout.prototype.setSize = function (x, y) {\n\t\tCell.prototype.setSize.call(this, x, y);\n\t};\n\n\tViewLayout.prototype.setContentSize = function(){\n\t\tvar size = this.$lastSize;\n\t\tthis.$cell.setSize(size.contentX, size.contentY);\n\t};\n\n\tViewLayout.prototype.getSize = function () {\n\t\tvar sizes = _super.prototype.getSize.call(this);\n\t\tif (this.$cell) {\n\t\t\tvar cellSize = this.$cell.getSize();\n\t\t\tif (this.$config.byMaxSize) {\n\t\t\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\t\t\tvar otherCell = this.$cells[i].getSize();\n\t\t\t\t\tfor (var cell in cellSize) {\n\t\t\t\t\t\tcellSize[cell] = Math.max(cellSize[cell], otherCell[cell]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var size in sizes) {\n\t\t\t\tsizes[size] = sizes[size] || cellSize[size];\n\t\t\t}\n\t\t\tsizes.gravity = Math.max(sizes.gravity, cellSize.gravity);\n\t\t}\n\t\treturn sizes;\n\t};\n\treturn ViewLayout;\n}(Layout));\n\nmodule.exports = ViewLayout;","var rendererFactory = function(gantt){\n\tvar services = gantt.$services;\n\n\t//hash of dom elements is needed to redraw single bar/link\n\tvar task_area_pulls = {},\n\t\ttask_area_renderers = {};\n\n\tfunction getRenderer(id, layer, node) {\n\n\t\tif (task_area_renderers[id])\n\t\t\treturn task_area_renderers[id];\n\n\t\tif (!layer.renderer)\n\t\t\tgantt.assert(false, \"Invalid renderer call\");\n\n\t\tvar renderMethod = null;\n\t\tvar updateMethod = null;\n\n\t\tif(typeof layer.renderer === \"function\"){\n\t\t\trenderMethod = layer.renderer;\n\t\t}else{\n\t\t\trenderMethod = layer.renderer.render;\n\t\t\tupdateMethod = layer.renderer.update;\n\t\t}\n\n\t\tvar renderOne = function(item, viewPort){\n\t\t\tvar rendererViewPort = viewPort;\n\t\t\tif(!rendererViewPort && layer.getViewPort){\n\t\t\t\trendererViewPort = layer.getViewPort();\n\t\t\t}\n\t\t\treturn renderMethod.call(this, item, layer.host, rendererViewPort || null);\n\t\t};\n\n\t\tvar filter = layer.filter;\n\n\t\tif (node)\n\t\t\tnode.setAttribute(services.config().layer_attribute, true);\n\n\t\ttask_area_renderers[id] = {\n\t\t\trender_item: function (item, container, viewPort) {\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tif (!filter(item)) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar dom = renderOne.call(gantt, item, viewPort);\n\t\t\t\tthis.append(item, dom, container);\n\n\t\t\t},\n\n\t\t\tclear: function (container) {\n\n\t\t\t\tthis.rendered = task_area_pulls[id] = {};\n\t\t\t\tif(!layer.append)\n\t\t\t\t\tthis.clear_container(container);\n\t\t\t},\n\t\t\tclear_container: function (container) {\n\t\t\t\tcontainer = container || node;\n\t\t\t\tif (container)\n\t\t\t\t\tcontainer.innerHTML = \"\";\n\t\t\t},\n\t\t\trender_items: function (items, container) {\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tvar buffer = document.createDocumentFragment();\n\t\t\t\tthis.clear(container);\n\t\t\t\tvar viewPort = null;\n\t\t\t\tif(layer.getViewPort){\n\t\t\t\t\tviewPort = layer.getViewPort();\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, vis = items.length; i < vis; i++) {\n\t\t\t\t\tthis.render_item(items[i], buffer, viewPort);\n\t\t\t\t}\n\n\t\t\t\tcontainer.appendChild(buffer, container);\n\t\t\t},\n\t\t\tupdate_items: function (items, container) {\n\t\t\t\tcontainer = container || node;\n\t\t\t\tif(!updateMethod){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar buffer = document.createDocumentFragment();\n\t\t\t\tvar viewPort = null;\n\t\t\t\tif(layer.getViewPort){\n\t\t\t\t\tviewPort = layer.getViewPort();\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, vis = items.length; i < vis; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tvar itemNode = this.rendered[item.id];\n\t\t\t\t\tif (itemNode && itemNode.parentNode) {\n\t\t\t\t\t\tupdateMethod.call(gantt, item, layer.host, this, viewPort);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.render_item(items[i], buffer, viewPort);\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif(buffer.childNodes.length){\n\t\t\t\t\tcontainer.appendChild(buffer, container);\n\t\t\t\t}\n\t\t\t},\n\t\t\tappend: function (item, node, container) {\n\t\t\t\tif (!node) {\n\t\t\t\t\tif (this.rendered[item.id]) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.rendered[item.id] && this.rendered[item.id].parentNode) {\n\t\t\t\t\tthis.replace_item(item.id, node);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t}\n\t\t\t\tthis.rendered[item.id] = node;\n\n\t\t\t},\n\t\t\treplace_item: function (item_id, newNode) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.replaceChild(newNode, item);\n\t\t\t\t}\n\t\t\t\tthis.rendered[item_id] = newNode;\n\t\t\t},\n\t\t\tremove_item: function (item_id) {\n\t\t\t\tthis.hide(item_id);\n\t\t\t\tdelete this.rendered[item_id];\n\t\t\t},\n\t\t\thide: function (item_id) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.removeChild(item);\n\t\t\t\t}\n\t\t\t},\n\t\t\trestore: function (item) {\n\t\t\t\tvar dom = this.rendered[item.id];\n\t\t\t\tif (dom) {\n\t\t\t\t\tif (!dom.parentNode) {\n\t\t\t\t\t\tthis.append(item, dom, node);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.render_item(item, node);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_id: function (oldid, newid) {\n\t\t\t\tthis.rendered[newid] = this.rendered[oldid];\n\t\t\t\tdelete this.rendered[oldid];\n\t\t\t},\n\t\t\trendered: task_area_pulls[id],\n\t\t\tnode: node,\n\t\t\tdestructor: function () {\n\t\t\t\tthis.clear();\n\t\t\t\tdelete task_area_renderers[id];\n\t\t\t\tdelete task_area_pulls[id];\n\t\t\t}\n\t\t};\n\n\t\treturn task_area_renderers[id];\n\t}\n\n\n\tfunction clearRenderers() {\n\t\tfor (var i in task_area_renderers) {\n\t\t\tgetRenderer(i).destructor();\n\t\t}\n\t}\n\n\treturn {\n\t\tgetRenderer: getRenderer,\n\t\tclearRenderers: clearRenderers\n\t};\n\n};\n\nmodule.exports = rendererFactory;","var renderFactoryProvider = require(\"./render_factory\");\nvar utils = require(\"../../../utils/utils\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tisLegacyRender = require(\"./is_legacy_smart_render\");\n\nvar layerFactory = function(gantt){\n\n\tvar renderFactory = renderFactoryProvider(gantt);\n\treturn {\n\tcreateGroup: function (get_container, rel_root, defaultFilters) {\n\n\t\tvar renderGroup = {\n\t\t\ttempCollection: [],\n\t\t\trenderers: {},\n\t\t\tcontainer: get_container,\n\t\t\tfilters: [],\n\t\t\tgetLayers: function () {\n\t\t\t\tthis._add();// add pending layers\n\n\t\t\t\tvar res = [];\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tres.push(this.renderers[i]);\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t},\n\t\t\tgetLayer: function (id) {\n\t\t\t\treturn this.renderers[id];\n\t\t\t},\n\t\t\t_add: function (layer) {\n\t\t\t\tif (layer) {\n\t\t\t\t\tlayer.id = layer.id || utils.uid();\n\t\t\t\t\tthis.tempCollection.push(layer);\n\t\t\t\t}\n\n\t\t\t\tvar container = this.container();\n\n\t\t\t\tvar pending = this.tempCollection;\n\t\t\t\tfor (var i = 0; i < pending.length; i++) {\n\t\t\t\t\tlayer = pending[i];\n\n\t\t\t\t\tif (!this.container() && !(layer && layer.container && domHelpers.isChildOf(layer.container, document.body))) continue;\n\n\t\t\t\t\tvar node = layer.container,\n\t\t\t\t\t\tid = layer.id,\n\t\t\t\t\t\ttopmost = layer.topmost;\n\t\t\t\t\tif (!node.parentNode) {\n\t\t\t\t\t\t//insert on top or below the tasks\n\t\t\t\t\t\tif (topmost) {\n\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar rel = rel_root ? rel_root() : container.firstChild;\n\t\t\t\t\t\t\tif (rel)\n\t\t\t\t\t\t\t\tcontainer.insertBefore(node, rel);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.renderers[id] = renderFactory.getRenderer(\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tlayer,\n\t\t\t\t\t\tnode\n\t\t\t\t\t);\n\t\t\t\t\tthis.tempCollection.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t},\n\t\t\taddLayer: function (config) {\n\t\t\t\t//config = prepareConfig(config);\n\t\t\t\tif(config){\n\t\t\t\t\tif(typeof config == \"function\"){\n\t\t\t\t\t\tconfig = {renderer: config};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(config.filter === undefined){\n\t\t\t\t\t\tconfig.filter = mergeFilters(defaultFilters || []);\n\t\t\t\t\t}else if(config.filter instanceof Array){\n\t\t\t\t\t\tconfig.filter.push(defaultFilters);\n\t\t\t\t\t\tconfig.filter = mergeFilters(config.filter);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!config.container){\n\t\t\t\t\t\tconfig.container = document.createElement(\"div\");\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tconfig.requestUpdate = function(){\n\t\t\t\t\t\tif(gantt.config.smart_rendering && !isLegacyRender(gantt)){\n\t\t\t\t\t\t\tif(self.renderers[config.id]){\n\t\t\t\t\t\t\t\tself.onUpdateRequest(self.renderers[config.id]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tthis._add(config);\n\t\t\t\treturn (config ? config.id : undefined);\n\t\t\t},\n\t\t\tonUpdateRequest: function(layer){\n\n\t\t\t},\n\n\t\t\teachLayer: function(code){\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tcode(this.renderers[i]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tremoveLayer: function (id) {\n\t\t\t\tif(!this.renderers[id])\n\t\t\t\t\treturn;\n\t\t\t\tthis.renderers[id].destructor();\n\t\t\t\tdelete this.renderers[id];\n\t\t\t},\n\t\t\tclear: function () {\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tthis.renderers[i].destructor();\n\t\t\t\t}\n\t\t\t\tthis.renderers = {};\n\t\t\t}//,\n\t\t\t//prepareConfig: prepareConfig\n\t\t};\n\n\t\tgantt.attachEvent(\"onDestroy\", function(){\n\t\t\trenderGroup.clear();\n\t\t\trenderGroup = null;\n\t\t});\n\n\t\treturn renderGroup;\n\t}\n};};\n\n\nfunction mergeFilters(filter_methods){\n\tif(!(filter_methods instanceof Array)){\n\t\tfilter_methods = Array.prototype.slice.call(arguments, 0);\n\t}\n\n\treturn function(obj){\n\t\tvar res = true;\n\t\tfor(var i = 0, len = filter_methods.length; i < len; i++){\n\t\t\tvar filter_method = filter_methods[i];\n\t\t\tif(filter_method){\n\t\t\t\tres = res && (filter_method(obj.id, obj) !== false);\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t};\n}\n\n\nmodule.exports = layerFactory;\n","var createLayerFactory = require(\"./render/layer_engine\");\n\nvar createLayerEngine = function(gantt){\n\tvar factory = createLayerFactory(gantt);\n\treturn {\n\t\tgetDataRender: function(name){\n\t\t\treturn gantt.$services.getService(\"layer:\" + name) || null;\n\t\t},\n\t\tcreateDataRender: function(config){\n\t\t\tvar name = config.name,\n\t\t\t\tdefaultContainer = config.defaultContainer,\n\t\t\t\tpreviusSiblingContainer = config.defaultContainerSibling;\n\n\t\t\tvar layers = factory.createGroup(\n\t\t\t\tdefaultContainer,\n\t\t\t\tpreviusSiblingContainer,\n\t\t\t\tfunction(itemId, item){\n\t\t\t\t\tif(layers.filters){\n\t\t\t\t\t\tfor(var i = 0; i < layers.filters.length; i++){\n\t\t\t\t\t\t\tif(layers.filters[i](itemId, item) === false){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tgantt.$services.setService(\"layer:\" + name, function(){\n\t\t\t\treturn layers;\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttReady\", function () {\n\t\t\t\tlayers.addLayer();// init layers on start\n\t\t\t});\n\n\t\t\treturn layers;\n\t\t},\n\t\tinit: function(){\n\t\t\tvar taskLayers = this.createDataRender({\n\t\t\t\tname: \"task\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdefaultContainerSibling: function(){\n\t\t\t\t\tif(gantt.$task_links){\n\t\t\t\t\t\treturn gantt.$task_links;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_links;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: function(item){\n\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\tvar linkLayers = this.createDataRender({\n\t\t\t\tname: \"link\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\treturn {\n\t\t\t\taddTaskLayer: function(config){\n\t\t\t\t\treturn taskLayers.addLayer(config);\n\t\t\t\t},\n\n\t\t\t\t/*getTaskLayer: function(id){\n\t\t\t\t\treturn taskLayers.getLayer(id);\n\t\t\t\t},*/\n\n\t\t\t\t_getTaskLayers: function(){\n\t\t\t\t\treturn taskLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveTaskLayer: function(id){\n\t\t\t\t\ttaskLayers.removeLayer(id);\n\t\t\t\t},\n\t\t\t\t/*eachTaskLayer: function(code){\n\t\t\t\t\ttaskLayers.eachLayer(code);\n\t\t\t\t},*/\n\t\t\t\t_clearTaskLayers: function(){\n\t\t\t\t\ttaskLayers.clear();\n\t\t\t\t},\n\t\t\t\taddLinkLayer: function(config){\n\t\t\t\t\treturn linkLayers.addLayer(config);\n\t\t\t\t},\n\t\t\t\t/*getLinkLayer: function(id){\n\t\t\t\t\treturn linkLayers.getLayer(id);\n\t\t\t\t},*/\n\t\t\t\t_getLinkLayers: function(){\n\t\t\t\t\treturn linkLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveLinkLayer: function(id){\n\t\t\t\t\tlinkLayers.removeLayer(id);\n\t\t\t\t},\n\t\t\t\t/*eachLinkLayer: function(code){\n\t\t\t\t\tlinkLayers.eachLayer(code);\n\t\t\t\t},*/\n\t\t\t\t_clearLinkLayers: function(){\n\t\t\t\t\tlinkLayers.clear();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n};\n\nmodule.exports = createLayerEngine;","var domHelpers = require(\"../../utils/dom_helpers\");\n\nvar createMouseHandler = (function(domHelpers) {\n\treturn function (gantt) {\n\t\tvar eventHandlers = {\n\t\t\t\"click\": {},\n\t\t\t\"doubleclick\": {},\n\t\t\t\"contextMenu\": {}\n\t\t};\n\n\t\tfunction addEventTarget(event, className, handler, root) {\n\t\t\tif(!eventHandlers[event][className]){\n\t\t\t\teventHandlers[event][className] = [];\n\t\t\t}\n\n\t\t\teventHandlers[event][className].push({\n\t\t\t\thandler: handler,\n\t\t\t\troot: root\n\t\t\t});\n\t\t}\n\n\t\tfunction callHandler(eventName, className, root, args) {\n\t\t\tvar handlers = eventHandlers[eventName][className];\n\t\t\tif(handlers){\n\t\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\t\tif(!(root || handlers[i].root) || handlers[i].root === root){\n\t\t\t\t\t\thandlers[i].handler.apply(this, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.click);\n\t\t\tvar res = true;\n\t\t\tif (id !== null) {\n\t\t\t\tres = !gantt.checkEvent(\"onTaskClick\") || gantt.callEvent(\"onTaskClick\", [id, e]);\n\t\t\t} else {\n\t\t\t\tgantt.callEvent(\"onEmptyClick\", [e]);\n\t\t\t}\n\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (id && gantt.getTask(id) && gantt.config.select_task && !gantt.config.multiselect) {\n\t\t\t\t\tgantt.selectTask(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onContextMenu(e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target || e.srcElement,\n\t\t\t\ttaskId = gantt.locate(src),\n\t\t\t\tlinkId = gantt.locate(src, gantt.config.link_attribute);\n\n\t\t\tvar res = !gantt.checkEvent(\"onContextMenu\") || gantt.callEvent(\"onContextMenu\", [taskId, linkId, e]);\n\t\t\tif (!res) {\n\t\t\t\tif (e.preventDefault)\n\t\t\t\t\te.preventDefault();\n\t\t\t\telse\n\t\t\t\t\te.returnValue = false;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tfunction findEventHandlers(e, hash){\n\t\t\tvar trg = e.target || e.srcElement;\n\t\t\tvar handlers = [];\n\t\t\twhile (trg) {\n\t\t\t\tvar css = domHelpers.getClassName(trg);\n\t\t\t\tif (css) {\n\t\t\t\t\tcss = css.split(\" \");\n\t\t\t\t\tfor (var i = 0; i < css.length; i++) {\n\t\t\t\t\t\tif (!css[i]) continue;\n\t\t\t\t\t\tif (hash[css[i]]) {\n\t\t\t\t\t\t\tvar delegateHandlers = hash[css[i]];\n\n\t\t\t\t\t\t\tfor(var h = 0; h < delegateHandlers.length; h++){\n\t\t\t\t\t\t\t\tif(delegateHandlers[h].root){\n\t\t\t\t\t\t\t\t\tif(!domHelpers.isChildOf(trg, delegateHandlers[h].root)){\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thandlers.push(delegateHandlers[h].handler);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttrg = trg.parentNode;\n\t\t\t}\n\t\t\treturn handlers;\n\t\t}\n\n\t\tfunction callEventHandlers(handlers, e, id){\n\t\t\tvar res = true;\n\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handlerResult =  handlers[i].call(gantt, e, id, e.target || e.srcElement);\n\t\t\t\tres = res && !(typeof handlerResult != \"undefined\" && handlerResult !== true);\n\t\t\t}\n\n\t\t\treturn res;\n\t\t}\n\n\n\t\tfunction onDoubleClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.doubleclick);\n\t\t\t// when doubleclick fired not on task, id === null\n\t\t\tvar res = !gantt.checkEvent(\"onTaskDblClick\") || id === null || gantt.callEvent(\"onTaskDblClick\", [id, e]);\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (id !== null && gantt.getTask(id)) {\n\t\t\t\t\tif (res && gantt.config.details_on_dblclick) {\n\t\t\t\t\t\tgantt.showLightbox(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseMove(e) {\n\t\t\tif (gantt.checkEvent(\"onMouseMove\")) {\n\t\t\t\tvar id = gantt.locate(e);\n\t\t\t\tgantt._last_move_event = e;\n\t\t\t\tgantt.callEvent(\"onMouseMove\", [id, e]);\n\t\t\t}\n\t\t}\n\n\t\tfunction detach(eventName, className, handler, root) {\n\t\t\tif (eventHandlers[eventName] && eventHandlers[eventName][className]) {\n\t\t\t\tvar handlers = eventHandlers[eventName];\n\t\t\t\tvar elementHandlers = handlers[className];\n\t\t\t\tfor(var i = 0; i < elementHandlers.length; i++){\n\t\t\t\t\tif(elementHandlers[i].root == root){\n\t\t\t\t\t\telementHandlers.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!elementHandlers.length){\n\t\t\t\t\tdelete handlers[className];\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar domEvents = gantt._createDomEventScope();\n\n\t\tfunction reset(node){\n\n\t\t\tdomEvents.detachAll();\n\n\t\t\tif(node){\n\t\t\t\tdomEvents.attach(node, \"click\", onClick);\n\t\t\t\tdomEvents.attach(node, \"dblclick\", onDoubleClick);\n\t\t\t\tdomEvents.attach(node, \"mousemove\", onMouseMove);\n\t\t\t\tdomEvents.attach(node, \"contextmenu\", onContextMenu);\n\t\t\t}\n\t\t}\n\n\n\n\t\treturn {\n\t\t\treset: reset,\n\t\t\tglobal: function(event, classname, handler){\n\t\t\t\taddEventTarget(event, classname, handler, null);\n\t\t\t},\n\t\t\tdelegate: addEventTarget,\n\t\t\tdetach: detach,\n\t\t\tcallHandler: callHandler,\n\t\t\tonDoubleClick: onDoubleClick,\n\t\t\tonMouseMove: onMouseMove,\n\t\t\tonContextMenu: onContextMenu,\n\t\t\tonClick: onClick,\n\t\t\tdestructor: function(){\n\t\t\t\treset();\n\t\t\t\teventHandlers = null;\n\t\t\t\tdomEvents = null;\n\t\t\t}\n\n\t\t};\n\t};\n\n})(domHelpers);\n\n\nmodule.exports = {\n\tinit:createMouseHandler\n};","var utils = require(\"../../utils/utils\");\n\nfunction ViewSettings(config){\n\tutils.mixin(this, config, true);\n}\n\n\nfunction extendSettings (store, parentSettings){\n\tvar own = this.$config[store];\n\n\tif(own){\n\t\tif(own instanceof ViewSettings){\n\t\t\treturn own;\n\t\t}else{\n\t\t\tViewSettings.prototype = parentSettings;\n\t\t\tthis.$config[store] = new ViewSettings(own);\n\t\t\treturn this.$config[store];\n\t\t}\n\t}else{\n\t\treturn parentSettings;\n\t}\n}\n\nvar configurable = function(parentView){\n\tvar parentConfig,\n\t\tparentTemplates;\n\n\treturn {\n\t\t$getConfig: function(){\n\t\t\tif(!parentConfig){\n\t\t\t\tparentConfig = parentView ? parentView.$getConfig() : this.$gantt.config;\n\t\t\t}\n\t\t\tif(!this.$config.config){\n\t\t\t\treturn parentConfig;\n\t\t\t}else{\n\t\t\t\treturn extendSettings.call(this, \"config\", parentConfig);\n\t\t\t}\n\t\t},\n\t\t$getTemplates: function(){\n\t\t\tif(!parentTemplates){\n\t\t\t\tparentTemplates = parentView ? parentView.$getTemplates() : this.$gantt.templates;\n\t\t\t}\n\t\t\tif(!this.$config.templates){\n\t\t\t\treturn parentTemplates;\n\t\t\t}else{\n\t\t\t\treturn extendSettings.call(this, \"templates\", parentTemplates);\n\t\t\t}\n\t\t}\n\t};\n};\n\nmodule.exports = function(obj, parent){\n\tutils.mixin(obj, configurable(parent));\n};","var utils = require(\"../../utils/utils\"),\n\tconfigurable = require(\"./configurable\");\n\nvar uiFactory = function createFactory(gantt){\n\tvar views = {};\n\n\tfunction ui(cell, parentView) {\n\t\tvar content;\n\t\tvar view = \"cell\";\n\t\tif (cell.view){\n\t\t\tview = \"viewcell\";\n\t\t}else if (cell.resizer) {\n\t\t\tview = \"resizer\";\n\t\t}\n\t\telse if (cell.rows || cell.cols) {\n\t\t\tview = \"layout\";\n\t\t}\n\t\telse if (cell.views) {\n\t\t\tview = \"multiview\";\n\t\t}\n\n\t\tcontent = createView.call(this, view, null, cell, parentView);\n\t\treturn content;\n\t}\n\t\n\tvar createdViews = {};\n\n\tfunction createView(name, parent, config, parentView) {\n\t\tvar creator = views[name];\n\n\t\tif(!creator || !creator.create)\n\t\t\treturn false;\n\n\t\tif(name == \"resizer\" && !config.mode){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.mode = \"x\";\n\t\t\t}else{\n\t\t\t\tconfig.mode = \"y\";\n\t\t\t}\n\t\t}\n\n\t\tif(name == \"viewcell\" && config.view == \"scrollbar\" && !config.scroll){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.scroll = \"y\";\n\t\t\t}else{\n\t\t\t\tconfig.scroll = \"x\";\n\t\t\t}\n\t\t}\n\n\t\tvar config = utils.copy(config);\n\n\t\tif(!config.id && !createdViews[config.view]){\n\t\t\tconfig.id = config.view;\n\t\t}\n\n\t\tif(config.id && !config.css){\n\t\t\tconfig.css = config.id+\"_cell\";\n\t\t}\n\n\t\tvar view = new creator.create(parent, config, this, gantt);\n\n\t\tif(creator.configure){\n\t\t\tcreator.configure(view);\n\t\t}\n\n\t\tconfigurable(view, parentView);\n\t\tif(!view.$id){\n\t\t\tview.$id = config.id || gantt.uid();\n\t\t}\n\n\t\tif(!view.$parent && typeof parent == \"object\"){\n\t\t\tview.$parent = parent;\n\t\t}\n\t\tif(!view.$config){\n\t\t\tview.$config = config;\n\t\t}\n\n\t\tif(createdViews[view.$id]){\n\t\t\tview.$id = gantt.uid();\n\t\t}\n\n\t\tcreatedViews[view.$id] = view;\n\n\t\treturn view;\n\t}\n\n\tfunction reset(){\n\t\tcreatedViews = {};\n\t}\n\n\tfunction register(name, viewConstructor, configure){\n\t\tviews[name] = {create: viewConstructor, configure: configure};\n\t}\n\n\tfunction getView(id){\n\t\treturn createdViews[id];\n\t}\n\n\tvar factory = {\n\t\tinitUI:ui,\n\t\treset: reset,\n\t\tregisterView: register,\n\t\tcreateView: createView,\n\t\tgetView: getView\n\t};\n\n\treturn factory;\n};\n\nmodule.exports = {\n\tcreateFactory: uiFactory\n};\n\n","var uiFactory = require(\"./ui_factory\"),\n\tmouseEvents = require(\"./mouse\"),\n\tcreateLayers = require(\"./gantt_layers\"),\n\tCell = require(\"./layout/cell\"),\n\tLayout = require(\"./layout/layout\"),\n\tViewLayout = require(\"./layout/view_layout\"),\n\tViewCell = require(\"./layout/view_cell\"),\n\tResizer = require(\"./layout/resizer_cell\"),\n\tScrollbar = require(\"./layout/scrollbar_cell\"),\n\tTimeline = require(\"./timeline/timeline\"),\n\tGrid = require(\"./grid/grid\"),\n\tResourceGrid = require(\"./grid/resource_grid\"),\n\tResourceTimeline = require(\"./timeline/resource_timeline\"),\n\tResourceHistogram = require(\"./timeline/resource_histogram\");\n\n\nvar gridEditorsFactory = require(\"./grid/editors/controller\");\n\n\nvar renderTaskBar = require(\"./render/task_bar_smart_render\"),\n\trenderSplitTaskBar = require(\"./render/task_split_render\"),\n\trenderTaskBg = require(\"./render/task_bg_render\"),\n\trenderLink = require(\"./render/link_render\"),\n\tgridRenderer = require(\"./render/task_grid_line_render\");\n\nvar mainGridInitializer = require(\"./grid/main_grid_initializer\");\nvar mainTimelineInitializer = require(\"./timeline/main_timeline_initializer\");\nvar mainLayoutInitializer = require(\"./main_layout_initializer\");\n\nfunction initUI(gantt){\n\tfunction attachInitializer(view, initializer){\n\t\tvar ext = initializer(gantt);\n\t\tif(ext.onCreated)\n\t\t\text.onCreated(view);\n\t\tview.attachEvent(\"onReady\", function(){\n\t\t\tif(ext.onInitialized)\n\t\t\t\text.onInitialized(view);\n\t\t});\n\t\tview.attachEvent(\"onDestroy\", function(){\n\t\t\tif(ext.onDestroyed)\n\t\t\t\text.onDestroyed(view);\n\t\t});\n\t}\n\n\tvar factory = uiFactory.createFactory(gantt);\n\tfactory.registerView(\"cell\", Cell);\n\tfactory.registerView(\"resizer\", Resizer);\n\tfactory.registerView(\"scrollbar\", Scrollbar);\n\tfactory.registerView(\"layout\", Layout, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"main\"){\n\t\t\tattachInitializer(view, mainLayoutInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"viewcell\", ViewCell);\n\tfactory.registerView(\"multiview\", ViewLayout);\n\tfactory.registerView(\"timeline\", Timeline, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"timeline\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainTimelineInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"grid\", Grid, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"grid\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainGridInitializer);\n\t\t}\n\t});\n\n\tfactory.registerView(\"resourceGrid\", ResourceGrid);\n\tfactory.registerView(\"resourceTimeline\", ResourceTimeline);\n\tfactory.registerView(\"resourceHistogram\", ResourceHistogram);\n\n\tvar layersEngine = createLayers(gantt);\n\n\tvar inlineEditors = gridEditorsFactory(gantt);\n\n\tgantt.ext.inlineEditors = inlineEditors;\n\tgantt.ext._inlineEditors = inlineEditors;\n\tinlineEditors.init(gantt);\n\n\treturn {\n\t\tfactory:factory,\n\t\tmouseEvents: mouseEvents.init(gantt),\n\t\tlayersApi: layersEngine.init(),\n\t\trender:{\n\t\t\tgridLine: function(){\n\t\t\t\treturn gridRenderer(gantt);\n\t\t\t},\n\t\t\ttaskBg: function(){\n\t\t\t\treturn renderTaskBg(gantt);\n\t\t\t},\n\t\t\ttaskBar: function(){\n\t\t\t\treturn renderTaskBar(gantt);\n\t\t\t},\n\t\t\ttaskSplitBar: function(){\n\t\t\t\treturn renderSplitTaskBar(gantt);\n\t\t\t},\n\t\t\tlink: function(){\n\t\t\t\treturn renderLink(gantt);\n\t\t\t}\n\t\t},\n\t\tlayersService: {\n\t\t\tgetDataRender: function(name){\n\t\t\t\treturn layersEngine.getDataRender(name, gantt);\n\t\t\t},\n\t\t\tcreateDataRender: function(config){\n\t\t\t\treturn layersEngine.createDataRender(config, gantt);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tinit: initUI\n};","var utils = require(\"../utils/utils\");\nvar domHelpers = require(\"../utils/dom_helpers\");\n\nmodule.exports = function(gantt) {\n\n\tvar boxAttribute = \"data-dhxbox\";\n\n\tvar _dhx_msg_cfg = null;\n\n\tfunction callback(config, result) {\n\t\tvar usercall = config.callback;\n\t\tmodalBox.hide(config.box);\n\n\t\t_dhx_msg_cfg = config.box = null;\n\t\tif (usercall)\n\t\t\tusercall(result);\n\t}\n\n\tfunction modal_key(e) {\n\t\tif (_dhx_msg_cfg) {\n\t\t\te = e || event;\n\t\t\tvar code = e.which || event.keyCode;\n\t\t\tvar preventDefault = false;\n\n\t\t\tif (messageBox.keyboard) {\n\t\t\t\tif (code == 13 || code == 32) {\n\t\t\t\t\t// default behavior is to confirm/submit popup on space/enter\n\t\t\t\t\t// if browser focus is set on button element - do button click instead of default behavior\n\t\t\t\t\tvar target = e.target || e.srcElement;\n\t\t\t\t\tif (domHelpers.getClassName(target).indexOf(\"gantt_popup_button\") > -1 && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(_dhx_msg_cfg, true);\n\t\t\t\t\t\tpreventDefault = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (code == 27) {\n\t\t\t\t\tcallback(_dhx_msg_cfg, false);\n\t\t\t\t\tpreventDefault = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (preventDefault) {\n\t\t\t\tif (e.preventDefault)\n\t\t\t\t\te.preventDefault();\n\t\t\t\treturn !(e.cancelBubble = true);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\tgantt.event(document, \"keydown\", modal_key, true);\n\n\tfunction modality(mode) {\n\t\tif (!modality.cover) {\n\t\t\tmodality.cover = document.createElement(\"div\");\n\t\t\t//necessary for IE only\n\t\t\tmodality.cover.onkeydown = modal_key;\n\t\t\tmodality.cover.className = \"dhx_modal_cover\";\n\t\t\tdocument.body.appendChild(modality.cover);\n\t\t}\n\n\t\tmodality.cover.style.display = mode ? \"inline-block\" : \"none\";\n\t}\n\n\tfunction button(text, className, result) {\n\t\tvar buttonAriaAttrs = gantt._waiAria.messageButtonAttrString(text);\n\t\tvar name = className.toLowerCase().replace(/ /g, \"_\");\n\t\tvar button_css = \"gantt_\" + name + \"_button\" + \" dhtmlx_\" + name + \"_button\"; // dhtmlx_ok_button, dhtmlx_click_me_button\n\t\treturn \"<div \" + buttonAriaAttrs + \" class='gantt_popup_button dhtmlx_popup_button \" + button_css + \"' data-result='\" + result + \"' result='\" + result + \"' ><div>\" + text + \"</div></div>\";\n\t}\n\n\tfunction info(text) {\n\t\tif (!messageBox.area) {\n\t\t\tmessageBox.area = document.createElement(\"div\");\n\t\t\tmessageBox.area.className = \"gantt_message_area dhtmlx_message_area\";\n\t\t\tmessageBox.area.style[messageBox.position] = \"5px\";\n\t\t\tdocument.body.appendChild(messageBox.area);\n\t\t}\n\n\t\tmessageBox.hide(text.id);\n\t\tvar message = document.createElement(\"div\");\n\t\tmessage.innerHTML = \"<div>\" + text.text + \"</div>\";\n\t\tmessage.className = \"gantt-info dhtmlx-info gantt-\" + text.type + \" dhtmlx-\" + text.type;\n\t\tmessage.onclick = function () {\n\t\t\tmessageBox.hide(text.id);\n\t\t\ttext = null;\n\t\t};\n\n\t\tgantt._waiAria.messageInfoAttr(message);\n\n\t\tif (messageBox.position == \"bottom\" && messageBox.area.firstChild)\n\t\t\tmessageBox.area.insertBefore(message, messageBox.area.firstChild);\n\t\telse\n\t\t\tmessageBox.area.appendChild(message);\n\n\t\tif (text.expire > 0)\n\t\t\tmessageBox.timers[text.id] = window.setTimeout(function () {\n\t\t\t\tmessageBox.hide(text.id);\n\t\t\t}, text.expire);\n\n\t\tmessageBox.pull[text.id] = message;\n\t\tmessage = null;\n\n\t\treturn text.id;\n\t}\n\n\tfunction getFirstDefined() {\n\t\tvar values = [].slice.apply(arguments, [0]);\n\n\t\tfor (var i = 0; i < values.length; i++) {\n\t\t\tif (values[i]) {\n\t\t\t\treturn values[i];\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction _boxStructure(config, ok, cancel) {\n\t\tvar box = document.createElement(\"div\");\n\n\t\tvar contentId = utils.uid();\n\t\tgantt._waiAria.messageModalAttr(box, contentId);\n\n\n\t\tbox.className = \" gantt_modal_box dhtmlx_modal_box gantt-\" + config.type + \" dhtmlx-\" + config.type;\n\t\tbox.setAttribute(boxAttribute, 1);\n\n\t\tvar inner = '';\n\n\t\tif (config.width)\n\t\t\tbox.style.width = config.width;\n\t\tif (config.height)\n\t\t\tbox.style.height = config.height;\n\t\tif (config.title)\n\t\t\tinner += '<div class=\"gantt_popup_title dhtmlx_popup_title\">' + config.title + '</div>';\n\t\tinner += '<div class=\"gantt_popup_text dhtmlx_popup_text\" id=\"' + contentId + '\"><span>' + (config.content ? '' : config.text) + '</span></div><div  class=\"gantt_popup_controls dhtmlx_popup_controls\">';\n\t\tif (ok)\n\t\t\tinner += button(getFirstDefined(config.ok, gantt.locale.labels.message_ok, \"OK\"), \"ok\", true);\n\t\tif (cancel)\n\t\t\tinner += button(getFirstDefined(config.cancel, gantt.locale.labels.message_cancel, \"Cancel\"), \"cancel\", false);\n\n\t\tif (config.buttons) {\n\t\t\tfor (var i = 0; i < config.buttons.length; i++) {\n\t\t\t\tvar btn = config.buttons[i];\n\t\t\t\tif (typeof btn == \"object\") {\n\t\t\t\t\t// Support { label:\"Save\", css:\"main_button\", value:\"save\" }\n\t\t\t\t\tvar label = btn.label;\n\t\t\t\t\tvar css = btn.css || (\"gantt_\" + btn.label.toLowerCase() + \"_button dhtmlx_\" + btn.label.toLowerCase() + \"_button\");\n\t\t\t\t\tvar value = btn.value || i;\n\t\t\t\t\tinner += button(label, css, value);\n\t\t\t\t} else {\n\t\t\t\t\tinner += button(btn, btn, i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinner += '</div>';\n\t\tbox.innerHTML = inner;\n\n\t\tif (config.content) {\n\t\t\tvar node = config.content;\n\t\t\tif (typeof node == \"string\")\n\t\t\t\tnode = document.getElementById(node);\n\t\t\tif (node.style.display == 'none')\n\t\t\t\tnode.style.display = \"\";\n\t\t\tbox.childNodes[config.title ? 1 : 0].appendChild(node);\n\t\t}\n\n\t\tbox.onclick = function (e) {\n\t\t\te = e || event;\n\t\t\tvar source = e.target || e.srcElement;\n\t\t\tif (!source.className) source = source.parentNode;\n\t\t\tif (source.className.split(\" \")[0] == \"gantt_popup_button\") {\n\t\t\t\tvar result = source.getAttribute(\"data-result\");\n\t\t\t\tresult = (result == \"true\") || (result == \"false\" ? false : result);\n\t\t\t\tcallback(config, result);\n\t\t\t}\n\t\t};\n\t\tconfig.box = box;\n\t\tif (ok || cancel)\n\t\t\t_dhx_msg_cfg = config;\n\n\t\treturn box;\n\t}\n\n\tfunction _createBox(config, ok, cancel) {\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\n\n\t\tif (!config.hidden)\n\t\t\tmodality(true);\n\t\tdocument.body.appendChild(box);\n\t\tvar x = Math.abs(Math.floor(((window.innerWidth || document.documentElement.offsetWidth) - box.offsetWidth) / 2));\n\t\tvar y = Math.abs(Math.floor(((window.innerHeight || document.documentElement.offsetHeight) - box.offsetHeight) / 2));\n\t\tif (config.position == \"top\")\n\t\t\tbox.style.top = \"-3px\";\n\t\telse\n\t\t\tbox.style.top = y + 'px';\n\t\tbox.style.left = x + 'px';\n\t\t//necessary for IE only\n\t\tbox.onkeydown = modal_key;\n\n\t\tmodalBox.focus(box);\n\n\t\tif (config.hidden)\n\t\t\tmodalBox.hide(box);\n\n\t\tgantt.callEvent(\"onMessagePopup\", [box]);\n\t\treturn box;\n\t}\n\n\tfunction alertPopup(config) {\n\t\treturn _createBox(config, true, false);\n\t}\n\n\tfunction confirmPopup(config) {\n\t\treturn _createBox(config, true, true);\n\t}\n\n\tfunction boxPopup(config) {\n\t\treturn _createBox(config);\n\t}\n\n\tfunction box_params(text, type, callback) {\n\t\tif (typeof text != \"object\") {\n\t\t\tif (typeof type == \"function\") {\n\t\t\t\tcallback = type;\n\t\t\t\ttype = \"\";\n\t\t\t}\n\t\t\ttext = {text: text, type: type, callback: callback};\n\t\t}\n\t\treturn text;\n\t}\n\n\tfunction params(text, type, expire, id) {\n\t\tif (typeof text != \"object\")\n\t\t\ttext = {text: text, type: type, expire: expire, id: id};\n\t\ttext.id = text.id || utils.uid();\n\t\ttext.expire = text.expire || messageBox.expire;\n\t\treturn text;\n\t}\n\n\tvar alertBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"confirm\";\n\t\treturn alertPopup(text);\n\t};\n\tvar confirmBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn confirmPopup(text);\n\t};\n\tvar modalBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn boxPopup(text);\n\t};\n\tmodalBox.hide = function (node) {\n\t\twhile (node && node.getAttribute && !node.getAttribute(boxAttribute))\n\t\t\tnode = node.parentNode;\n\t\tif (node) {\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\tmodality(false);\n\n\t\t\tgantt.callEvent(\"onAfterMessagePopup\", [node]);\n\t\t}\n\t};\n\n\tmodalBox.focus = function (node) {\n\t\tsetTimeout(function () {\n\t\t\tvar focusable = domHelpers.getFocusableNodes(node);\n\t\t\tif (focusable.length) {\n\t\t\t\tif (focusable[0].focus) focusable[0].focus();\n\t\t\t}\n\t\t}, 1);\n\t};\n\n\tvar messageBox = function (text, type, expire, id) {\n\t\ttext = params.apply(this, arguments);\n\t\ttext.type = text.type || \"info\";\n\n\t\tvar subtype = text.type.split(\"-\")[0];\n\t\tswitch (subtype) {\n\t\t\tcase \"alert\":\n\t\t\t\treturn alertPopup(text);\n\t\t\tcase \"confirm\":\n\t\t\t\treturn confirmPopup(text);\n\t\t\tcase \"modalbox\":\n\t\t\t\treturn boxPopup(text);\n\t\t\tdefault:\n\t\t\t\treturn info(text);\n\t\t}\n\t};\n\n\tmessageBox.seed = (new Date()).valueOf();\n\tmessageBox.uid = utils.uid;\n\tmessageBox.expire = 4000;\n\tmessageBox.keyboard = true;\n\tmessageBox.position = \"top\";\n\tmessageBox.pull = {};\n\tmessageBox.timers = {};\n\n\tmessageBox.hideAll = function () {\n\t\tfor (var key in messageBox.pull)\n\t\t\tmessageBox.hide(key);\n\t};\n\tmessageBox.hide = function (id) {\n\t\tvar obj = messageBox.pull[id];\n\t\tif (obj && obj.parentNode) {\n\t\t\twindow.setTimeout(function () {\n\t\t\t\tobj.parentNode.removeChild(obj);\n\t\t\t\tobj = null;\n\t\t\t}, 2000);\n\t\t\tobj.className += \" hidden\";\n\n\t\t\tif (messageBox.timers[id])\n\t\t\t\twindow.clearTimeout(messageBox.timers[id]);\n\t\t\tdelete messageBox.pull[id];\n\t\t}\n\t};\n\n\tvar popups = [];\n\tgantt.attachEvent(\"onMessagePopup\", function(box){\n\t\tpopups.push(box);\n\t});\n\tgantt.attachEvent(\"onAfterMessagePopup\", function(box){\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i] === box){\n\t\t\t\tpopups.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\tif(modality.cover && modality.cover.parentNode){\n\t\t\tmodality.cover.parentNode.removeChild(modality.cover);\n\t\t}\n\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i].parentNode){\n\t\t\t\tpopups[i].parentNode.removeChild(popups[i]);\n\t\t\t}\n\t\t}\n\t\tpopups = null;\n\n\t\tif(messageBox.area && messageBox.area.parentNode){\n\t\t\tmessageBox.area.parentNode.removeChild(messageBox.area);\n\t\t}\n\t\tmessageBox = null;\n\t});\n\n\treturn {\n\t\talert: alertBox,\n\t\tconfirm: confirmBox,\n\t\tmessage: messageBox,\n\t\tmodalbox: modalBox\n\t};\n};","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2018 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.4\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nfunction _drainQueue(queue) {\n    while (queue.length() > 0) {\n        _drainQueueStep(queue);\n    }\n}\n\nfunction _drainQueueStep(queue) {\n    var fn = queue.shift();\n    if (typeof fn !== \"function\") {\n        fn._settlePromises();\n    } else {\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n}\n\nAsync.prototype._drainQueues = function () {\n    _drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    _drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar es5 = _dereq_(\"./es5\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                es5.defineProperty(\n                    eventData, \"promise\", {value: event.promise});\n                es5.defineProperty(eventData, \"reason\", {value: event.reason});\n                var domEvent = new CustomEvent(name.toLowerCase(), eventData);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n        this._dereferenceTrace();\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.4\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var receiver = new FakeConstructor();\n    function ic() {\n        return typeof receiver.foo;\n    }\n    ic();\n    ic();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version;\n    if (process.versions && process.versions.node) {    \n        version = process.versions.node.split(\".\").map(Number);\n    } else if (process.version) {\n        version = process.version.split(\".\").map(Number);\n    }\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }","module.exports = require(\"bluebird\");","var utils = require(\"../../utils/utils\");\n\nvar StateService = (function(){\n\tvar stateProviders = {};\n\n\tfunction getState(name){\n\t\tif(name){\n\t\t\treturn stateProviders[name].method();\n\t\t}else{\n\t\t\tvar res = {};\n\t\t\tfor(var i in stateProviders){\n\t\t\t\tif(!stateProviders[i].internal)\n\t\t\t\t\tutils.mixin(res, stateProviders[i].method(), true);\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t}\n\n\tfunction registerProvider(name, provider, internal){\n\t\tstateProviders[name] = { method: provider, internal: internal};\n\t}\n\n\tfunction unregisterProvider(name){\n\t\tdelete stateProviders[name];\n\t}\n\n\treturn {\n\t\tgetState: getState,\n\t\tregisterProvider: registerProvider,\n\t\tunregisterProvider: unregisterProvider\n\t};\n});\n\nmodule.exports = StateService;\n\n","module.exports = function(gantt) {\n\n\tvar regTemplates = {};\n\n\tfunction initTemplate(name, initial, template_name) {\n\t\ttemplate_name = template_name || name;\n\t\tvar config = gantt.config,\n\t\t\ttemplates = gantt.templates;\n\n\t\tif (gantt.config[name] && regTemplates[template_name] != config[name]) {\n\t\t\tif (!(initial && templates[template_name])) {\n\t\t\t\ttemplates[template_name] = gantt.date.date_to_str(config[name]);\n\t\t\t\tregTemplates[template_name] = config[name];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction initTemplates() {\n\t\tvar labels = gantt.locale.labels;\n\t\tlabels.gantt_save_btn = labels.icon_save;\n\t\tlabels.gantt_cancel_btn = labels.icon_cancel;\n\t\tlabels.gantt_delete_btn = labels.icon_delete;\n\n\n\t\tvar date = gantt.date;\n\n\t\t//build configuration based templates\n\t\tvar d = date.date_to_str;\n\t\tvar c = gantt.config;\n\t\tvar format_date = d(c.xml_date || c.date_format, c.server_utc);\n\t\tvar parse_date = date.str_to_date(c.xml_date || c.date_format, c.server_utc);\n\n\t\tinitTemplate(\"date_scale\", true, undefined, gantt.config, gantt.templates);\n\t\tinitTemplate(\"date_grid\", true, \"grid_date_format\", gantt.config, gantt.templates);\n\t\tinitTemplate(\"task_date\", true, undefined, gantt.config, gantt.templates);\n\n\t\tgantt.mixin(gantt.templates, {\n\t\t\txml_format: format_date, // deprecated\n\t\t\tformat_date: format_date,\n\n\t\t\txml_date: parse_date, // deprecated\n\t\t\tparse_date: parse_date,\n\n\t\t\tprogress_text: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tgrid_header_class: function (column, config) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttask_text: function (start, end, task) {\n\t\t\t\treturn task.text;\n\t\t\t},\n\t\t\ttask_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tgrid_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttask_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttimeline_cell_class: function (item, date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_cell_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_row_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\tgrid_indent: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_indent'></div>\";\n\t\t\t},\n\t\t\tgrid_folder: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_folder_\" + (item.$open ? \"open\" : \"closed\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_file: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_file'></div>\";\n\t\t\t},\n\t\t\tgrid_open: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_\" + (item.$open ? \"close\" : \"open\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_blank: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_blank'></div>\";\n\t\t\t},\n\t\t\tdate_grid: function (date, item) {\n\t\t\t\tif (item && gantt.isUnscheduledTask(item) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(item);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.grid_date_format(date);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_time: function (start, end, ev) {\n\t\t\t\tif (gantt.isUnscheduledTask(ev) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(ev);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.task_date(start) + \" - \" + gantt.templates.task_date(end);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_unscheduled_time: function (task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttime_picker: d(c.time_picker),\n\t\t\tlink_class: function (link) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tlink_description: function (link) {\n\t\t\t\tvar from = gantt.getTask(link.source),\n\t\t\t\t\tto = gantt.getTask(link.target);\n\n\t\t\t\treturn \"<b>\" + from.text + \"</b> &ndash;  <b>\" + to.text + \"</b>\";\n\t\t\t},\n\n\t\t\tdrag_link: function (from, from_start, to, to_start) {\n\t\t\t\tfrom = gantt.getTask(from);\n\t\t\t\tvar labels = gantt.locale.labels;\n\n\t\t\t\tvar text = \"<b>\" + from.text + \"</b> \" + (from_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\tif (to) {\n\t\t\t\t\tto = gantt.getTask(to);\n\t\t\t\t\ttext += \"<b> \" + to.text + \"</b> \" + (to_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\t}\n\t\t\t\treturn text;\n\t\t\t},\n\t\t\tdrag_link_class: function (from, from_start, to, to_start) {\n\t\t\t\tvar add = \"\";\n\n\t\t\t\tif (from && to) {\n\t\t\t\t\tvar allowed = gantt.isLinkAllowed(from, to, from_start, to_start);\n\t\t\t\t\tadd = \" \" + (allowed ? \"gantt_link_allow\" : \"gantt_link_deny\");\n\t\t\t\t}\n\n\t\t\t\treturn \"gantt_link_tooltip\" + add;\n\t\t\t},\n\n\t\t\t/* used for aria-labels of bar elements and for tooltip.js */\n\t\t\ttooltip_date_format: date.date_to_str(\"%Y-%m-%d\"),\n\t\t\ttooltip_text: function (start, end, event) {\n\t\t\t\treturn \"<b>Task:</b> \" + event.text + \"<br/><b>Start date:</b> \" + gantt.templates.tooltip_date_format(start) + \"<br/><b>End date:</b> \" + gantt.templates.tooltip_date_format(end);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tinitTemplates: initTemplates,\n\t\tinitTemplate: initTemplate\n\t};\n\n};","var eventable = require(\"../../utils/eventable\");\nvar utils = require(\"../../utils/utils\");\nvar timeout = require(\"../../utils/timeout\");\n\nmodule.exports = function(gantt){\n\n\tfunction copyDomEvent(e){\n\t\treturn {\n\t\t\ttarget: e.target || e.srcElement,\n\t\t\tpageX: e.pageX,\n\t\t\tpageY: e.pageY,\n\t\t\tclientX: e.clientX,\n\t\t\tclientY: e.clientY,\n\t\t\tmetaKey: e.metaKey,\n\t\t\tshiftKey: e.shiftKey,\n\t\t\tctrlKey: e.ctrlKey,\n\t\t\taltKey: e.altKey\n\t\t};\n\t}\n\n\tfunction DnD(obj, config) {\n\t\tthis._obj = obj;\n\t\tthis._settings = config || {};\n\t\teventable(this);\n\n\t\tvar inputMethods = this.getInputMethods();\n\n\t\tthis._drag_start_timer = null;\n\t\tgantt.attachEvent(\"onGanttScroll\", utils.bind(function (left, top) {\n\t\t\tthis.clearDragTimer();\n\t\t}, this));\n\n\t\tfor(var i = 0; i < inputMethods.length; i++){\n\t\t\t(utils.bind(function(input){\n\n\t\t\t\tgantt.event(obj, input.down, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._settings.original_target = copyDomEvent(e);\n\n\t\t\t\t\tif (gantt.config.touch) {\n\t\t\t\t\t\tthis.clearDragTimer();\n\n\t\t\t\t\t\tthis._drag_start_timer = setTimeout(utils.bind(function () {\n\t\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t\t}, this), gantt.config.touch_drag);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\n\t\t\t\tgantt.event(document.body, input.up, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.clearDragTimer();\n\t\t\t\t}, this));\n\n\t\t\t}, this))(inputMethods[i]);\n\t\t}\n\t}\n\n\tDnD.prototype = {\n\t\ttraceDragEvents: function (domElement, inputMethod) {\n\t\t\tvar mousemove = utils.bind(function (e) {\n\t\t\t\treturn this.dragMove(domElement, e, inputMethod.accessor);\n\t\t\t}, this);\n\t\t\tutils.bind(function (e) {\n\t\t\t\treturn this.dragScroll(domElement, e);\n\t\t\t}, this);\n\n\t\t\tvar limited_mousemove = utils.bind(function (e) {\n\t\t\t\tif (this.config.started && utils.defined(this.config.updates_per_second)) {\n\t\t\t\t\tif (!timeout(this, this.config.updates_per_second))\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar dndActive = mousemove(e);\n\n\t\t\t\tif (dndActive) {\n\t\t\t\t\tif (e && e.preventDefault) //Cancel default action on DND\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te .cancelBubble = true;\n\t\t\t\t}\n\n\t\t\t\treturn dndActive;\n\t\t\t}, this);\n\n\t\t\tvar mouseup = utils.bind(function (e) {\n\t\t\t\tgantt.eventRemove(document.body, inputMethod.move, limited_mousemove);\n\t\t\t\tgantt.eventRemove(document.body, inputMethod.up, mouseup);\n\t\t\t\treturn this.dragEnd(domElement);\n\t\t\t}, this);\n\n\t\t\tgantt.event(document.body, inputMethod.move, limited_mousemove);\n\t\t\tgantt.event(document.body, inputMethod.up, mouseup);\n\t\t},\n\t\tcheckPositionChange: function (pos) {\n\t\t\tvar diff_x = pos.x - this.config.pos.x;\n\t\t\tvar diff_y = pos.y - this.config.pos.y;\n\t\t\tvar distance = Math.sqrt(Math.pow(Math.abs(diff_x), 2) + Math.pow(Math.abs(diff_y), 2));\n\n\t\t\tif (distance > this.config.sensitivity) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tinitDnDMarker: function () {\n\t\t\t// create dnd placeholder and put it in dom\n\t\t\tvar marker = this.config.marker = document.createElement(\"div\");\n\t\t\tmarker.className = \"gantt_drag_marker\";\n\t\t\tmarker.innerHTML = \"Dragging object\";\n\t\t\tdocument.body.appendChild(marker);\n\t\t},\n\t\tbackupEventTarget: function (domEvent, getEvent) {\n\t\t\tif (!gantt.config.touch) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// keep original event target in DOM in order to keep dnd on touchmove event\n\t\t\tvar e = getEvent(domEvent);\n\n\t\t\tvar el = e.target || e.srcElement;\n\t\t\tvar copy = el.cloneNode(true);\n\t\t\t//this.config.target.target = copy;\n\t\t\tthis.config.original_target = copyDomEvent(e);\n\t\t\tthis.config.original_target.target = copy;\n\t\t\tthis.config.backup_element = el;\n\t\t\tel.parentNode.appendChild(copy);\n\n\t\t\tel.style.display = \"none\";\n\t\t\tdocument.body.appendChild(el);\n\t\t},\n\t\tgetInputMethods: function () {\n\t\t\t// bind actions to browser events\n\t\t\tvar inputMethods = [];\n\n\t\t\tinputMethods.push({\n\t\t\t\t\"move\": \"mousemove\",\n\t\t\t\t\"down\": \"mousedown\",\n\t\t\t\t\"up\": \"mouseup\",\n\t\t\t\t\"accessor\": function (e) {\n\t\t\t\t\treturn e;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (gantt.config.touch) {\n\n\t\t\t\tvar touchEventsSupported = true;\n\t\t\t\ttry{\n\t\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t\t}catch (e){\n\t\t\t\t\ttouchEventsSupported = false;\n\t\t\t\t}\n\n\t\t\t\tif(touchEventsSupported){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"touchmove\",\n\t\t\t\t\t\t\"down\": \"touchstart\",\n\t\t\t\t\t\t\"up\": \"touchend\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttarget: document.elementFromPoint(ev.touches[0].clientX, ev.touches[0].clientY),\n\t\t\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else if(window.navigator.pointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"pointermove\",\n\t\t\t\t\t\t\"down\": \"pointerdown\",\n\t\t\t\t\t\t\"up\": \"pointerup\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}else if (window.navigator.msPointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"MSPointerMove\",\n\t\t\t\t\t\t\"down\": \"MSPointerDown\",\n\t\t\t\t\t\t\"up\": \"MSPointerUp\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn inputMethods;\n\t\t},\n\t\tclearDragTimer: function () {\n\t\t\tif (this._drag_start_timer) {\n\t\t\t\tclearTimeout(this._drag_start_timer);\n\t\t\t\tthis._drag_start_timer = null;\n\t\t\t}\n\t\t},\n\t\tdragStart: function (obj, e, inputMethod) {\n\t\t\tif (this.config && this.config.started) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.config = {\n\t\t\t\tobj: obj,\n\t\t\t\tmarker: null,\n\t\t\t\tstarted: false,\n\t\t\t\tpos: this.getPosition(e),\n\t\t\t\tsensitivity: 4\n\t\t\t};\n\t\t\tif (this._settings)\n\t\t\t\tutils.mixin(this.config, this._settings, true);\n\n\n\t\t\tthis.traceDragEvents(obj, inputMethod);\n\n\t\t\tgantt._prevent_touch_scroll = true;\n\t\t\tdocument.body.className += \" gantt_noselect\";\n\n\t\t\tif (gantt.config.touch) {\n\t\t\t\tthis.dragMove(obj, e, inputMethod.accessor);\n\t\t\t}\n\n\t\t},\n\t\tdragMove: function (obj, e, getEvent) {\n\t\t\tvar source = getEvent(e);\n\t\t\tif (!source) return false;\n\n\t\t\tif (!this.config.marker && !this.config.started) {\n\t\t\t\tvar pos = this.getPosition(source);\n\n\t\t\t\tif (gantt.config.touch || this.checkPositionChange(pos)) {\n\t\t\t\t\t// real drag starts here,\n\t\t\t\t\t// when user moves mouse at first time after onmousedown\n\t\t\t\t\tthis.config.started = true;\n\t\t\t\t\tthis.config.ignore = false;\n\t\t\t\t\tif (this.callEvent(\"onBeforeDragStart\", [obj, this.config.original_target]) === false) {\n\t\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.backupEventTarget(e, getEvent);\n\t\t\t\t\tthis.initDnDMarker();\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\tthis.callEvent(\"onAfterDragStart\", [obj, this.config.original_target]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this.config.ignore) {\n\t\t\t\tsource.pos = this.getPosition(source);\n\t\t\t\tthis.config.marker.style.left = source.pos.x + \"px\";\n\t\t\t\tthis.config.marker.style.top = source.pos.y + \"px\";\n\t\t\t\tthis.callEvent(\"onDragMove\", [obj, source]);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tdragEnd: function (obj) {\n\t\t\tvar target = this.config.backup_element;\n\t\t\tif (target && target.parentNode) {\n\t\t\t\ttarget.parentNode.removeChild(target);\n\t\t\t}\n\t\t\tgantt._prevent_touch_scroll = false;\n\t\t\tif (this.config.marker) {\n\t\t\t\tthis.config.marker.parentNode.removeChild(this.config.marker);\n\t\t\t\tthis.config.marker = null;\n\n\t\t\t\tthis.callEvent(\"onDragEnd\", []);\n\t\t\t}\n\t\t\tthis.config.started = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_noselect\", \"\");\n\t\t},\n\n\t\tgetPosition: function (e) {\n\t\t\tvar x = 0, y = 0;\n\t\t\te = e || window.event;\n\t\t\tif (e.pageX || e.pageY) {\n\t\t\t\tx = e.pageX;\n\t\t\t\ty = e.pageY;\n\t\t\t} else if (e.clientX || e.clientY) {\n\t\t\t\tx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t\t\ty = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t\t}\n\t\t\treturn {x: x, y: y};\n\t\t}\n\t};\n\n\treturn DnD;\n};\n","/*\n %d - the day as a number with a leading zero ( 01 to 31 );\n %j - the day as a number without a leading zero ( 1 to 31 );\n %D - the day as an abbreviation ( Sun to Sat );\n %l - the day as a full name ( Sunday to Saturday );\n %W - the ISO-8601 week number of the year. Weeks start on Monday; 1)\n %m - the month as a number without a leading zero ( 1 to 12 );\n %n - the month as a number with a leading zero ( 01 to 12);\n %M - the month as an abbreviation ( Jan to Dec );\n %F - the month as a full name ( January to December );\n %y - the year as a two-digit number ( 00 to 99 );\n %Y - the year as a four-digit number ( 1900–9999 );\n %h - the hour based on the 12-hour clock ( 00 to 11 );\n %H - the hour based on the 24-hour clock ( 00 to 23 );\n %i - the minute as a number with a leading zero ( 00 to 59 );\n %s - the second as a number without a leading zero ( 00 to 59 ); 2)\n %a - displays am (for times from midnight until noon) and pm (for times from noon until midnight);\n %A - displays AM (for times from midnight until noon) and PM (for times from noon until midnight).\n*/\n\nmodule.exports = function(gantt) {\n\tvar dateHelper = {\n\t\tinit: function () {\n\t\t\tvar locale = gantt.locale;\n\n\t\t\tvar s = locale.date.month_short;\n\t\t\tvar t = locale.date.month_short_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\n\t\t\tvar s = locale.date.month_full;\n\t\t\tvar t = locale.date.month_full_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\t\t},\n\t\tdate_part: function (date) {\n\t\t\tvar old = new Date(date);\n\t\t\tdate.setHours(0);\n\t\t\tthis.hour_start(date);\n\t\t\tif (date.getHours() && //shift to yesterday on dst\n\t\t\t\t(date.getDate() < old.getDate() || date.getMonth() < old.getMonth() || date.getFullYear() < old.getFullYear()))\n\t\t\t\tdate.setTime(date.getTime() + 60 * 60 * 1000 * (24 - date.getHours()));\n\t\t\treturn date;\n\t\t},\n\t\ttime_part: function (date) {\n\t\t\treturn (date.valueOf() / 1000 - date.getTimezoneOffset() * 60) % 86400;\n\t\t},\n\t\tweek_start: function (date) {\n\t\t\tvar shift = date.getDay();\n\t\t\tif (gantt.config.start_on_monday) {\n\t\t\t\tif (shift === 0) shift = 6;\n\t\t\t\telse shift--;\n\t\t\t}\n\t\t\treturn this.date_part(this.add(date, -1 * shift, \"day\"));\n\t\t},\n\t\tmonth_start: function (date) {\n\t\t\tdate.setDate(1);\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\tquarter_start: function (date) {\n\t\t\tthis.month_start(date);\n\t\t\tvar m = date.getMonth(),\n\t\t\t\tres_month;\n\n\t\t\tif (m >= 9) {\n\t\t\t\tres_month = 9;\n\t\t\t} else if (m >= 6) {\n\t\t\t\tres_month = 6;\n\t\t\t} else if (m >= 3) {\n\t\t\t\tres_month = 3;\n\t\t\t} else {\n\t\t\t\tres_month = 0;\n\t\t\t}\n\n\t\t\tdate.setMonth(res_month);\n\t\t\treturn date;\n\t\t},\n\t\tyear_start: function (date) {\n\t\t\tdate.setMonth(0);\n\t\t\treturn this.month_start(date);\n\t\t},\n\t\tday_start: function (date) {\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\thour_start: function (date) {\n\t\t\tif (date.getMinutes())\n\t\t\t\tdate.setMinutes(0);\n\t\t\tthis.minute_start(date);\n\n\t\t\treturn date;\n\t\t},\n\t\tminute_start: function (date) {\n\t\t\tif (date.getSeconds())\n\t\t\t\tdate.setSeconds(0);\n\t\t\tif (date.getMilliseconds())\n\t\t\t\tdate.setMilliseconds(0);\n\t\t\treturn date;\n\t\t},\n\t\t_add_days: function (date, inc) {\n\t\t\tvar ndate = new Date(date.valueOf());\n\n\t\t\tndate.setDate(ndate.getDate() + inc);\n\t\t\tif (inc >= 0 && (!date.getHours() && ndate.getHours()) &&//shift to yesterday on dst\n\t\t\t\t(ndate.getDate() <= date.getDate() || ndate.getMonth() < date.getMonth() || ndate.getFullYear() < date.getFullYear()))\n\t\t\t\tndate.setTime(ndate.getTime() + 60 * 60 * 1000 * (24 - ndate.getHours()));\n\t\t\treturn ndate;\n\t\t},\n\n\t\tadd: function (date, inc, mode) {\n\t\t\t/*jsl:ignore*/\n\t\t\tvar ndate = new Date(date.valueOf());\n\t\t\tswitch (mode) {\n\t\t\t\tcase \"day\":\n\t\t\t\t\tndate = this._add_days(ndate, inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"week\":\n\t\t\t\t\tndate = this._add_days(ndate, inc * 7);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"month\":\n\t\t\t\t\tndate.setMonth(ndate.getMonth() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"year\":\n\t\t\t\t\tndate.setYear(ndate.getFullYear() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hour\":\n\t\t\t\t\t/*\n\t\t\t\t\t\tadding hours/minutes via setHour(getHour() + inc) gives weird result when\n\t\t\t\t\t\tadding one hour to the time before switch to a Daylight Saving time\n\n\t\t\t\t\t\texample: //Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\t\t\t\t\t\tnew Date(2014, 02, 30, 1).setHours(2)\n\t\t\t\t\t\t>>Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\n\t\t\t\t\t\tsetTime seems working as expected\n\t\t\t\t\t */\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 60 * 1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"minute\":\n\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 1000);\n\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this[\"add_\" + mode](date, inc, mode);\n\t\t\t}\n\t\t\treturn ndate;\n\t\t\t/*jsl:end*/\n\t\t},\n\t\tadd_quarter: function (date, inc) {\n\t\t\treturn this.add(date, inc * 3, \"month\");\n\t\t},\n\n\t\tto_fixed: function (num) {\n\t\t\tif (num < 10) return \"0\" + num;\n\t\t\treturn num;\n\t\t},\n\t\tcopy: function (date) {\n\t\t\treturn new Date(date.valueOf());\n\t\t},\n\t\tdate_to_str: function (format, utc) {\n\t\t\tformat = format.replace(/%[a-zA-Z]/g, function (a) {\n\t\t\t\tswitch (a) {\n\t\t\t\t\tcase \"%d\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getDate())+\\\"\";\n\t\t\t\t\tcase \"%m\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed((date.getMonth()+1))+\\\"\";\n\t\t\t\t\tcase \"%j\":\n\t\t\t\t\t\treturn \"\\\"+date.getDate()+\\\"\";\n\t\t\t\t\tcase \"%n\":\n\t\t\t\t\t\treturn \"\\\"+(date.getMonth()+1)+\\\"\";\n\t\t\t\t\tcase \"%y\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getFullYear()%100)+\\\"\";\n\t\t\t\t\tcase \"%Y\":\n\t\t\t\t\t\treturn \"\\\"+date.getFullYear()+\\\"\";\n\t\t\t\t\tcase \"%D\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.day_short[date.getDay()]+\\\"\";\n\t\t\t\t\tcase \"%l\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.day_full[date.getDay()]+\\\"\";\n\t\t\t\t\tcase \"%M\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.month_short[date.getMonth()]+\\\"\";\n\t\t\t\t\tcase \"%F\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.month_full[date.getMonth()]+\\\"\";\n\t\t\t\t\tcase \"%h\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\t\tcase \"%g\":\n\t\t\t\t\t\treturn \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\t\tcase \"%G\":\n\t\t\t\t\t\treturn \"\\\"+date.getHours()+\\\"\";\n\t\t\t\t\tcase \"%H\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getHours())+\\\"\";\n\t\t\t\t\tcase \"%i\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getMinutes())+\\\"\";\n\t\t\t\t\tcase \"%a\":\n\t\t\t\t\t\treturn \"\\\"+(date.getHours()>11?\\\"pm\\\":\\\"am\\\")+\\\"\";\n\t\t\t\t\tcase \"%A\":\n\t\t\t\t\t\treturn \"\\\"+(date.getHours()>11?\\\"PM\\\":\\\"AM\\\")+\\\"\";\n\t\t\t\t\tcase \"%s\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getSeconds())+\\\"\";\n\t\t\t\t\tcase \"%W\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(getISOWeek(date))+\\\"\";\n\t\t\t\t\tcase \"%w\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(getWeek(date))+\\\"\";\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (utc) format = format.replace(/date\\.get/g, \"date.getUTC\");\n\t\t\tvar dateToStr = new Function(\"date\", \"to_fixed\", \"locale\", \"getISOWeek\", \"getWeek\", \"return \\\"\" + format + \"\\\";\");\n\n\t\t\treturn function (date) {\n\t\t\t\treturn dateToStr(date, dateHelper.to_fixed, gantt.locale, dateHelper.getISOWeek, dateHelper.getWeek);\n\t\t\t};\n\t\t},\n\t\tstr_to_date: function (format, utc) {\n\t\t\tvar splt = \"var temp=date.match(/[a-zA-Z]+|[0-9]+/g);\";\n\t\t\tvar mask = format.match(/%[a-zA-Z]/g);\n\t\t\tfor (var i = 0; i < mask.length; i++) {\n\t\t\t\tswitch (mask[i]) {\n\t\t\t\t\tcase \"%j\":\n\t\t\t\t\tcase \"%d\":\n\t\t\t\t\t\tsplt += \"set[2]=temp[\" + i + \"]||1;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%n\":\n\t\t\t\t\tcase \"%m\":\n\t\t\t\t\t\tsplt += \"set[1]=(temp[\" + i + \"]||1)-1;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%y\":\n\t\t\t\t\t\tsplt += \"set[0]=temp[\" + i + \"]*1+(temp[\" + i + \"]>50?1900:2000);\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%g\":\n\t\t\t\t\tcase \"%G\":\n\t\t\t\t\tcase \"%h\":\n\t\t\t\t\tcase \"%H\":\n\t\t\t\t\t\tsplt += \"set[3]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%i\":\n\t\t\t\t\t\tsplt += \"set[4]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%Y\":\n\t\t\t\t\t\tsplt += \"set[0]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%a\":\n\t\t\t\t\tcase \"%A\":\n\t\t\t\t\t\tsplt += \"set[3]=set[3]%12+((temp[\" + i + \"]||'').toLowerCase()=='am'?0:12);\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%s\":\n\t\t\t\t\t\tsplt += \"set[5]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%M\":\n\t\t\t\t\t\tsplt += \"set[1]=locale.date.month_short_hash[temp[\" + i + \"]]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%F\":\n\t\t\t\t\t\tsplt += \"set[1]=locale.date.month_full_hash[temp[\" + i + \"]]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar code = \"set[0],set[1],set[2],set[3],set[4],set[5]\";\n\t\t\tif (utc) code = \" Date.UTC(\" + code + \")\";\n\t\t\tvar strToDate = new Function(\"date\", \"locale\", \"var set=[0,0,1,0,0,0]; \" + splt + \" return new Date(\" + code + \");\");\n\n\t\t\treturn function (dateString) {\n\t\t\t\treturn strToDate(dateString, gantt.locale);\n\t\t\t};\n\t\t},\n\t\tgetISOWeek: function (ndate) {\n\t\t\treturn gantt.date._getWeekNumber(ndate, true);\n\t\t},\n\t\t_getWeekNumber: function(ndate, isoWeek){\n\t\t\tif (!ndate) return false;\n\t\t\tvar nday = ndate.getDay();\n\t\t\tif(isoWeek){\n\t\t\t\tif (nday === 0) {\n\t\t\t\t\tnday = 7;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar first_thursday = new Date(ndate.valueOf());\n\t\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\n\t\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\n\t\t\tvar ordinal_date = Math.round((first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\t\t\tvar week_number = 1 + Math.floor(ordinal_date / 7);\n\t\t\treturn week_number;\n\t\t},\n\n\t\tgetWeek: function(ndate){\n\t\t\treturn gantt.date._getWeekNumber(ndate, gantt.config.start_on_monday);\n\t\t},\n\t\tgetUTCISOWeek: function (ndate) {\n\t\t\treturn gantt.date.getISOWeek(ndate);\n\t\t},\n\t\tconvert_to_utc: function (date) {\n\t\t\treturn new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n\t\t},\n\t\tparseDate: function (date, format) {\n\t\t\t// raw date may be of type string, number (timestamp) or something else\n\t\t\t// do not check for instanceof Date explicitly, since we may swap native date with different date implementation at some point\n\t\t\tif (date && !date.getFullYear) {\n\t\t\t\tif (typeof(format) !== \"function\") {\n\t\t\t\t\tif (typeof(format) === \"string\") {\n\t\t\t\t\t\tif (format === \"parse_date\") {\n\t\t\t\t\t\t\tformat = gantt.templates.parse_date;\n\t\t\t\t\t\t\tif (gantt.defined(gantt.templates.xml_date) && gantt.templates.parse_date !== gantt.templates.xml_date) {\n\t\t\t\t\t\t\t\tformat = gantt.templates.xml_date;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformat = gantt.defined(gantt.templates[format]) ? gantt.templates[format] : gantt.date.str_to_date(format);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tformat = gantt.templates.xml_date !== gantt.templates.parse_date ? gantt.templates.xml_date : gantt.templates.parse_date;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (date) {\n\t\t\t\t\tdate = format(date);\n\t\t\t\t} else {\n\t\t\t\t\tdate = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t}\n\t};\n\treturn dateHelper;\n};","export default function serialize(data: object | string) {\n\tif (typeof data === \"string\" || typeof data === \"number\") {\n\t\treturn data;\n\t}\n\n\tlet result = \"\";\n\n\tfor (const key in data) {\n\t\tlet serialized = \"\";\n\t\tif (data.hasOwnProperty(key)) {\n\t\t\tif (typeof data[key] === \"string\") {\n\t\t\t\tserialized = encodeURIComponent(data[key]);\n\t\t\t} else if (typeof data[key] === \"number\") {\n\t\t\t\tserialized = data[key];\n\t\t\t} else {\n\t\t\t\tserialized = encodeURIComponent(JSON.stringify(data[key]));\n\t\t\t}\n\t\t\tserialized = key + \"=\" + serialized;\n\n\t\t\tif (result.length) {\n\t\t\t\tserialized = \"&\" + serialized;\n\t\t\t}\n\t\t\tresult += serialized;\n\t\t}\n\t}\n\treturn result;\n}\n","var env = require(\"../../utils/env\");\nvar serialize = require(\"./serialize\").default;\n\nfunction createConfig(method, args) {\n\tvar result = {\n\t\tmethod: method\n\t};\n\n\tif (args.length === 0) {\n\t\tthrow new Error(\"Arguments list of query is wrong.\");\n\t}\n\tif (args.length === 1) {\n\t\tif (typeof args[0] === \"string\") {\n\t\t\tresult.url = args[0];\n\t\t\tresult.async = true;\n\t\t} else {\n\t\t\tresult.url = args[0].url;\n\t\t\tresult.async = (args[0].async || true);\n\t\t\tresult.callback = args[0].callback;\n\t\t\tresult.headers = args[0].headers;\n\t\t}\n\t\tif (method === \"POST\" || \"PUT\") {\n\t\t\tif (args[0].data) {\n\t\t\t\tif (typeof args[0].data !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[0].data);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[0].data;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tresult.url = args[0];\n\tswitch(method) {\n\t\tcase \"GET\":\n\t\tcase \"DELETE\":\n\t\t\tresult.callback = args[1];\n\t\t\tresult.headers = args[2];\n\t\tbreak;\n\t\tcase \"POST\":\n\t\tcase \"PUT\":\n\t\t\tif (args[1]) {\n\t\t\t\tif (typeof args[1] !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[1]);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t\tresult.callback = args[2];\n\t\t\tresult.headers = args[3];\n\t\tbreak;\n\t}\n\treturn result;\n}\n\nmodule.exports = function(gantt) {\n\treturn {\n\n\t\t// if false - dhxr param will added to prevent caching on client side (default),\n\t\t// if true - do not add extra params\n\t\tcache: true,\n\n\t\t// default method for load/loadStruct, post/get allowed\n\t\t// get - since 4.1.1, this should fix 412 error for macos safari\n\t\tmethod: \"get\",\n\n\t\tparse: function(data) {\n\t\t\tif (typeof data !== \"string\") return data;\n\n\t\t\tvar obj;\n\t\t\tdata = data.replace(/^[\\s]+/,\"\");\n\t\t\tif (window.DOMParser && !env.isIE) { // ff,ie9\n\t\t\t\tobj = (new window.DOMParser()).parseFromString(data, \"text/xml\");\n\t\t\t} else if (window.ActiveXObject !== window.undefined) {\n\t\t\t\tobj = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tobj.async = \"false\";\n\t\t\t\tobj.loadXML(data);\n\t\t\t}\n\t\t\treturn obj;\n\t\t},\n\t\txmltop: function(tagname, xhr, obj) {\n\t\t\tif (typeof xhr.status == \"undefined\" || xhr.status < 400) {\n\t\t\t\tvar xml = (!xhr.responseXML) ? this.parse(xhr.responseText || xhr) : (xhr.responseXML || xhr);\n\t\t\t\tif (xml && xml.documentElement !== null && !xml.getElementsByTagName(\"parsererror\").length) {\n\t\t\t\t\treturn xml.getElementsByTagName(tagname)[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (obj !== -1) gantt.callEvent(\"onLoadXMLError\",[\"Incorrect XML\", arguments[1], obj]);\n\t\t\treturn document.createElement(\"DIV\");\n\t\t},\n\t\txpath: function(xpathExp, docObj) {\n\t\t\tif (!docObj.nodeName) docObj = docObj.responseXML || docObj;\n\t\t\tif (env.isIE) {\n\t\t\t\treturn docObj.selectNodes(xpathExp)||[];\n\t\t\t} else {\n\t\t\t\tvar rows = [];\n\t\t\t\tvar first;\n\t\t\t\tvar col = (docObj.ownerDocument||docObj).evaluate(xpathExp, docObj, null, XPathResult.ANY_TYPE, null);\n\n\t\t\t\twhile (true){\n\t\t\t\t\tfirst = col.iterateNext();\n\t\t\t\t\tif(first){\n\t\t\t\t\t\trows.push(first);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn rows;\n\t\t\t}\n\t\t},\n\t\tquery: function(config) {\n\t\t\treturn this._call(\n\t\t\t\t(config.method || \"GET\"),\n\t\t\t\tconfig.url,\n\t\t\t\tconfig.data || \"\",\n\t\t\t\t(config.async || true),\n\t\t\t\tconfig.callback,\n\t\t\t\tconfig.headers\n\t\t\t);\n\t\t},\n\t\tget: function(url, onLoad, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tgetSync: function(url, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\tput: function(url, postData, onLoad, headers) {\n\t\t\tvar config = createConfig(\"PUT\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tdel: function(url, onLoad, headers) {\n\t\t\t/**\n\t\t\t * https://tools.ietf.org/html/rfc7231#section-4.3.5\n\t\t\t * A payload within a DELETE request message has no defined semantics;\n\t\t\t * sending a payload body on a DELETE request might cause some existing\n\t\t\t * implementations to reject the request.\n\t\t\t */\n\t\t\tvar config = createConfig(\"DELETE\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpost: function(url, postData, onLoad, headers) {\n\t\t\tif (arguments.length == 1) {\n\t\t\t\tpostData = \"\";\n\t\t\t} else if (arguments.length == 2 && (typeof(postData) == \"function\" || typeof(window[postData]) == \"function\")) {\n\t\t\t\tonLoad = postData;\n\t\t\t\tpostData = \"\";\n\t\t\t}\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpostSync: function(url, postData, headers) {\n\t\t\tpostData = (postData === null ? \"\" : String(postData));\n\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\t_call: function(method, url, postData, async, onLoad, headers) {\n\t\t\treturn new gantt.Promise(function(resolve, reject) {\n\t\t\t\tvar t = (window.XMLHttpRequest && !env.isIE ? new XMLHttpRequest() : new window.ActiveXObject(\"Microsoft.XMLHTTP\"));\n\t\t\t\tvar isQt = (navigator.userAgent.match(/AppleWebKit/) !== null && navigator.userAgent.match(/Qt/) !== null && navigator.userAgent.match(/Safari/) !== null);\n\n\t\t\t\tif (!!async) {\n\t\t\t\t\tt.onreadystatechange = function() {\n\t\t\t\t\t\tif ((t.readyState == 4) || (isQt && t.readyState == 3)) { // what for long response and status 404?\n\t\t\t\t\t\t\tif (t.status != 200 || t.responseText === \"\")\n\t\t\t\t\t\t\t\tif (!gantt.callEvent(\"onAjaxError\", [t])) return;\n\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad.apply(window, [{xmlDoc:t, filePath:url}]); // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresolve(t);\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad = null;\n\t\t\t\t\t\t\t\t\tt = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (method == \"GET\" && !this.cache) {\n\t\t\t\t\turl += (url.indexOf(\"?\")>=0?\"&\":\"?\")+\"dhxr\"+new Date().getTime()+\"=1\";\n\t\t\t\t}\n\n\t\t\t\tt.open(method, url, async);\n\n\t\t\t\tif (headers){\n\t\t\t\t\tfor (var key in headers)\n\t\t\t\t\t\tt.setRequestHeader(key, headers[key]);\n\t\t\t\t} else if (method.toUpperCase() == \"POST\" || method == \"PUT\" || method == \"DELETE\") {\n\t\t\t\t\tt.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\t\t} else if (method == \"GET\") {\n\t\t\t\t\tpostData = null;\n\t\t\t\t}\n\n\t\t\t\tt.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\n\t\t\t\tt.send(postData);\n\n\t\t\t\tif (!async) return {xmlDoc:t, filePath:url}; // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t});\n\t\t},\n\t\turlSeparator: function(str){\n\t\t\tif (str.indexOf(\"?\") != -1)\n\t\t\t\treturn \"&\";\n\t\t\telse\n\t\t\t\treturn \"?\";\n\t\t}\n\t};\n};\n","type DurationUnits = \"minute\" | \"hour\" | \"day\" | \"week\" | \"month\" | \"year\";\ntype Align = \"left\" | \"center\" | \"right\";\ntype SectionType = \"textarea\"\n\t\t\t\t\t| \"time\"\n\t\t\t\t\t| \"duration\"\n\t\t\t\t\t| \"select\"\n\t\t\t\t\t| \"typeselect\"\n\t\t\t\t\t| \"parent\"\n\t\t\t\t\t| \"template\"\n\t\t\t\t\t| \"checkbox\"\n\t\t\t\t\t| \"radio\"\n\t\t\t\t\t| \"resources\"\n\t\t\t\t\t| \"constraint\";\n\ntype LightboxSection = Array<ILightboxSection\n\t| ILightboxTimeAndDurationSection\n\t| ILightboxInputControl\n\t| ILightboxSelectControl\n\t| ILightboxParentControl\n\t| ILightboxTypeselectControl>;\n\ntype LayoutView = \"grid\"\n\t| \"timeline\"\n\t| \"resizer\"\n\t| \"scrollbar\"\n\t| \"resourceGrid\"\n\t| \"resourceTimeline\";\n\ninterface IColumnItem {\n\tname: string;\n\tlabel?: string;\n\ttree?: boolean;\n\talign?: Align;\n\thide?: boolean;\n\tmax_width?: number;\n\tmin_width?: number;\n\tresize?: boolean;\n\ttemplate?: (obj: any) => string;\n\twidth?: number | \"*\";\n}\n\nexport interface IScale {\n\tcss?: () => string;\n\tdate?: string;\n\tstep: number;\n\ttemplate?: (date: Date) => string;\n\tunit: DurationUnits;\n}\n\ninterface ILightboxSection {\n\tname: string;\n\tmap_to: string;\n\ttype: SectionType;\n\theight?: number;\n\tfocus?: boolean;\n}\n\ninterface ILightboxTimeAndDurationSection extends ILightboxSection {\n\treadonly: boolean;\n\tyear_range: number[] | number;\n\tsingle_date: boolean;\n\ttime_format: string;\n}\n\ninterface ILightboxInputControl extends ILightboxSection {\n\tdefault_value?: any;\n\toptions?: Array<{key: string, label: string}>;\n}\n\ninterface ILightboxSelectControl extends ILightboxInputControl {\n\tonchange: () => boolean | undefined;\n}\n\ninterface ILightboxParentControl extends ILightboxSection {\n\tallow_root: boolean;\n\troot_label: string;\n\tsort?: (a: any, b: any) => -1 | 0 | 1;\n\tfilter?: (task: string | number | object) => boolean;\n\ttemplate?: (start: Date, end: Date, ev: object) => string;\n}\n\ninterface ILightboxTypeselectControl extends ILightboxSection {\n\tfilter?: (typeName: string) => boolean;\n}\n\n\ninterface ILayoutScrollbar {\n\tview: \"scrollbar\";\n\tscroll?: \"x\" | \"y\";\n\tid: string;\n\theight?: number;\n\twidth?: number;\n}\n\ninterface ILayoutView {\n\tview: LayoutView;\n\tid?: string;\n\tscrollX?: string;\n\tscrollY?: string;\n\tconfig?: object;\n}\n\ninterface ILayoutGrid extends ILayoutView {\n\tview: \"grid\";\n\tbind?: string;\n}\n\ninterface ILayoutTimeline extends ILayoutView {\n\tview: \"timeline\";\n\tbindLinks?: string;\n\tlayers?: any[];\n}\n\ninterface ILayoutResizer {\n\tview?: undefined;\n\tresizer: boolean;\n\twidth: number;\n}\n\ninterface ILayoutResourceGrid extends ILayoutView {\n\tview: \"resourceGrid\";\n\twidth: number;\n\tgroup: \"string\";\n}\n\ninterface ILayoutResourceTimeline extends ILayoutView {\n\tview: \"resourceTimeline\";\n\twidth: number;\n\tgroup: \"string\";\n}\n\ninterface ILayoutHtml {\n\thtml: string;\n\tcss: string;\n\twidth: number;\n}\n\ntype LayoutRow = ILayoutGrid\n\t| ILayoutTimeline\n\t| ILayoutResizer\n\t| ILayoutResourceGrid\n\t| ILayoutResourceTimeline\n\t| ILayoutHtml\n\t| ILayoutScrollbar\n\t| { cols: LayoutCol[] };\n\ntype LayoutCol = ILayoutGrid\n\t| ILayoutTimeline\n\t| ILayoutResizer\n\t| ILayoutResourceGrid\n\t| ILayoutResourceTimeline\n\t| ILayoutHtml\n\t| ILayoutScrollbar\n\t| { rows: LayoutRow[] };\n\ninterface ILayout {\n\tcss: string;\n\trows?: LayoutRow[];\n\tcols?: LayoutCol[];\n}\n\ninterface IGanttConfig {\n\tlayout: ILayout;\n\tlinks: {\n\t\tfinish_to_start: \"0\";\n\t\tstart_to_start: \"1\";\n\t\tfinish_to_finish: \"2\";\n\t\tstart_to_finish: \"3\";\n\t};\n\ttypes: {\n\t\ttask: string;\n\t\tproject: string;\n\t\tmilestone: string;\n\t};\n\tauto_types: boolean;\n\tduration_unit: DurationUnits;\n\twork_time: boolean;\n\tcorrect_work_time: boolean;\n\tskip_off_time: boolean;\n\tcascade_delete: boolean;\n\tautosize: boolean | string;\n\tautoscroll: boolean;\n\tshow_links: boolean;\n\tshow_task_cells: boolean;\n\tautosize_min_width: number;\n\tautoscroll_speed: number;\n\n\tstatic_background: boolean;\n\tstatic_background_cells: boolean;\n\tbranch_loading: boolean;\n\tbranch_loading_property: string;\n\tshow_loading: boolean;\n\tshow_chart: boolean;\n\tshow_grid: boolean;\n\tmin_duration: number;\n\tdate_format: string; // use instead xml_date\n\txml_date?: string; // deprecated\n\tstart_on_monday: boolean;\n\tserver_utc: boolean;\n\tshow_progress: boolean;\n\tfit_tasks: boolean;\n\tselect_task: boolean;\n\tscroll_on_click: boolean;\n\tsmart_rendering: boolean;\n\tpreserve_scroll: boolean;\n\treadonly: boolean;\n\n\t/*grid */\n\tdate_grid: string;\n\n\tdrag_links: boolean;\n\tdrag_progress: boolean;\n\tdrag_resize: boolean;\n\tdrag_project: boolean;\n\tdrag_move: boolean;\n\tdrag_mode: {\n\t\tresize: \"resize\",\n\t\tprogress: \"progress\",\n\t\tmove: \"move\",\n\t\tignore: \"ignore\"\n\t};\n\tround_dnd_dates: boolean;\n\tlink_wrapper_width: number;\n\troot_id: string | number;\n\n\tautofit: boolean;\n\tcolumns: IColumnItem[];\n\n\t/* scale*/\n\t/* it will be deprecated */\n\tdate_scale?: string;\n\tstep?: number;\n\tscale_unit?: DurationUnits;\n\tsubscales?: IScale[];\n\t/* it will be deprecated end */\n\n\tscales: IScale[];\n\n\tscale_offset_minimal: boolean;\n\n\tinherit_scale_class: boolean;\n\n\n\ttime_step: number;\n\tduration_step: number;\n\n\n\ttask_date: string;\n\ttime_picker: string;\n\ttask_attribute: string;\n\tlink_attribute: string;\n\tlayer_attribute: string;\n\tbuttons_left: string[];\n\t_migrate_buttons: {\n\t\tdhx_save_btn: \"gantt_save_btn\",\n\t\tdhx_cancel_btn: \"gantt_cancel_btn\",\n\t\tdhx_delete_btn: \"gantt_delete_btn\"\n\t};\n\n\tbuttons_right: string[];\n\n\n\tlightbox: {\n\t\tsections?: LightboxSection,\n\t\tproject_sections?: LightboxSection,\n\t\tmilestone_sections?: LightboxSection\n\t};\n\tdrag_lightbox: boolean;\n\tsort: boolean;\n\tdetails_on_create: boolean;\n\tdetails_on_dblclick: boolean;\n\tinitial_scroll: boolean;\n\ttask_scroll_offset: number;\n\n\torder_branch: boolean;\n\torder_branch_free: boolean;\n\n\ttask_height: number | \"full\";\n\tmin_column_width: number;\n\n\t// min width for grid column (when resizing)\n\tmin_grid_column_width: number;\n\t// name of the attribute with column index for resize element\n\tgrid_resizer_column_attribute: string;\n\t// name of the attribute with column index for resize element\n\tgrid_resizer_attribute: string;\n\n\t// grid width can be increased after the column has been resized\n\tkeep_grid_width: boolean;\n\n\t// grid width can be adjusted\n\tgrid_resize: boolean;\n\n\tshow_unscheduled: boolean;\n\treadonly_property: string;\n\teditable_property: string;\n\tcalendar_property: string;\n\tresource_calendars: object;\n\tinherit_calendar: boolean;\n\ttype_renderers: object;\n\n\topen_tree_initially: boolean;\n\toptimize_render: boolean;\n\tprevent_default_scroll: boolean;\n\tshow_errors: boolean;\n\twai_aria_attributes: boolean;\n\tsmart_scales: boolean;\n\trtl: boolean;\n\tplaceholder_task: boolean;\n}\n\nmodule.exports = () => {\n\tconst result: IGanttConfig = {\n\t\tlayout: {\n\t\t\tcss: \"gantt_container\",\n\t\t\trows: [\n\t\t\t\t{\n\t\t\t\t\tcols: [\n\t\t\t\t\t\t{view: \"grid\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{resizer: true, width: 1},\n\t\t\t\t\t\t{view: \"timeline\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{view: \"scrollbar\", id: \"scrollVer\"}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{view: \"scrollbar\", id: \"scrollHor\", height: 20}\n\t\t\t]\n\t\t},\n\t\tlinks: {\n\t\t\tfinish_to_start: \"0\",\n\t\t\tstart_to_start: \"1\",\n\t\t\tfinish_to_finish: \"2\",\n\t\t\tstart_to_finish: \"3\"\n\t\t},\n\t\ttypes: {\n\t\t\ttask: \"task\",\n\t\t\tproject: \"project\",\n\t\t\tmilestone: \"milestone\"\n\t\t},\n\t\tauto_types: false,\n\t\tduration_unit: \"day\",\n\t\twork_time: false,\n\t\tcorrect_work_time: false,\n\t\tskip_off_time: false,\n\n\t\tcascade_delete: true,\n\n\t\tautosize: false,\n\t\tautosize_min_width: 0,\n\t\tautoscroll: true,\n\t\tautoscroll_speed: 30,\n\n\t\tshow_links: true,\n\t\tshow_task_cells: true,\n\t\t// replace backgroung of the task area with a canvas img\n\t\tstatic_background: false,\n\t\tstatic_background_cells: true,\n\t\tbranch_loading: false,\n\t\tbranch_loading_property: \"$has_child\",\n\t\tshow_loading: false,\n\t\tshow_chart: true,\n\t\tshow_grid: true,\n\t\tmin_duration: 60 * 60 * 1000,\n\t\tdate_format: \"%d-%m-%Y %H:%i\", // use instead xml_date\n\t\txml_date: undefined, // \"%d-%m-%Y %H:%i\", // deprecated\n\t\tstart_on_monday: true,\n\t\tserver_utc: false,\n\t\tshow_progress: true,\n\t\tfit_tasks: false,\n\t\tselect_task: true,\n\t\tscroll_on_click: true,\n\t\tsmart_rendering: true,\n\t\tpreserve_scroll: true,\n\t\treadonly: false,\n\n\t\t/*grid */\n\t\tdate_grid: \"%Y-%m-%d\",\n\n\t\tdrag_links: true,\n\t\tdrag_progress: true,\n\t\tdrag_resize: true,\n\t\tdrag_project: false,\n\t\tdrag_move: true,\n\t\tdrag_mode: {\n\t\t\tresize: \"resize\",\n\t\t\tprogress: \"progress\",\n\t\t\tmove: \"move\",\n\t\t\tignore: \"ignore\"\n\t\t},\n\t\tround_dnd_dates: true,\n\t\tlink_wrapper_width: 20,\n\t\troot_id: 0,\n\n\t\tautofit: false, // grid column automatic fit grid_width config\n\t\tcolumns: [\n\t\t\t{name: \"text\", tree: true, width: \"*\", resize: true},\n\t\t\t{name: \"start_date\", align: \"center\", resize: true},\n\t\t\t{name: \"duration\", align: \"center\"},\n\t\t\t{name: \"add\", width: 44}\n\t\t],\n\n\t\t/*scale*/\n\n\t\tscale_offset_minimal: true,\n\t\tinherit_scale_class: false,\n\n\t\tscales: [\n\t\t\t{\n\t\t\t\tunit: \"day\",\n\t\t\t\tstep: 1,\n\t\t\t\tdate: \"%d %M\"\n\t\t\t}\n\t\t],\n// \t\tdate_scale: \"%d %M\",\n\n\t\ttime_step: 60,\n\t\tduration_step: 1,\n\t\ttask_date: \"%d %F %Y\",\n\t\ttime_picker: \"%H:%i\",\n\t\ttask_attribute: \"task_id\",\n\t\tlink_attribute: \"link_id\",\n\t\tlayer_attribute: \"data-layer\",\n\t\tbuttons_left: [\n\t\t\t\"gantt_save_btn\",\n\t\t\t\"gantt_cancel_btn\"\n\t\t],\n\t\t_migrate_buttons: {\n\t\t\tdhx_save_btn: \"gantt_save_btn\",\n\t\t\tdhx_cancel_btn: \"gantt_cancel_btn\",\n\t\t\tdhx_delete_btn: \"gantt_delete_btn\"\n\t\t},\n\t\tbuttons_right: [\n\t\t\t\"gantt_delete_btn\"\n\t\t],\n\t\tlightbox: {\n\t\t\tsections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"time\", type: \"duration\", map_to: \"auto\"}\n\t\t\t],\n\t\t\tproject_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", readonly: true, map_to: \"auto\"}\n\t\t\t],\n\t\t\tmilestone_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", single_date: true, map_to: \"auto\"}\n\t\t\t]\n\t\t},\n\t\tdrag_lightbox: true,\n\t\tsort: false,\n\t\tdetails_on_create: true,\n\t\tdetails_on_dblclick: true,\n\t\tinitial_scroll: true,\n\t\ttask_scroll_offset: 100,\n\n\t\torder_branch: false,\n\t\torder_branch_free: false,\n\n\t\ttask_height: \"full\",// number px of 'full' for row height\n\t\tmin_column_width: 70,\n\n\t\t// min width for grid column (when resizing)\n\t\tmin_grid_column_width: 70,\n\t\t// name of the attribute with column index for resize element\n\t\tgrid_resizer_column_attribute: \"column_index\",\n\t\t// name of the attribute with column index for resize element\n\t\tgrid_resizer_attribute: \"grid_resizer\",\n\n\t\t// grid width can be increased after the column has been resized\n\t\tkeep_grid_width: false,\n\n\t\t// grid width can be adjusted\n\t\tgrid_resize: false,\n\n\t\tshow_unscheduled: true,\n\n\t\t//\n\t\treadonly_property: \"readonly\",\n\t\teditable_property: \"editable\",\n\t\tcalendar_property: \"calendar_id\",\n\t\tresource_calendars: {},\n\t\tinherit_calendar: false,\n\t\ttype_renderers: {},\n\n\t\topen_tree_initially: false,\n\t\toptimize_render: true,\n\t\tprevent_default_scroll: false,\n\t\tshow_errors: true,\n\t\twai_aria_attributes: true,\n\t\tsmart_scales: true,\n\t\trtl:false,\n\t\tplaceholder_task: false\n\t};\n\treturn result;\n};\n","module.exports = function(){\n\tvar services = {};\n\tfunction register (name, getter){\n\t\tservices[name] = getter;\n\t}\n\n\tfunction getService(name){\n\t\tif(!services[name]){\n\t\t\treturn null;\n\t\t}\n\t\treturn services[name]();\n\t}\n\n\tfunction dropService(name) {\n\t\tif (services[name]) {\n\t\t\tdelete services[name];\n\t\t}\n\t}\n\n\tvar servicesEnum = {\n\t\t\"config\": \"config\",\n\t\t\"templates\": \"templates\",\n\t\t\"locale\": \"locale\"\n\t};\n\n\treturn {\n\t\tservices: servicesEnum,\n\t\tsetService: register,\n\t\tgetService: getService,\n\t\tdropService: dropService,\n\t\tconfig: function(){\n\t\t\treturn this.getService(\"config\");\n\t\t},\n\t\ttemplates: function(){\n\t\t\treturn this.getService(\"templates\");\n\t\t},\n\t\tlocale: function(){\n\t\t\treturn this.getService(\"locale\");\n\t\t},\n\t\tdestructor: function(){\n\t\t\tfor(var i in services){\n\t\t\t\tif(services[i]){\n\t\t\t\t\tvar service = services[i];\n\t\t\t\t\tif(service && service.destructor){\n\t\t\t\t\t\tservice.destructor();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tservices = null;\n\t\t}\n\t};\n};\n","module.exports = function(gantt){\n\tgantt.$inject = function(module){\n\t\treturn module(this.$services);\n\t};\n};","module.exports = {\n\tKEY_CODES: {\n\t\tUP: 38,\n\t\tDOWN: 40,\n\t\tLEFT: 37,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tENTER: 13,\n\t\tDELETE: 46,\n\t\tESC: 27,\n\t\tTAB: 9\n\t}\n};","require(\"css/skins/terrace.less\");\n\nfunction DHXGantt(){\n\tthis.constants = require(\"./../constants\");\n\tthis.version = VERSION;\n\tthis.license = LICENSE;\n\tthis.templates = {};\n\tthis.ext = {};\n\tthis.keys = {\n\t\tedit_save: this.constants.KEY_CODES.ENTER,\n\t\tedit_cancel: this.constants.KEY_CODES.ESC\n\t};\n}\n\nmodule.exports = function() {\n\t// use a named constructor to make gantt instance discoverable in heap snapshots\n\tvar gantt = new DHXGantt();\n\n\trequire(\"./common/import\")(gantt);\n\n\tgantt.$services = gantt.$inject(require(\"./common/services\"));\n\tgantt.config = gantt.$inject(require(\"./common/config\"));\n\tgantt.ajax =  require(\"./common/ajax\")(gantt);\n\tgantt.date = require(\"./common/date\")(gantt);\n\tvar dnd = require(\"./common/dnd\")(gantt);\n\tgantt.$services.setService(\"dnd\", function(){return dnd;});\n\n\tgantt.$services.setService(\"config\", function () {\n\t\treturn gantt.config;\n\t});\n\tgantt.$services.setService(\"date\", function () {\n\t\treturn gantt.date;\n\t});\n\tgantt.$services.setService(\"locale\", function () {\n\t\treturn gantt.locale;\n\t});\n\tgantt.$services.setService(\"templates\", function () {\n\t\treturn gantt.templates;\n\t});\n\n\tvar templatesLoader = require(\"./common/templates\")(gantt);\n\tgantt.$services.setService(\"templateLoader\", function () {\n\t\treturn templatesLoader;\n\t});\n\n\tvar eventable = require(\"../utils/eventable\");\n\teventable(gantt);\n\n\tvar StateService = require(\"./common/state\");\n\tvar stateService = new StateService();\n\n\tstateService.registerProvider(\"global\", function () {\n\t\tvar res = {\n\t\t\tmin_date: gantt._min_date,\n\t\t\tmax_date: gantt._max_date,\n\t\t\tselected_task: null\n\t\t};\n\n\t\t// do not throw error if getState called from non-initialized gantt\n\t\tif(gantt.$data && gantt.$data.tasksStore){\n\t\t\tres.selected_task = gantt.$data.tasksStore.getSelectedId();\n\t\t}\n\t\treturn res;\n\t});\n\tgantt.getState = stateService.getState;\n\tgantt.$services.setService(\"state\", function () {\n\t\treturn stateService;\n\t});\n\n\tvar utils = require(\"../utils/utils\");\n\tutils.mixin(gantt, utils);\n\n\tgantt.Promise = require(\"../utils/promise\");\n\tgantt.env = require(\"../utils/env\");\n\n\tvar domHelpers = require(\"../utils/dom_helpers\");\n\tgantt.utils = {\n\t\tdom: {\n\t\t\tgetNodePosition: domHelpers.getNodePosition,\n\t\t\tgetRelativeEventPosition: domHelpers.getRelativeEventPosition,\n\t\t\tisChildOf: domHelpers.isChildOf,\n\t\t\thasClass: domHelpers.hasClass,\n\t\t\tclosest: domHelpers.closest\n\t\t}\n\t};\n\n\tvar domEvents = require(\"../utils/dom_event_scope\")();\n\tgantt.event = domEvents.attach;\n\tgantt.eventRemove = domEvents.detach;\n\tgantt._eventRemoveAll = domEvents.detachAll;\n\tgantt._createDomEventScope = domEvents.extend;\n\n\tutils.mixin(gantt, require(\"./message\")(gantt));\n\tvar uiApi = require(\"./ui/index\").init(gantt);\n\tgantt.$ui = uiApi.factory;\n\tgantt.$ui.layers = uiApi.render;\n\tgantt.$mouseEvents = uiApi.mouseEvents;\n\tgantt.$services.setService(\"mouseEvents\", function () {\n\t\treturn gantt.$mouseEvents;\n\t});\n\tgantt.mixin(gantt, uiApi.layersApi);\n\n\trequire(\"./data_task_layers\")(gantt);\n\n\tgantt.$services.setService(\"layers\", function () {\n\t\treturn uiApi.layersService;\n\t});\n\n\tvar createLayoutFacade = require(\"./facades/layout\");\n\tgantt.mixin(gantt, createLayoutFacade());\n\n\trequire(\"./datastore/datastore_hooks\")(gantt);\n\n\tvar DataProcessor = require(\"./dataprocessor\");\n\tgantt.dataProcessor = DataProcessor.DEPRECATED_api;\n\tgantt.createDataProcessor = DataProcessor.createDataProcessor;\n\n\trequire(\"./plugins\")(gantt);\n\n\trequire(\"./dynamic_loading\")(gantt);\n\trequire(\"./grid_column_api\")(gantt);\n\trequire(\"./wai_aria\")(gantt);\n\trequire(\"./tasks\")(gantt);\n\trequire(\"./load\")(gantt);\n\trequire(\"./worktime/work_time\")(gantt);\n\trequire(\"./data\")(gantt);\n\trequire(\"./lightbox\")(gantt);\n\trequire(\"./lightbox_optional_time\")(gantt);\n\trequire(\"./data_task_types\")(gantt);\n\trequire(\"./cached_functions\")(gantt);\n\trequire(\"./skin\")(gantt);\n\trequire(\"../css/skins/skyblue\")(gantt);\n\trequire(\"../css/skins/meadow\")(gantt);\n\trequire(\"../css/skins/terrace\")(gantt);\n\trequire(\"../css/skins/broadway\")(gantt);\n\trequire(\"../css/skins/material\")(gantt);\n\trequire(\"../css/skins/contrast_black\")(gantt);\n\trequire(\"../css/skins/contrast_white\")(gantt);\n\trequire(\"./touch\")(gantt);\n\trequire(\"../locale\")(gantt);\n\trequire(\"./gantt_core\")(gantt);\n\trequire(\"./destructor\")(gantt);\n\n\treturn gantt;\n};","module.exports = function(gantt){\n\n\t// no deprecated methods for now\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction deprecated(badCode, goodCode, versionDeprecated, versionDeleted) {\n\n\t\tvar formatting = gantt.env.isIE ? \"\" : \"%c\";\n\t\tversionDeprecated = versionDeprecated || \"v6.0\";\n\t\tversionDeleted = versionDeleted || \"v7.0\";\n\n\t\tvar message = [\n\t\t\tformatting, \"\\\"\", badCode, \"\\\"\",  formatting,\n\t\t\t\" has been deprecated in dhtmlxGantt \", versionDeprecated, \" and will stop working in \", versionDeleted,\". Use \",\n\t\t\tformatting, \"\\\"\", goodCode, \"\\\"\",  formatting,\n\t\t\t\" instead. \\nSee more details at http://docs.dhtmlx.com/gantt/migrating.html \"\n\t\t].join(\"\");\n\n\t\tvar log = window.console.warn || window.console.log;\n\n\t\tvar args = [message];\n\t\tif(!gantt.env.isIE){\n\t\t\targs = args.concat([\"font-weight:bold\", \"font-weight:normal\", \"font-weight:bold\", \"font-weight:normal\"]);\n\t\t}\n\n\t\tlog.apply(window.console, args);\n\t}\n\n\t// gantt.getSlack is defined inside an extension, leave it without message for now\n\n};","import * as warnings from \"./core/deprecated_warnings\";\nimport * as base from \"./core/gantt\";\n\n\nconst gantt = (window as any).gantt = base();\nwarnings(gantt);\n\nexport default gantt;\n\nexport { gantt };"],"sourceRoot":""}